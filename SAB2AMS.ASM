; **************************************************************************
;                                                     
;  SABOTRUR II AMSTRAD CPC464/664/6128 COMBO VERSION 
;
;  IMPORTANT: 	This version of saboteur is the combined speccy/amstrad
;		simultaneus development versions. Hangovers are still
;		suspected.
;
;
;  Revision history:	When	Who		Why
;  =========================================================================
;			06MAR87	Maz		Write Character
;			11MAR87	Maz		Keyboard routines
;			18MAR87	Maz		.BYTE () bug fix
;			20MAR87	Maz		Main Game
;			24MAR87	Maz		Hardware configurations (*
;			27MAR87	Maz/Clive	Combo version
;			29MAR87	Maz		Rob's comments
;			31MAR87	Maz		Final Touches
;			02APR87	Maz		Level 3 bug fix
;
;  Very spectrum dependent code is marked SPECCY (dummy macro) with the old
;  code following as a remark.
;  All colour references should be "Hardware colours" - which are NOT in
;  order of grey scale brightness.
;
;  *) This was a tough one!
;
; **************************************************************************
;
	.PROCESSOR Z80
	.ORG 0400H		; WILL ONLY WORK WITH DOWNLOADER @ 40000d
;
.MACRO	SPECCY			; MARKS SPECTRUM DEPENDENT CODE (DUMMY)
.ENDM
;
.DEFINE BUFFD  = 0400H
.DEFINE BUFFB  = BUFFD+576
.DEFINE BUFFO  = BUFFB+576
.DEFINE BUFFN  = BUFFO+576
.DEFINE BUFG1  = BUFFN+576
.DEFINE BUFG2  = BUFG1+576
.DEFINE REFBF  = 0C600H		; REFLECTION TABLE (SCREEN OUTLET #0)
.DEFINE EXPTAB = 0CE00H		; EXPANSION TABLE (SCREEN OUTLET #1)
.DEFINE NCHRS  = 09D00H		; "NINJA GRAPHICS"
.DEFINE MUSIC  = 0B000H
.DEFINE MUPDAT = 0B003H
.DEFINE XMUSIC = 0B006H		; MUSIC ON,UPDATE AND TURNOFF
.DEFINE	CONTRL = 40000 
;
; SETUP THINGS HERE:
;
SABII:	DI			; DO SOME RELOCATION STUFF:
	LD	HL,0C000H	; THIS IS THE NINJA GRAPHICS
	LD	DE,NCHRS
	LD	BC,1808
	LDIR
	LD	HL,0C800H	; THIS IS THE MUSIC CODE
	LD	DE,0B000H
	LD	BC,00A00H
	LDIR
	CALL	MUSIC		; TURN ON
	LD	A,0C3H		; OPCODE JP
 	LD 	(038H),A	; RST 7 (INT VECTOR)
 	LD 	HL,SERVER
 	LD	(039H),HL	; GRAB HERE
	LD	HL,INTFLG
	SET	0,(HL)		; SOFTWARE DISABLE INT'S
 	IM1
	LD	SP,0BFFFH
SHRINK:	LD	BC,0BC00H	; PORTS FOR 6845 CTRC DEVICE
	LD	HL,REAGAN
SHRLOP:	LD	A,(HL)
	OR	A
	JR	Z,SHREXT
	OUT	(C),A
	LD	A,B
	XOR	1
	LD	B,A
	INC	HL
	JR	SHRLOP
REAGAN:	.BYTE	1,32,2,42,6,24
	.BYTE	7,31,5,3,0	; POKE THESE (REGISTER,VALUE)	
SHREXT:	CALL	INITAB
	LD	A,1
	CALL	SETMDE
	LD	A,20			; BLACK HW COLOUR
	CALL	SETBDR
	CALL	INKS1
	LD	A,(CONTRL)
	RRA
	JR	NC,NOGREN
	LD	A,29			; SUBSTITUTE DARK BLUE WITH MAUVE
	LD	(ACOLS),A
	LD	(BCOLS),A
	LD	(CCOLS),A
	LD	(DCOLS),A
	LD	(INK1T),A
NOGREN:	LD	A,(CONTRL)
	RRA
	RRA
	JP	C,SKIPCO
	LD 	HL,COPYRIGHT
	LD 	DE,04000H
	LD 	C,0
	CALL 	PRINT
	LD	DE,04800H
	CALL	PRINT
	LD	DE,05000H
	CALL 	PRINT
	CALL 	RDCH
SKIPCO:	CALL	CLRSCR
	LD 	C,128
	LD 	B,0
	LD 	HL,REFBF	; SET UP REFLECTION TABLE
REFLP: 	LD 	D,8
	LD 	E,C
REFL2: 	RR 	E
	RL 	A
	DEC 	D
	JR 	NZ,REFL2
	LD 	(HL),A
	INC 	HL
	INC 	C
	DJNZ 	REFLP
	LD 	A,R		; RANDOM HISCORETABLE
	AND 	7
	JR 	Z,RODDD		; KEEP THE ONE WE'WE GOT
	LD 	HL,TABL2-255
FELCH: 	INC 	H		; ELSE FIND NEW (CLIVE'S PSEUDO-PAGE SYSTEM)
	DEC 	HL
	DEC 	A
	JR 	NZ,FELCH
	LD 	DE,TABLE
	LD 	BC,255
	LDIR
RODDD:	EI
	JP 	OUTBF
;
TABL2: .TEXT "001150 THE CAT   "
       .TEXT "000140A BAKER    "
       .TEXT "000130MELLE MELL "
       .TEXT "000120GM FLASH   "
       .TEXT "000110ROXANNE    "
       .TEXT "000100TOMMY BOY  "
       .TEXT "000090RUN DMC    "
       .TEXT "000080CAPT  ROCK "
       .TEXT "000070H HANCOCK  "
       .TEXT "000060MANTRONIX  "
       .TEXT "000050G KRANZ    "
       .TEXT "000040HASHIM     "
       .TEXT "000030JAZZY JAY  "
       .TEXT "000020WRECKIN CRU"
       .TEXT "000010SHANNON    "
TABL4: .TEXT "000150BC082377351"
       .TEXT "0001407 80154 2  "		; BEAT STREET
       .TEXT "000130823 696 2  "		; ELECTRIC BOOGALOO
       .TEXT "000120CDMK 71/72 "		; STREETWAVE
       .TEXT "000110CDP 7460422"		; DURAN DURAN
       .TEXT "000100CD MUTEL 1 "		; DEPECHE MODE
       .TEXT "000090CDEPC 26420"		; DEAD OR ALIVE
       .TEXT "000080825 354 2  "		; 17 SECONDS
       .TEXT "000070CDP746002 2"		; DAVID BOWIE
       .TEXT "000060827231 210 "		; THE HEAD ON THE DOOR
       .TEXT "000050CDP 7463422"		; SIGUE SIGUE SPUTNIK
       .TEXT "000040CDCBS 70246"		; FOOTLOOSE
       .TEXT "000030OSVCD 21653"		; ROCKY HORROR PICTURE SHOW
       .TEXT "000020610 390 222"		; ULTRAVOX
       .TEXT "000010CDEPC 85930"		; THRILLER
TABL5: .TEXT "000150 CLIVE     "
       .TEXT "000140MAZ        "
       .TEXT "000130NICK 205GTI"
       .TEXT "000120ROB EL BOSS"
       .TEXT "000110RODERICK   "
       .TEXT "000100ROCKET RON "
       .TEXT "000090TIM LE ART "
       .TEXT "000080MIKE ! JANE"
       .TEXT "000070MIKE EH    "
       .TEXT "000060TIM HINE   "
       .TEXT "000050ANGIE      "
       .TEXT "000040SLO JO     "
       .TEXT "000030JULIAN TOAD"
       .TEXT "000020THE CLEANER"
       .TEXT "000010SIMON      "
TABL6: .TEXT "000150 CLIVE     "
       .TEXT "000140NINJA      "
       .TEXT "000130RICH       "
       .TEXT "000120DAVE ARMS  "
       .TEXT "000110TREVOR     "
       .TEXT "000100HELOISE    "
       .TEXT "000090TOM        "
       .TEXT "000080OWEN       "
       .TEXT "000070PHILL      "
       .TEXT "000060CAROLINE   "
       .TEXT "000050HELEN P    "
       .TEXT "000040FRAN       "
       .TEXT "000030STEVE H    "
       .TEXT "000020ZONK       "
       .TEXT "000010BIN BOY BEN"
TABL7: .TEXT "000250BRAD AUSTIN"
       .TEXT "000240RICH       "
       .TEXT "000130QUANGO     "
       .TEXT "000120CAPTIN FLAB"
       .TEXT "000110KEV        "
       .TEXT "000100RODNEY     "
       .TEXT "000090STEVE T    "
       .TEXT "000080GEOFF P    "
       .TEXT "000070ROBIN C    "
       .TEXT "000060VAL        "
       .TEXT "000050LINDA      "
       .TEXT "000040PENNY      "
       .TEXT "000030MICK       "
       .TEXT "000020CHRIS      "
       .TEXT "000010HOLLY      "
TABL8: .TEXT "000150 DURELL    "
       .TEXT "000140 DURELL    "
       .TEXT "000130 DURELL    "
       .TEXT "000120 DURELL    "
       .TEXT "000110 DURELL    "
       .TEXT "000100 DURELL    "
       .TEXT "000090 DURELL    "
       .TEXT "000080 DURELL    "
       .TEXT "000070 DURELL    "
       .TEXT "000060 DURELL    "
       .TEXT "000050 DURELL    "
       .TEXT "000040 DURELL    "
       .TEXT "000030 DURELL    "
       .TEXT "000020 DURELL    "
       .TEXT "000010 DURELL    "
TABL9: .TEXT "000150 5 ALIVE   "
       .TEXT "000140KATO       "
       .TEXT "000130DOUGAL     "
       .TEXT "000120EMPEROR    "
       .TEXT "000110DYNAMO     "
       .TEXT "000100WHIZ       "
       .TEXT "000090GAFF DOSSER"
       .TEXT "000080TOZZY      "
       .TEXT "000070SPIDER     "
       .TEXT "000060CRAZY J    "
       .TEXT "000050DIDDY YELLA"
       .TEXT "000040CUSTARD    "
       .TEXT "000030BODKINS    "
       .TEXT "000020KIER       "
       .TEXT "000010SHADOW     "
;
; NOTE: "(" IS A POUND SIGN ("`")
;
COPYRIGHT:	.BYTE 2
		.TEXT "          (100 REWARD           "
.BYTE 1
		.TEXT " If your copy  of this game does"
		.TEXT "not  have  a blue  cassette body"
		.TEXT "with DURELL  embossed on it, and"
		.TEXT "does not have DURELL on the lead"
		.TEXT "in strip then it is a forgery.  "
		.TEXT " Please send any forgeries to   "
.BYTE 2
		.TEXT "       DURELL SOFTWARE Ltd.     "
.BYTE 2
		.TEXT "        Castle Lodge            "
		.TEXT "         Castle Green           "
		.TEXT "          TAUNTON               "
		.TEXT "          TA1 4AB               "
		.TEXT "          Somerset              "
		.TEXT "          ENGLAND               "
.BYTE 3
		.TEXT "     with your name and address,"
		.TEXT "and the name and address  of the"
		.TEXT "person  who  supplied  you  with"
		.TEXT "the forgery.                    "
		.TEXT "      You will be sent a genuine"
		.TEXT "replacement copy and a reward of"
		.TEXT "(100  if your information  leads"
		.TEXT "    to a successful prosecution."
		.TEXT "                                "
.BYTE 1
		.TEXT "   PRESS ANY KEY TO CONTINUE    "
;
; NOW INITIALISE AMSTRAD SCREEN EXPANSION TABLE (0200H BYTES)
; USAGE: WITH A=BYTE TO EXPAND,
;
;  LD  H,.UBYTE EXPTAB
;  LD  L,A
;  LD  E,A
;  INC H
;  LD  D,A
;
; AND DE IS THE COLOUR 11B 16-BIT EQUIVALENT OF THE OLD BYTE
;
INITAB: LD	HL,EXPTAB
EXPL1:	LD	A,L		; GET CURRENT LOW-BYTE
	AND	0F0H		; GET HI NIBBLE
	LD	C,A
	RRCA			; EXPAND IT
	RRCA
	RRCA
	RRCA
	OR	C		; MAKE IT COLOUR 11B
	LD	(HL),A		; INTO TABLE
	INC	H
	LD	A,L		; DO THE SAME WITH THE
	AND	0FH		; LOW NIBBLE
	LD	C,A
	RLCA
	RLCA
	RLCA
	RLCA
	OR	C
	LD	(HL),A
	DEC	H		; BACK TO FRONT AGAIN
	INC	L		; NEXT VALUE (EXELLENT VALUE)
	JR	NZ,EXPL1	; ALL 100H BYTES (@2PGS)
	RET
;
.IF	.<BUFFD+3456
	.BYTE	0FFH	(BUFFD+3456-.)	; REPLACES OLD REORIGIN DIRECTIVE
.ENDIF
;
; THIS IS THE FIRST BYTE OF THE PROGRAM WHICH WILL ACTUALLY STAY AS IS.
;
	.BYTE 0
BUMER:	.TEXT "PRESS ANY KEY TO CONTINUE"

;	MISSIONS

MIZB1:	.TEXT "RIN  999  STRENGTH OF MIND AND BODY   00"
.BYTE 0,0,255,255
MIZB2:	.TEXT "KYO  901     DIRECTION OF ENERGY      00"
.BYTE 0,0,255,254
MIZB3:	.TEXT "TOH  801   HARMONY WITH THE UNIVERSE  0"
AARGH1: .TEXT "2"
.BYTE 2,0,255,255
MIZB4:	.TEXT "SHA  751  HEALING OF SELF AND OTHERS  0"
AARGH2: .TEXT "5"
.BYTE 5,0,238,255
MIZB5:	.TEXT "KAI  701    PREMONITION OF DANGER     07"
.BYTE 7,0,238,255
MIZB6:	.TEXT "JIN  651KNOWING THE THOUGHTS OF OTHERS09"
.BYTE 9,1,238,255
MIZB7:	.TEXT "RETSU601  MASTERY OF TIME AND SPACE   11"
.BYTE 11,1,255,254
MIZB8:	.TEXT "ZAI  551 CONTROL OF NATURES ELEMENTS  14"
.BYTE 14,1,255,255
MIZB9:	.TEXT "ZEN  501        ENLIGHTENMENT         14"
.BYTE 14,1,238,255
MISNM:	.ADDR MIZB1,MIZB2,MIZB3,MIZB4,MIZB5,MIZB6,MIZB7,MIZB8,MIZB9
BRFM1:	.BYTE 1
	.TEXT "MISSION   BRIEFINGLEVEL 1"
BRFM2:	.TEXT "KILL ENEMY GUARDSESCAPE FROM BUILDING VIA TUNNELS"
	.BYTE 34,35
	.TEXT "GOOD LUCK ON YOUR MISSIONPREPARE TO BEGIN"
MSNNM:	.TEXT "MISSION NAME ' "
PTMES:	.TEXT "COLLECT XX PIECES OF PAPER TAPE"
STMES:	.TEXT "INSERT TAPE IN MISSILE CONSOLE"
FNMES:	.TEXT "DISABLE ELECTRIFIED FENCE"
BKMES:	.TEXT "SMASH THROUGH FENCE ON MOTORBIKE"
LVPTR:	.ADDR 00
;
; AMMENDED PRINT CHARACTER ROUTINE:
;
; ON ENTRY;
;  DE = DF ADDR
;  HL = POINTS TO TEXT
;  C  = LENGTH
; ON EXIT;
;  DE = DF ADDR POS. AFTER LAST PRINTED CHARACTER
;  HL = ADDR OF TEXT AFTER C CHARACTERS (IE. PREV. HL + C)
;  C  = 0, ALL OTHER UNDEFINED (SAVES HASTLE) :-)
;
; THE SPECCY SCREEN ADDRESS IS RECALCULATED TO SAVE HASTLE.
;
PRINT:	PUSH	DE
	PUSH	HL
	LD	H,0
	LD	L,C
	RR	D
	RR	D
	RR	D
	ADD	HL,DE
	RL	H
	RL	H
	RL	H	
	LD	(NXTDFP),HL
	POP	HL
	POP	DE
	PUSH	HL
	PUSH	BC	; SAVE AND PREPARE FOR RECALC
;	LD	A,0FFH
;	LD	(TXTCOL),A	; MAKE SURE PRINTING IS IN COLOUR 3
	LD	H,0
	LD	A,E
	ADD	A,A	; THIS IS NEW X
	RL	H	; FLING IN THE BIT HERE. (REST CHAR. POS.)
	LD	L,A
	LD	A,D
	AND	018H	; TWO LAST BITS OF REST OF ROW
	RRCA
	RRCA
	OR	0C0H	; AMSTRAD DF START
	OR	H	
	LD	H,A	; PLUS THE LAST BIT
	POP	BC	
	POP	DE	; HL IS NOW AMSTRAD DF ADDR
	EX	DE,HL
MAZL1:	LD 	A,(HL)	; GRAB A CHAR
	CP	4
	JR	NC,NORMCH	; CHECK FOR CONTROL CHARACTER
	LD	B,A
	XOR	A
	RR	B
	JR	NC,LNYBBL
	OR	00FH
LNYBBL:	RR	B
	JR	NC,ALRZER
	OR	0F0H
ALRZER:	LD	(TXTCOL),A
	INC	HL
	JR	MAZL1
NORMCH: CP	060H
	JR	C,UPPERC
	SUB	020H	; MAKE IT U.C.
UPPERC:	PUSH 	HL	; SAVE TEXT POS
	LD 	H,0
	ADD	A,A
	LD 	L,A
	ADD 	HL,HL
	ADD	HL,HL	; *8 FOR EACH CHAR
	PUSH 	DE	; SAVE DF ADDR
	LD 	DE,CHARSET-0100H	; THIS IS ONE OF CLIVE'S S.M.C.'S
	ADD 	HL,DE	; OFFSET 
	POP 	DE
	PUSH 	DE
	LD 	B,8	; DO 8 LINES
NBYTE: 	PUSH 	BC
	PUSH	HL
	LD	L,(HL)
	LD	H,.UBYTE EXPTAB
	LD	A,(HL)
	INC	H
	LD	B,(HL)
	LD	HL,TXTCOL
	AND	(HL)		; MAKE IT RIGHT COLOUR
	LD	(DE),A
	INC	E
	LD	A,B
	AND	(HL)
	LD	(DE),A
	DEC	E
	POP	HL
	POP	BC
	INC 	HL	; NEXT GRAPHIC BYTE TO BE TRANSLATED
	LD	A,D
	ADD	A,8	; THIS GOES DOWN ONE SINGLE PIXEL ROW
	LD	D,A	; NEXT PIXEL ROW
	DJNZ 	NBYTE	; 8 (16 ACTUALLY) BYTES ON-SCREEN
	POP	DE	; DF_ADDR BACK - SAVES HASTLE
PRIND: 	LD 	HL,2	; NEXT CHAR POS (THIS IS ONE OF CLIVE'S S.M.C.'S)
	ADD 	HL,DE
	EX 	DE,HL	; DE IS NEXT DF ADDR
	POP 	HL	; CHARACTER PTR
	INC 	HL	; NEXT 
	DEC 	C	; STILL CNTR
	JR	NZ,MAZL1
	LD	DE,(NXTDFP)
	RET
;
PMASKX:	.BYTE	0FFH,000H ; VALS WHICH ARE AND'ED AND XOR'ED BEFORE PRINT
TXTCOL: .BYTE   0FFH		
NXTDFP: .WORD	000H
;
OUTBF: 	CALL	INITHI
	JP	CLAW1

MASKT:	.BYTE 63,60,56,56,49,48,48,48,35,32,32,32,33,32,32,32,7,4,0,0,1,0
;150
.BYTE	0,0,3,0,0,0,1,0,0,0,15,12,8,8,1,0,0,0,3,0,0,0,1,0,0,0,7,4,0,0,1,0
;182
.BYTE	0,0,3,0,0,0,1,0,0,0,31,28,24,24,17,16,16,16,3,0,0,0,1,0,0,0,7,4,0
;211
.BYTE	0,1,0,0,0,3,0,0,0,1,0,0,0,15,12,8,8,1,0,0,0,3,0,0,0,1,0,0,0,7,4,0
;243
.BYTE	0,1,0,0,0,3,0,0,0,1,0,0,0,255,252,248,248,241,240,240,240,227,224
;10
.BYTE	224,224,225,224,224,224,199,196,192,192,193,192,192,192,195,192
;26
.BYTE	192,192,193,192,192,192,143,140,136,136,129,128,128,128,131,128
;42
.BYTE	128,128,129,128,128,128,135,132,128,128,129,128,128,128,131,128,128,128
;60
.BYTE	129,128,128,128,31,28,24,24,17,16,16,16,3,0,0,0,1,0,0,0,7,4,0,0,1,0
;86
.BYTE	0,0,3,0,0,0,1,0,0,0,15,12,8,8,1,0,0,0,3,0,0,0,1,0,0,0,7,4,0,0,1,0,0
;119
.BYTE	0,3,0,0,0,1,0,0,0
START:
XOR A
LD E,20
CALL SETINK
CALL CLRSCR
LD HL,BRFM1
LD DE,16391
LD C,18
CALL PRINT
LD A,(MSLEV)	;	SKILL LEVEL		*
ADD A,48	;				*
LD (BRFM1+25),A	;				*
LD DE,16460	;				*
LD C,7		;				*
CALL PRINT	;				*
LD DE,16519
LD HL,MSNNM
LD C,15
CALL PRINT
LD A,(MSLEV)	;	SKILL LEVEL
ADD A,A
LD L,A
LD H,0
LD BC,MISNM-2
ADD HL,BC
LD A,(HL)
INC HL
LD H,(HL)
LD L,A
LD C,5
CALL PRINT
LD DE,TIME1
LD BC,3
LDIR
LD DE,16545
LD C,30
CALL PRINT
;HL IS DATA POINTER
	LD A,(HL)
	LD (PTMES+8),A
	INC HL
	LD A,(HL)
	LD (PTMES+9),A
LD (LVPTR),HL
	PUSH HL
	POP IX
	LD A,(IX+1)
	LD (NTPND),A
	OR A
	JR Z,NPTMS
	LD HL,PTMES
	LD DE,18432
	LD C,31
	CALL PRINT
NPTMS:	LD A,(IX+4)
	LD (BIKER),A
	INC A
	LD A,255
	JR NZ,NBKMS
	LD HL,BKMES
	LD DE,18560
	LD C,32
	CALL PRINT
	LD A,1
NBKMS:	LD (DRFNT+1),A
	LD A,(IX+2)
	LD (CONQU),A;				*
	OR A
	JR Z,NSTMS
	LD HL,STMES
	LD DE,18465
	LD C,30
	CALL PRINT
NSTMS:	LD A,(IX+3)
	LD (FENRM+1),A
	INC A
	JR Z,NFNMS
	LD HL,FNMES
	LD DE,18499
	LD C,25
	CALL PRINT
NFNMS:	LD HL,BRFM2
	LD DE,16615
	LD C,17
	CALL PRINT
LD DE,18528
LD C,32
CALL PRINT
LD DE,16544
LD C,1
CALL PRINT
INC C
LD DE,16575
CALL PRINT
LD DE,20483
LD C,25
CALL PRINT
LD DE,20552
LD C,16
CALL PRINT
LD HL,BUMER
LD DE,20707
LD C,25
CALL PRINT
CALL KPASE
CALL PAWS0

	LD	HL,INTFLG
	RES	0,(HL)
;
; THIS IS WHERE THE ACTUAL GAME STARTS
;
.DEFINE STAQQ=5
KAFR1: LD B,STANO
LD DE,NROBT+4
LD HL,NROBT+4+STAQQ
RSETS: PUSH BC
LD BC,STAQQ
LDIR
LD BC,STAQQ+4
ADD HL,BC
EX DE,HL
ADD HL,BC
EX DE,HL
POP BC
DJNZ RSETS
;
	EXX
	LD DE,0C480H
	LD H,.UBYTE EXPTAB
	EXX
	LD DE,PANDA
LPPA1: 	LD A,(DE)
	INC DE
	LD L,A
	INC A
	JP Z,NDPAN
	LD H,0
	PUSH DE
	LD D,H
	LD E,L
	ADD HL,HL
	ADD HL,HL
	ADD HL,HL
	ADD HL,DE
	LD DE,PANCR
	ADD HL,DE
	POP DE
	LD C,1
	CP 17		; CHECK FOR REPEAT CHAR
	JR C,LPPA3
	LD A,(DE)
	LD C,A		; REPEAT C TIMES
	INC DE
LPPA3: 	PUSH HL
	PUSH DE
	LD DE,8
	ADD HL,DE
	LD A,(HL)	; THIS IS THE COLOUR
	SBC HL,DE
	POP DE
	EXX
	PUSH DE
	LD (PCO),A
	AND 7		; INK
	JR Z,QBLACK
	CP 2
	JR Z,QRED
	DEC A
	JR Z,QRED
	LD A,1		; GREEN/YELLOW CAN BE SWOPPED HERE...
	JR QRED
PCO:	.BYTE	0	; PANEL COLOUR
QBLACK:	LD A,3	
QRED:	LD C,A		; REARRANGE COLOUR TO AMSTRAD
	XOR A
	RR C
	JR NC,QRRC1
	OR 0FH
QRRC1:	RR C
	JR NC,QRRC2
	OR 0F0H
QRRC2:	LD B,A		; B IS FOREGROUND COLOUR MASK
	LD A,(PCO)	; COLOUR BYTE
	RRCA
	RRCA
	RRCA
	AND 7		; INK
	JR Z,OBLACK
	CP 2
	JR Z,ORED
	DEC A
	JR Z,ORED
	LD A,1		; GREEN/YELLOW CAN BE SWOPPED HERE...
	JR ORED
OBLACK:	LD A,3	
ORED:	LD C,A		; REARRANGE COLOUR TO AMSTRAD
	XOR A
	RR C
	JR NC,ORRC1
	OR 0FH
ORRC1:	RR C
	JR NC,ORRC2
	OR 0F0H
ORRC2:	LD C,A		; C IS BACKGROUND COLOUR MASK
	EXX
	LD B,8
LPPA2: 	LD A,(HL)
	INC HL
	EXX
	LD L,A
	LD A,(HL)
	AND B
	PUSH DE
	LD E,A
	LD A,(HL)
	CPL
	AND C
	OR E
	POP DE
	LD (DE),A
	INC H
	INC E
	LD A,(HL)
	AND B
	PUSH DE
	LD E,A
	LD A,(HL)
	CPL
	AND C
	OR E
	POP DE
	LD (DE),A
	DEC E
	DEC H
	LD A,D
	ADD A,8
	LD D,A
	EXX
	DJNZ LPPA2 ; DO 8 BYTES
	EXX
	POP DE
	INC DE
	INC DE ; NEXT CHAR POS
	EXX
	POP HL
	DEC C
	JP NZ,LPPA3
	JP LPPA1
;
CONQU: .BYTE 0
PANDA: .BYTE 8,17,4,14,17,14,14,17,5,14,17,4,9,12,18,4,12,18,14
.BYTE 12,0,1,1,1,2,12,18,4,12,12,18,4,12,18,14,12,3,18,3,4,12,18,4
.BYTE 12,12,18,4,12,19,14,12,5,6,6,6,7,12,18,4,12,12,18,4,12,19,14
.BYTE 12,18,5,12,18,4,12,10,17,4,15,17,14,15,17,5,15,17,4,11
.BYTE 255
PANCR: .BYTE 0,15,16,39,72,80,80,80,15
.BYTE 0,255,0,255,0,0,0,0,15
.BYTE 0,240,8,228,18,10,10,10,15
.BYTE 80,80,80,80,80,80,80,80,15
.BYTE 10,10,10,10,10,10,10,10,15
.BYTE 80,80,80,72,39,16,15,0,15
.BYTE 0,0,0,0,255,0,255,0,15
.BYTE 10,10,10,18,228,8,240,0,15
.BYTE 0,18,13,219,50,41,36,32,2
.BYTE 0,48,64,70,200,176,158,40,2
.BYTE 16,25,241,51,47,66,66,4,2
.BYTE 30,40,152,216,100,68,34,32,2
.BYTE 16,62,72,8,16,124,18,48,2
.BYTE 8,42,28,176,224,146,76,24,2
.BYTE 0,34,36,71,204,106,146,16,2
.BYTE 16,85,93,43,226,34,68,0,2
.BYTE 16,30,56,143,18,4,120,12,2
.BYTE 0,33,34,250,23,18,34,0,2
.BYTE 0,0,0,0,0,0,0,0,15
.BYTE 255,255,255,255,255,255,255,255,10
PANMS: 	.BYTE 2
	.TEXT "HELDTIMERNEAR"
PENGE:	.BYTE 1,32
MONEY:	.TEXT "PAY $0000000 "
NAME:  	.TEXT "XXXXXXXXXXX"
NDPAN: 	LD HL,(LVPTR) ; (ENTER HERE FROM START SUBPROGRAM AS SUB-SUBPROGRAM)
INC HL
LD A,(HL)
OR A
JR Z,NLPTM	;	JUMP IF NO TAPE NEEDED
ADD A,133	;	CALCULATE ATTR POS OF GREEN TAPE PIECE
LD L,A
LD H,90
; LD (HL),12	;	PUT ATTR ON SCREEN
AAARGH:
NOP
NOP
NLPTM:	LD HL,MONEY+5
LD B,6
MONL1: LD (HL),48
INC HL
DJNZ MONL1
LD HL,PANMS
LD DE,20673
LD C,4
CALL PRINT
LD DE,20693
LD C,5
CALL PRINT
LD DE,20699
LD C,4
CALL PRINT
LD DE,20582
LD C,14
CALL PRINT
LD A,14
LD (NRGCR+1),A
LD A,7
LD (MAND),A
LD A,38
LD (MANA),A
LD HL,262
LD (MANPS),HL
LD A,17
LD (RMAC),A
LD HL,20613
LD (PTSPS),HL
XOR A
LD (DEFGH),A
LD (TAPCT),A	;			PAPER TAPES CARRIED TOTAL
LD (TAPTT),A
LD (BIKMR),A
LD (ELECU),A
LD (NJCOL+1),A
LD (DEAD),A
LD (RMDN),A
LD HL,INITSTA
LD (NERST),HL
LD HL,GLINC
LD (CHARN+1),HL
LD HL,GLIDERP
LD (VECTN+1),HL
LD (SPEED),A
LD (DIR),A
LD (COLRD),A
LD HL,MAP-15
LD (RM+1),HL
INC A
LD (NRGPX+1),A
LD (DECEN+1),A
LD (HELD),A
LD (NEAR),A
LD (JUMP),A
LD (TIME2),A
	LD HL,TRACK1+11
	LD DE,12
	LD B,GDQ
GRDIN:	LD A,(HL)
	CP 5
	JR NZ,NDGIT
	LD (HL),0    
NDGIT:	CP 6
	JR NZ,NDGIN
	LD (HL),1
NDGIN:	ADD HL,DE
	DJNZ GRDIN
	CALL HLDOD
INISC:	LD	A,12
	LD	(BCOLS+1),A
	LD	(CCOLS+1),A
	LD	(DCOLS+1),A
	LD	A,18
	LD	(BCOLS+2),A
	LD	(CCOLS+2),A
	LD	(DCOLS+2),A
	LD A,5
	LD (GDNRG),A
	LD A,3
	LD (RMTIME),A
	XOR A
	LD (TVSWT),A
	LD A,(BIKER)
	INC A
	JR NZ,NBMSP
	LD A,(RMDN)
	CP 19
	JR NZ,NBMSP
	LD HL,BIKMR
	XOR A
	CP (HL)
	JR NZ,NBMSP
	LD (HL),1
	LD DE,20582
	LD HL,BIKAM
	LD C,14
	CALL PRINT
NBMSP:	LD B,6
	LD HL,MISL1
	LD DE,7
MSINI:	LD (HL),0
	ADD HL,DE
	DJNZ MSINI
LD A,(RMAC)
DEC A
LD A,1
JR NZ,JIRRT
DRFNT:	LD A,1
JIRRT:	LD (DRFNQ),A
XOR A
LD (LETNO),A
CALL BUFCL
CALL BUFC2
LD HL,BUFFB
LD DE,BUFFB+1
LD BC,576
LD (HL),0
LDIR
LD (HL),255
LD BC,575
LDIR
LD HL,BUFFD
LD DE,BUFFD+1
LD BC,575
LD (HL),1
LDIR
RM: LD HL,00000
LD A,(RMDN)
OR A
JR Z,NTPRW
LD A,(HL)
NTPRW:	LD L,A
LD H,0
ADD HL,HL
LD DE,RMS
ADD HL,DE
LD A,(HL)
INC HL
LD H,(HL)
LD L,A
NXRUT: LD A,(HL)
INC A
JP Z,RMDUN
INC HL
PUSH HL
LD L,A
LD H,0
ADD HL,HL
LD DE,ROUTS-2
ADD HL,DE
LD A,(HL)
INC HL
LD H,(HL)
LD L,A
JP (HL)
BAKWD: POP HL
INC HL
JR NXRUT
RETRT: JP BAKWD
ROUTS:	.ADDR HORLN,VERLN,BLOCK,FILLB,ONECR,RKTTP,DIAGR,DIAGL
	.ADDR LADSK,ROCKS,DIBL1,DIBL2,DIBL3,DIBL4,LADTN,TLDTN
	.ADDR CUPB2,LFTPF,TREEF,MOON,LFFN1,RTFN1,LFFN2,RTFN2
	.ADDR LEFEX,RITEX,REDOF,REDON,LFTRE,RADIA,RADLD,HIDLD
	.ADDR RTTRE,GRLAD,LETR1,LETR2,LETR3,BOX1P,FDESK,DOORP
	.ADDR SHELP,SHE2P,BARBK,CANIS,BARB2,BARB3,LEVEL,CUPBP
	.ADDR BARFR,BARF2,WNDOP,DESKP,DESK2,CUPB3,CUPB4,CUPB5
	.ADDR BOX2P,BOX3P,DESK3,DESK4,CUPB6,DESK5,CUPB7,SHE3P
	.ADDR BOX4P,DTREE,DTRE2,DTRE3,LFTDI,DIALF,BIKRD,NCGLD
	.ADDR AUTOR,BKCON,FRCON,BCON2,FCON2,BOX5P,BOX6P,BOX7P
	.ADDR BOX8P,BOX9P,BX10P,BX11P,DESK6,DESK7,DESK8,DESK9
	.ADDR DES10,DES11,DES12,DES13,DES14,DES15,DES16,DES17
	.ADDR DES18,BX12P,WIND1,WIND2,WIND3,WIND4,TVCON,BKNOB
	.ADDR WHIGD,YELBX
BARFC: .BYTE 43,44,45,46,47,48
DTREC:	.BYTE 255,255,255,49,50,255,255,255,51,52,53,255,255,54,255,55,56
	.BYTE 57,58,255,255,59,60,255,255,255,61,255,255,255,255,62,255,255,255
        .BYTE 63,64,255,255,255,65,66,255,255,255,67,68,255,255,255
CUPBC: .BYTE 86,87,88,87,89,90,92,91,92,93,90,92,91,92,93,90,94,95,96,93
       .BYTE 90,92,91,92,93,90,92,91,92,93,90,92,91,92,93,97,98,98,98,99
DOORC: .BYTE 46,47,47,47,48,49,50,51,52,53,49,54,55,56,53,49,57,57,57,53
.BYTE 49,57,57,58,53,49,57,57,57,53,49,57,57,57,53,49,57,57,57,53
SHELC: .BYTE 59,64,68,66,64,65,63,59,60,61,61,61,62,63,59,67,65,69,66,68,63
.BYTE 59,60,61,61,61,62,63,59,67,66,64,69,66,63,59,60,61,61,61,62,63
.BYTE 59,69,64,68,67,65,63,59,60,61,61,61,62,63,59,0,0,0,0,0,63
CANCR: .BYTE 76,76,76,76,76,77,77,77,77,77,78,78,78,78,78
BARBC: .BYTE 70,71,72,73,74,75
WNDOC: .BYTE 101,102,103,104,105,106
DESKC: .BYTE 0,0,107,108,0,0,109,110,111,111,112,113,114,115,116,117,118,119
       .BYTE 114,115,120,121,118,119,122,0,123,124,0,125
WINDC:	.BYTE 129,130,130,130,130,130,130,130,131
.BYTE 132,1,1,1,1,1,1,1,133,132,1,1,1,1,1,1,1,133
.BYTE 132,1,1,1,1,1,1,1,133,132,1,1,1,1,1,1,1,133
.BYTE 134,135,135,135,135,135,135,135,136
TVCNC:	.BYTE 137,138,138,138,138,139,140,161,162,161,163,141,140,163,161,162
        .BYTE 162,141,140,161,162,161,162,141,142,143,143,143,143,144,0,145
	.BYTE 146,147,148,0		;	*
TVFZ1:	.BYTE 161,161,161,161,161,161,161,161,161,161,161,161	;*
TVFZ2:	.BYTE 162,162,162,162,162,162,162,162,162,162,162,162	;*
TVFZ3:	.BYTE 163,163,163,163,163,163,163,163,163,163,163,163	;*
TVFZ4:	.BYTE 161,162,163,163,162,163,161,163,161,162,161,163	;*
TVPC1:	.BYTE 149,150,151,152,153,154,155,156,157,158,159,160	;*
TVPC2:	.BYTE 164,165,166,167,168,169,170,171,172,173,174,175	;*
TVPC3:	.BYTE 176,177,178,179,180,181,182,183,184,185,186,187	;*
TVPC4:	.BYTE 188,189,1,1,190,191,192,193,194,195,196,197	;*
TVSWT:	.BYTE 0		;			*
TVCNT:	.BYTE 0		;			*
TVPPC:	.BYTE 0		;	0 TO 7		*
WHIGD:	LD A,11
	LD (BCOLS+2),A
	LD (CCOLS+2),A
	LD (DCOLS+2),A
JP NWUKL
YELBX:	LD A,30
	LD (BCOLS+1),A
	LD (CCOLS+1),A
	LD (DCOLS+1),A
JP NWUKL
TVCON:	LD A,1			;		*
	LD (TVSWT),A		;		*
	LD HL,MONPS		;		*
.DEFINE MONPS=BUFFB+100		;		*
	LD IX,TVCNC		;		*
	LD C,6			;		*
	LD B,6			;		*
	JR KNV2A		;		*
WIND4:	LD HL,BUFFB+49
	JR WINDR
WIND3:	LD HL,BUFFB+35
	JR WINDR
WIND1:	LD HL,BUFFB+40
	JR WINDR
WIND2:	LD HL,BUFFB+51
WINDR:	LD A,(RMDN)
CP 12
JP NC,NWUKL
LD IX,WINDC
	LD C,9
	LD B,6
KNV2A:	JP KOONT		;		*
DES18: LD HL,BUFFB+296
JR DES2
DES17: LD HL,BUFFB+310
JR DES2
DES16: LD HL,BUFFB+303
JR DES2
DES15: LD HL,BUFFB+289
JR DES2
DES14: LD HL,BUFFB+333
JR DES2
DES13: LD HL,BUFFB+322
JR DES2
DES12: LD HL,BUFFB+407
JR DES2
DES11: LD HL,BUFFB+399
JR DES2
DES10: LD HL,BUFFB+391
JR DES2
DESK9: LD HL,BUFFB+377
JR DES2
DESK8: LD HL,BUFFB+369
JR DES2
DESK7: LD HL,BUFFB+359
JR DES2
DESK6: LD HL,BUFFB+352
JR DES2
DESK5: LD HL,BUFFB+278
JR DES2
DESK4: LD HL,BUFFB+270
JR DES2
DESK3: LD HL,BUFFB+257
JR DES2
DESK2: LD HL,BUFFB+340
JR DES2
DESKP: LD HL,BUFFB+329
DES2:	LD IX,DESKC
LD C,6
LD B,5
JR PSTLE
WNDOP: LD HL,BUFFB+150
LD IX,WNDOC
LD C,3
LD B,2
JR PSTLE
BARF2: LD HL,BUFFO+394
JR BAR4
BARFR: LD HL,BUFFO+388
BAR4: LD IX,BARFC
JR BAR3
CUPB6: LD HL,BUFFB+168
JR CUPRP
CUPB2: LD HL,BUFFB+282
JR CUPRP
CUPB3: LD HL,BUFFB+270
JR CUPRP
CUPB4: LD HL,BUFFB+258
JR CUPRP
CUPB5: LD HL,BUFFB+244
JR CUPRP
CUPB7: LD HL,BUFFB+181
JR CUPRP
CUPBP: LD HL,BUFFB+259
CUPRP: LD IX,CUPBC
LD C,5
LD B,8
JR PSTLE
BKNOB: LD HL,BUFFB+394
JR BAR2
BARB3: LD HL,BUFFB+398
JR BAR2
BARB2: LD HL,BUFFB+401
JR BAR2
CANIS: LD HL,BUFFB+404
LD IX,CANCR
LD C,5
JR PSTL2
BARBK: LD HL,BUFFB+361
BAR2: LD IX,BARBC
BAR3: LD C,2
PSTL2: LD B,3
JR PSTLE
SHELP: LD HL,BUFFB+237
SHLFC: LD IX,SHELC
LD C,7
LD B,9
PSTLE: JP KOONT
DTRE2: LD HL,BUFFO+186
JR DTREP
DTRE3: LD HL,BUFFO+177
JR DTREP
DTREE: LD HL,BUFFO+165
DTREP: LD IX,DTREC
LD C,5
LD B,10
JR PSTLE
SHE2P: LD HL,BUFFB+226
JR SHLFC
SHE3P: LD HL,BUFFB+247
JR SHLFC
LEVEL: LD HL,RMDN
LD A,92
SUB (HL)
LD (LEVLC+7),A
LD B,9
LD DE,LEVLC
LD HL,BUFFO+241
CALL BUFOM
POP HL
DEC HL
PUSH HL
JP RETRT
LEVLC: .TEXT "@LEVEL@X@"
TREEF: LD IX,TREFC
LD C,5
LD B,4
LD HL,BUFFO+179
JP KOONT
TREFC: .BYTE 11,12,13,13,14,15,16,16,16,17,15,16,16,16,21,18,19,20,21,255
LFFN2: LD IX,FN2LC
LD C,2
LD B,3
LD HL,BUFFB+300
JP KOONT
FN2LC: .BYTE 248,248,248,209,209,0
RTFN2: LD IX,FN2RC
LD C,2
LD B,3
LD HL,BUFFB+309
JP KOONT
FN2RC: .BYTE 248,248,208,248,0,208
LEFEX: LD IX,LFEXC
LD C,3
LD B,3
LD HL,BUFFB+397
JP KOONT
LFEXC: .BYTE 0,0,206,0,206,207,206,207,207
RITEX: LD IX,RTEXC
LD C,3
LD B,3
LD HL,BUFFB+403
JP KOONT
RTEXC: .BYTE 205,0,0,207,205,0,207,207,205
RKTTP: LD IX,ROKET
LD C,3
LD B,4
LD HL,BUFFB+144
JP KOONT
LFTRC: .BYTE 1,31,32,30,30,33,30,30,30,30,1,34,35,36,36
RTTRC: .BYTE 39,40,41,30,42,43
RTTRE: LD IX,RTTRC
LD D,3
LD B,2
JR SCOBD
LFTRE:LD IX,LFTRC
LD D,5
LD B,3
JR SCOBD
LFFN1: LD IX,LFF1C
LD D,2
LD B,6
JR SCOBD
RTFN1: LD IX,RTF1C
LD D,2
LD B,6
JR SCOBD
LFF1C: .BYTE 0,246,246,248,248,248,248,248,248,248,209,0
RTF1C: .BYTE 245,0,248,245,248,248,248,248,248,248,0,208
LFTPF: LD IX,PLATF
LD D,6
LD B,1
SCOBD: POP HL
LD A,(HL)
INC HL
PUSH HL
LD H,(HL)
LD L,A
LOPO3: PUSH DE
PUSH HL
LOPO4: LD A,(IX+0)
LD (HL),A
INC HL
INC IX
DEC D
JR NZ,LOPO4
POP HL
LD DE,32
ADD HL,DE
POP DE
DJNZ LOPO3
JP RETRT
RADIC: .BYTE 22,23,24,25,26,27,28,29,30
HIDCR: .BYTE 31,31,31,31
HIDLD: LD IX,HIDCR
LD C,2
LD B,2
LD HL,BUFFO+529
JR KOONT
RADIA: XOR A
LD (DECEN+1),A
LD IX,RADIC
LD C,3
LD B,3
LD HL,BUFFO+404
JR KOONT
MOON:	LD	A,19
	LD	(BCOLS+1),A
LD HL,BUFFB+89
LD A,(HL)
DEC A
JR NZ,NWUKL
LD IX,MOONC
LD C,2
LD B,2
KOONT: LD DE,32
LOPD3: PUSH BC
PUSH HL
LOPD4: LD A,(IX+0)
LD (HL),A
INC HL
INC IX
DEC C
JR NZ,LOPD4
POP HL
POP BC
ADD HL,DE
DJNZ LOPD3
NWUKL:	POP HL
DEC HL
PUSH HL
JP RETRT
MOONC: .BYTE 26,27,28,29
DOORP: LD IX,DOORC
LD C,5
LD B,8
LD HL,BUFFB+276
JR KOONT
BX12P:	LD HL,BUFFO+327
	JR BOXDR
BX11P:	LD HL,BUFFO+394
	JR BX6CT
BX10P:	LD HL,BUFFO+39
	JR BOX4T
BOX9P:	LD HL,BUFFO+289
	JR BOXDR
BOX8P:	LD HL,BUFFO+33
	JR BOX4T
BOX7P:	LD HL,BUFFO+271
	JR BOXDR
BOX5P:	LD HL,BUFFO+257
	JR BOXDR
BOX4P:	LD HL,BUFFO+275
BOX4T:	LD C,10
	LD IX,BOX4C
	JR BD2
BOX3P:	LD HL,BUFFO+274
	JR BOXDR
BOX2P:	LD HL,BUFFO+259
	JR BOXDR
BOX6P:	LD HL,BUFFO+361
BX6CT:	LD C,8
	LD IX,BOX6C
	LD B,4
	JR KOONT
BOX1P:	LD HL,BUFFO+298
BOXDR:	LD C,11
	LD IX,BOX1C
BD2:	LD B,7
	JR KOONT
BOX6C:	.BYTE 2,3,3,3,3,3,3,4,5,6,6,6,6,6,6,7,5,6,6,6,6,6,6,7,8,9,9,9,9,9,9,10
FDESK:	LD IX,FDESC
	LD C,6
	LD B,4
	LD HL,BUFFO+408
KOJPV:	JP KOONT
BIKRD:	LD A,(BIKER)
	INC A
	JR NZ,WUKVC
	LD IX,BIKEC
	LD C,11
	LD B,5
	LD HL,BUFFO+332
	JR KOJPV
AUTOR:	LD A,(BIKER)
	CP 254
	JR NZ,WUKVC
	LD A,16
	LD (BIKER),A
WUKVC:	JP NWUKL
CONS2:	.BYTE 137,138,138,139,255,255,33,255,255,255,33,255,255,255,33,255
CONS1:	.BYTE 210,210,211,211,213
FRCON:	LD HL,BUFFO+356
FCONC:	LD IX,CONS2
LD C,4
LD B,4
JP KOONT
BKCON:	LD HL,BUFFB+483
BCONC:	LD IX,CONS1
LD C,5
LD B,1
JP KOONT
BCON2:	LD HL,BUFFB+464
JR BCONC
FCON2:	LD HL,BUFFO+337
JR FCONC
NCGLD:	LD A,90
	LD (SPEED),A
	JP NWUKL 
BIKER:	.BYTE 0,0
BIKPS:	.BYTE 0,0
BIKEC:	.BYTE 255,255,98,99,255,255,255,255,255,255,255
	.BYTE 255,100,101,130,131,132,133,102,255,255,255
	.BYTE 103,104,105,106,134,135,109,110,111,255,255
	.BYTE 112,113,114,115,136,117,118,119,120,255,255
	.BYTE 121,122,123,124,125,126,127,128,129,255,255
BIKMC:	.BYTE 255,255,98,99,255,255,255,255,255,255,255
	.BYTE 255,100,101,255,255,255,255,102,255,255,255
	.BYTE 103,104,105,106,107,108,109,110,111,255,255
	.BYTE 112,113,114,115,116,117,118,119,120,255,255
	.BYTE 121,122,123,124,125,126,127,128,129,255,255
FDESC: .BYTE 34,35,36,36,37,38,39,40,255,255,39,40,39,40,255,255,39,40
	.BYTE 140,255,255,255,255,141
BOX1C: .BYTE 2,3,4,255,255,255,255,255,255,255,255,5,6,7,255,255,255,2
.BYTE 3,3,4,255,8,9,10,255,255,255,5,6,6,7,255,2,3,3,3,4,255,8,9,9,10,255,5
.BYTE 6,6,6,2,3,4,255,2,3,4,5,6,6,6,5,6,7,255,5,6,7,8,9,9,9,8,9,10,255,8,9,10
BOX4C: .BYTE 255,255,255,255,2,3,3,4,255,255,255,255,255,255,5,6,6,7,255,255
.BYTE 255,255,255,255,8,9,9,10,255,255,255,255,2,3,3,4,255,2,3,4,2,3,4,6,6,7
.BYTE 255,5,6,7,5,6,7,6,6,7,255,5,6,7,8,9,10,9,9,10,255,8,9,10
LETNO:	.BYTE 0
LETR1: LD A,1
JR KOON4
LETR2: LD A,2
JR KOON4
LETR3: LD A,3
KOON4: LD (LETNO),A
JR KOON2
LETC1: .TEXT "C"
LETC2: .TEXT "OLONEL BRIGGSY  EX"
LETC3: .TEXT "PLORER"
BIKMR: .BYTE 0
BIKAM:	.TEXT " BIKE ARRIVED "
REDOF: XOR A
REDDO: LD (COLRD),A
KOON2: POP HL
DEC HL
PUSH HL
JP RETRT
REDON: LD A,119
JR REDDO
FILLB: POP HL
LD A,(HL)
PUSH HL
LD HL,BUFFB
LD (HL),A
LD DE,BUFFB+1
LD BC,575
LDIR
JP RETRT
ONECR: POP HL
LD A,(HL)
INC HL
LD E,(HL)
INC HL
LD D,(HL)
PUSH HL
LD (DE),A
JP RETRT
TLDTN: LD A,202
POP HL
LD E,(HL)
INC HL
LD D,(HL)
PUSH HL
LD (DE),A
INC DE
INC A
LD (DE),A
JP RETRT
HORLN: LD DE,1
JR LINED
LFTLI:	.BYTE 6,214
	.ADDR BUFFB+58
DIALF:	POP HL
	LD HL,LFTLI
	PUSH HL
DIAGR: LD DE,33
JR LINED
DIAGL: LD DE,31
JR LINED
VERLN: LD DE,32
LINED: POP HL
LD B,(HL)
INC HL
LD C,(HL)
INC HL
LD A,(HL)
INC HL
PUSH HL
LD H,(HL)
LD L,A
LOPR2: LD (HL),C
ADD HL,DE
DJNZ LOPR2
JP RETRT
GRLAD: LD C,44
JR LADDO
LADTN:LD C,9
JR LADDO
RADLD: LD C,37
JR LADDO
LADSK: LD C,5
LADDO: LD DE,31
POP HL
LD B,(HL)
INC HL
LD A,(HL)
INC HL
PUSH HL
LD H,(HL)
LD L,A
LADL1: LD (HL),C
INC HL
INC C
LD (HL),C
DEC C
ADD HL,DE
DJNZ LADL1
JP RETRT
ROCKS: LD DE,BUFFB
LD B,3
RKL1: LD C,4
RKL2: POP HL
LD A,(HL)
INC HL
PUSH HL
PUSH DE
EXX
LD L,A
LD H,0
ADD HL,HL
LD DE,RKBLK
ADD HL,DE
LD A,(HL)
INC HL
LD H,(HL)
LD L,A
POP DE
LD B,6
RKL3: LD C,8
RKL4: LD A,(HL)
INC HL
LD (DE),A
INC DE
DEC C
JR NZ,RKL4
PUSH HL
LD HL,24
ADD HL,DE
EX DE,HL
POP HL
DJNZ RKL3
EXX
LD HL,8
ADD HL,DE
EX DE,HL
DEC C
JR NZ,RKL2
LD HL,160
ADD HL,DE
EX DE,HL
DJNZ RKL1
POP HL
DEC HL
PUSH HL
JP RETRT
RKBLK: .ADDR RB0,RB1,RB2,RB3,RB4,RB5,RB6,RB7,RB8,RB9,RB10
       .ADDR RB11,RB12,RB13,RB14,RB15,RB16,RB17,RB18,RB19,RB20,RB21,RB22
       .ADDR RB23,RB24
RB0: .BYTE 8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8
     .BYTE 8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8
RB1: .BYTE 8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8
     .BYTE 240,239,238,233,232,234,233,238,237,231,236,234
     .BYTE 231,238,231,231,231,231,235,231,231,231,231,231
RB2: .BYTE 8,8,8,8,8,230,231,231,8,8,8,8,8,229,231,231
     .BYTE 8,8,8,8,8,228,227,231,8,8,8,8,8,230,231,231
     .BYTE 8,8,8,8,8,226,225,231,8,8,8,8,8,228,231,231
RB3: .BYTE 8,8,8,224,232,238,231,231,8,8,224,238,231,231
     .BYTE 231,231,224,232,238,236,231,231,231,231,238
     .BYTE 231,231,231,231,231,231,231,236,231,231,231
     .BYTE 231,231,231,231,231,238,231,231,231,231,231,231
RB4: .BYTE 223,222,220,222
     .BYTE 219,221,222,223,8,221,8,221,8,8,220,8,8,8,8,8,8
     .BYTE 8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8
RB5: .BYTE 231,231,231,231,231,231,231,231,231,231,231,231
     .BYTE 231,231,231,231,231,231,231,231,231,231,231,231
     .BYTE 231,231,231,231,231,231,231,231,231,231,231,231
     .BYTE 231,231,231,231,231,231,231,231,231,231,231,231
RB6: .BYTE 231,231,218,8,8,8,8,8,231,231,217,8,8,8,8,8
     .BYTE 231,225,218,8,8,8,8,8,231,231,216,8,8,8,8,8
     .BYTE 231,217,218,8,8,8,8,8,231,231,216,8,8,8,8,8
RB7: .BYTE 231,236,216,8,8,8,8,8,222,219,8,8,8,8,8,8
     .BYTE 221,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8
     .BYTE 8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8
RB8: .BYTE 231,231,240,234,232,8,8,8,231,231,240,231
     .BYTE 231,239,8,8,231,231,231,231,231,240,232,8
     .BYTE 231,231,231,231,231,231,237,231,231,231,231
     .BYTE 231,231,231,231,231,231,231,231,231,231,231,231,231
RB9: .BYTE 8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8
     .BYTE 215,8,8,8,8,8,8,8,231,233,232,215,8,8,8,8,231
     .BYTE 231,236,223,8,8,8,8
RB10: .BYTE 8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8
      .BYTE 8,8,8,8,8,224,215,224,8,8,8,8,8,226,225,231
      .BYTE 8,8,8,8,8,228,231,231
RB11: .BYTE 8,8,8,8,8,214,231,231,8,8,8,8,8,8,222,219,8,8,8,8,8,8
      .BYTE 221,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8
RB12: .BYTE 231,231,231,231,231,231,231,231,231,231,231,231,231
      .BYTE 231,231,231,231,231,231,231,240,223,220,219,231,231
      .BYTE 231,231,223,8,8,8,231,231,231,221,8,8,8,8
      .BYTE 231,231,216,8,8,8,8,8
RB13: .BYTE 231,231,231,231,231,231,231,231,214,222,231,231,231
      .BYTE 231,231,231,8,221,219,231,231,231,231,231,8,8
      .BYTE 8,220,231,231,231,231,8,8,8,8,214,231,231,231,8
      .BYTE 8,8,8,8,228,231,231
RB14: .BYTE 222,223,223,222,222
      .BYTE 231,223,222,221,8,8,8,220,219,8,221,8,8,8,8,8,8,8,8
      .BYTE 8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8
RB15: .BYTE 231,231,231,231,231,231,231,231,231,231,231,231
      .BYTE 231,231,231,231,231,231,231,231,231,231,231,231
      .BYTE 223,11,12,12,12,12,13,223,8,8,8,8,8,8,8,8
      .BYTE 8,8,8,8,8,8,8,8
RB16: .BYTE 1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1
      .BYTE 1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1
RB17: .BYTE 1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1
      .BYTE 254,254,215,1,1,1,1,1,231,231,231,215,1,1,1,1,231
      .BYTE 231,236,223,1,1,1,1
RB18: .BYTE 231,231,218,1,1,1,1,1,231,231,217,1,1,1,1,1,231
      .BYTE 225,218,1,1,1,1,1,231,231,216,1,1,1,1,1,231,217
      .BYTE 218,1,1,1,1,1,231,231,216,1,1,1,1,1
RB19: .BYTE 231,231,218,1,1,1,1,1,220,222,216,1,1,1,1,1
      .BYTE 8,8,18,1,1,1,1,1,8,8,8,17,1,1,1,1
      .BYTE 8,8,8,18,1,1,1,1,8,8,8,8,17,1,1,1
RB20: .BYTE 8,8,8,8,18,1,1,1,8,8,8,8,8,17,1,1
      .BYTE 8,8,8,8,8,18,1,1,233,232,233,232,233,233,232,215
      .BYTE 231,231,231,231,231,231,231,223,231,231,231,231,231,219
      .BYTE 223,1
RB21: .BYTE 1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1
      .BYTE 240,239,238,233,232,234,233,238,237,231,236,234
      .BYTE 231,238,231,231,231,231,235,231,231,231,231,231
RB22: .BYTE 1,1,1,1,1,226,225,231,1,1,1,1,1,228,231,231,1,1,1,1,1,214,231,231
      .BYTE 1,1,1,1,1,1,222,8,1,1,1,1,1,1,221,8,1,1,1,1,1,1,1,8
RB23: .BYTE 1,1,1,1,1,230,231,231,1,1,1,1,1,229,231,231
      .BYTE 1,1,1,1,1,228,227,231,1,1,1,1,1,230,231,231
      .BYTE 1,1,1,1,1,226,225,231,1,1,1,1,1,228,231,231
RB24: .BYTE 1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1
      .BYTE 1,1,1,1,1,224,254,254,1,1,1,1,1,226,225,231
      .BYTE 1,1,1,1,1,228,231,231
.DEFINE STANO=33
;		STASHES
NROBT:	.BYTE 27,8				; NEAR OBJECTS RM DOWN,ACROSS
		.ADDR BUFFO+468			; SCREEN POSITION
INITSTA:	.BYTE 1,2,1,1,2			; PRESENT CONTENTS DATA
		.BYTE 7,5,7,6,1			; INITIAL CONTENTS DATA
	.BYTE 3,14
		.ADDR BUFFO+442
		.BYTE 2,1,3,3,3
		.BYTE 5,2,7,5,3
	.BYTE 29,31
		.ADDR BUFFO+474
		.BYTE 0,0,0,0,0
		.BYTE 6,5,7,6,5
	.BYTE 3,12
		.ADDR BUFFO+522
		.BYTE 0,0,0,0,0
		.BYTE 7,7,7,7,3
	.BYTE 2,8
		.ADDR BUFFO+494
		.BYTE 0,0,0,0,0
		.BYTE 7,7,4,1,2;		PIECE OF CODE
	.BYTE 12,4
		.ADDR BUFFO+227
		.BYTE 0,0,0,0,0
		.BYTE 2,2,2,7,2
	.BYTE 12,5
		.ADDR BUFFO+483
		.BYTE 0,0,0,0,0
		.BYTE 7,2,2,7,2
	.BYTE 11,4
		.ADDR BUFFO+495
		.BYTE 0,0,0,0,0
		.BYTE 5,2,2,1,2
	.BYTE 11,5
		.ADDR BUFFO+231
		.BYTE 0,0,0,0,0
		.BYTE 2,2,2,2,2
	.BYTE 10,4
		.ADDR BUFFO+452
		.BYTE 0,0,0,0,0
		.BYTE 5,5,5,4,3	;		PIECE OF CODE
	.BYTE 10,5
		.ADDR BUFFO+468
		.BYTE 0,0,0,0,0
		.BYTE 1,2,1,3,3
	.BYTE 19,5
		.ADDR BUFFO+452
		.BYTE 0,0,0,0,0
		.BYTE 4,1,1,7,2	;		PIECE OF CODE
	.BYTE 30,1
		.ADDR BUFFO+472
		.BYTE 0,0,0,0,0
		.BYTE 6,6,6,6,4	;		PIECE OF CODE
	.BYTE 24,13
		.ADDR BUFFO+458
		.BYTE 0,0,0,0,0
		.BYTE 2,4,3,3,3	;		PIECE OF CODE
	.BYTE 21,12
		.ADDR BUFFO+456
		.BYTE 0,0,0,0,0
		.BYTE 2,5,5,6,6
	.BYTE 7,27
		.ADDR BUFFO+455
		.BYTE 0,0,0,0,0
		.BYTE 1,1,4,1,2	;		PIECE OF CODE
	.BYTE 16,9
		.ADDR BUFFO+373
		.BYTE 0,0,0,0,0
		.BYTE 5,2,2,7,7
	.BYTE 16,12
		.ADDR BUFFO+359
		.BYTE 0,0,0,0,0
		.BYTE 7,4,1,1,6	;		PIECE OF CODE
	.BYTE 12,8
		.ADDR BUFFO+357
		.BYTE 0,0,0,0,0
		.BYTE 6,6,6,3,3
	.BYTE 9,9
		.ADDR BUFFO+491
		.BYTE 0,0,0,0,0
		.BYTE 5,7,7,2,3
	.BYTE 12,13
		.ADDR BUFFO+491
		.BYTE 0,0,0,0,0
		.BYTE 2,2,2,3,3
	.BYTE 19,17
		.ADDR BUFFO+504
		.BYTE 0,0,0,0,0
		.BYTE 5,5,4,7,3	;		PIECE OF CODE
	.BYTE 14,17
		.ADDR BUFFO+442
		.BYTE 0,0,0,0,0
		.BYTE 1,1,6,6,6
	.BYTE 8,15
		.ADDR BUFFO+195
		.BYTE 0,0,0,0,0
		.BYTE 6,4,3,3,3	;		PIECE OF CODE
	.BYTE 7,17
		.ADDR BUFFO+475
		.BYTE 0,0,0,0,0
		.BYTE 2,2,2,6,4	;		PIECE OF CODE
	.BYTE 24,19
		.ADDR BUFFO+452
		.BYTE 0,0,0,0,0
		.BYTE 6,7,6,2,3
	.BYTE 29,22
		.ADDR BUFFO+470
		.BYTE 0,0,0,0,0
		.BYTE 7,2,2,4,1	;		PIECE OF CODE
	.BYTE 28,24
		.ADDR BUFFO+466
		.BYTE 0,0,0,0,0
		.BYTE 6,4,3,3,3	;		PIECE OF CODE
	.BYTE 21,30
		.ADDR BUFFO+451
		.BYTE 0,0,0,0,0
		.BYTE 6,7,7,4,2	;		PIECE OF CODE
	.BYTE 15,23
		.ADDR BUFFO+458
		.BYTE 0,0,0,0,0
		.BYTE 1,1,2,5,3
	.BYTE 7,22
		.ADDR BUFFO+507
		.BYTE 0,0,0,0,0
		.BYTE 1,4,1,3,3	;		PIECE OF CODE
	.BYTE 8,27
		.ADDR BUFFO+457
		.BYTE 0,0,0,0,0
		.BYTE 5,2,1,7,7
	.BYTE 5,24
		.ADDR BUFFO+468
		.BYTE 0,0,0,0,0
		.BYTE 7,7,5,2,5
NERST: .ADDR 0
TEMPN: .BYTE 0
DIBL2: LD HL,65504
JR DIBLK
DIBL3: LD HL,65505
JR DIBLK
LFTDT:	.BYTE 6,231
	.ADDR BUFFB+26
LFTDI:	POP HL
	LD HL,LFTDT
	PUSH HL
DIBL4: LD HL,33
JR DIBLK
DIBL1: LD HL,32
DIBLK: LD (DIBLD+1),HL
POP HL
LD D,(HL)
LD B,D
INC HL
LD C,(HL)
INC HL
LD A,(HL)
INC HL
PUSH HL
LD H,(HL)
LD L,A
LPBR3: PUSH DE
PUSH HL
LPBR4: LD (HL),C
INC HL
DEC D
JR NZ,LPBR4
POP HL
DIBLD: LD DE,32
ADD HL,DE
POP DE
DEC D
DJNZ LPBR3
JP RETRT
BLOCK: POP HL
LD D,(HL)
INC HL
LD B,(HL)
INC HL
LD C,(HL)
INC HL
LD A,(HL)
INC HL
PUSH HL
LD H,(HL)
LD L,A
LOPR3: PUSH DE
PUSH HL
LOPR4: LD (HL),C
INC HL
DEC D
JR NZ,LOPR4
POP HL
LD DE,32
ADD HL,DE
POP DE
DJNZ LOPR3
JP RETRT
SPARES:	.BYTE 27,7,70	;		MOTORBIKE
	.BYTE 0,12,71	;		INCREASE GLIDER DISTANCE
	.BYTE 27,0,72	;		AUTO RUN ON FINAL SCREEN
	.BYTE 22,24,75,22,24,76	;	CONSOLE
	.BYTE 27,14,75,27,14,76	;	CONSOLE
	.BYTE 13,14,94
	.BYTE 27,13,56
	.BYTE 27,9,57
	.BYTE 27,5,43
	.BYTE 7,27,56
	.BYTE 18,25,64
	.BYTE 25,12,64
	.BYTE 15,28,56
	.BYTE 15,5,56
	.BYTE 15,28,64
	.BYTE 13,3,67
	.BYTE 19,30,65
	.BYTE 29,31,66
	.BYTE 22,22,68
	.BYTE 22,22,69
RMDUN:	LD HL,RETRX
	LD (RETRT+1),HL
LD IX,SPARES
	LD B,26	;				*
SPART:	LD A,(RMDN)
	CP (IX+0)
	JR NZ,SPARW
	LD A,(RMAC)
	CP (IX+1)
	JR NZ,SPARW
	LD L,(IX+2)
	LD H,0
	ADD HL,HL
	LD DE,ROUTS
	ADD HL,DE
	LD A,(HL)
	INC HL
	LD H,(HL)
	LD L,A
	PUSH IX
	PUSH BC
	PUSH HL
	JP (HL)
RETRX:	POP HL
	POP BC
	POP IX
SPARW:	INC IX
	INC IX
	INC IX
	DJNZ SPART
	LD HL,BAKWD
	LD (RETRT+1),HL
LD A,(RMDN)
CP 31
JR NZ,NWATR
LD BC,256
LD HL,BUFFB+543
LD DE,BUFFO+543
WATER: LD A,(HL)
CP SC
JR NC,NTWCR
XOR A
LD (DE),A
NTWCR: DEC HL
DEC DE
DEC BC
LD A,B
OR C
JR NZ,WATER
NWATR:	LD IX,NROBT	;		SET ANY NEAR OBJECTS YOU CAN PICK UP
	LD B,STANO	;		NO. OF STASHES
NROBL:	LD A,(RMDN)
	CP (IX+0)
	JR NZ,NNOOS
	LD A,(RMAC)
	CP (IX+1)
	JR NZ,NNOOS
	LD L,(IX+2)
	LD H,(IX+3)
	LD A,(HL)
	INC A
	JR NZ,YOGRT
	LD (HL),41		;	DRAW LEFT OF STASH BOX
	INC HL
	LD (HL),42		;	DRAW RIGHT OF STASH BOX
	DEC HL
YOGRT:	LD DE,BUFFB-BUFFO
	ADD HL,DE
	LD (HL),100		;	SET STASH BACKGROUND FLAG
	INC HL
	LD (HL),100
	PUSH IX
	POP HL
	INC HL
	INC HL
	INC HL
	INC HL
	LD (NERST),HL
NNOOS:	LD DE,STAQQ+STAQQ+4
	ADD IX,DE
	DJNZ NROBL
	CALL DOPIC
LD A,(LETNO)
DEC A
JR NZ,LETP2
LD HL,LETC1
LD DE,20531
LD C,1
JR KOON3
LETP2: DEC A
JR NZ,LETP3
LD HL,64		; AMSTRAD!
LD (PRIND+1),HL
LD HL,LETC2
LD DE,16403
LD C,18
KOON3: CALL PRINT
LD HL,2
LD (PRIND+1),HL
JR NXMAN
LETP3: DEC A
JR NZ,NXMAN
LD HL,64
LD (PRIND+1),HL
LD HL,LETC3
LD DE,16403
LD C,6
JR KOON3
PLATR: LD HL,(PLAPS)
LD B,4
PLLP1:	LD A,(DE)
	LD (HL),A
	INC HL
	INC DE
	DJNZ PLLP1
	LD DE,BUFFD-BUFFB
	ADD HL,DE
	LD B,4
PLLP2:	DEC HL
	LD (HL),1
	DJNZ PLLP2
	RET
PLAPS:	.ADDR BUFFB+525
PLADI:	.BYTE 0
PLADS:	.BYTE 10
BPLAT:	.BYTE 111,111,111,111
FPLAT:	.BYTE 210,211,211,213
DEFGH: .BYTE 0,0
NXMAN:
CALL AMKEY	; CHECK AMKEY
CALL BUFCL
LD HL,BUFFD
LD DE,BUFFD+1
LD BC,575
LD (HL),0
LDIR
DON1:	LD B,1
DON2:	LD HL,BUFG1
	LD DE,BUFFD-BUFG1
	ADD HL,DE
	LD A,1
LPIOD:	LD (HL),A
DON3:	INC HL
	DJNZ LPIOD
	LD (DON1+1),A
	LD HL,(RM+1)
	LD A,(HL)	;			*
	CP 58		;			*
	JR NZ,LFSN1	;			*
LD B,6	;					*
LD DE,LFTS1	;				*
LD HL,BUFFO+97	;				*
CALL BUFOM	;				*
LFSN1:	LD A,(HL)	;			*
	CP 60		;			*
	JR NZ,LFSN2
LD B,6	;					*
LD DE,LFTS1	;				*
LD HL,BUFFO+108	;				*
CALL BUFOM	;				*
LFSN2:	LD A,(HL)	;			*
	CP 158
	JR NZ,FNEEE
	LD DE,BPLAT
	CALL PLATR
	LD A,(PLADI)
	OR A
	LD HL,PLADS
	JR Z,PLTLF
	INC (HL)
	LD A,19
	CP (HL)
	LD HL,(PLAPS)
	INC HL
	LD (PLAPS),HL
	JR NZ,PLTDN
	LD HL,PLADI
	DEC (HL)
	JR PLTDN
PLTLF:	DEC (HL)
	XOR A
	CP (HL)
	LD HL,(PLAPS)
	DEC HL
	LD (PLAPS),HL
	JR NZ,PLTDN
	LD HL,PLADI
	INC (HL)
PLTDN:	LD DE,FPLAT
	CALL PLATR
FNEEE:	CALL GTBAK
	CALL MANAR
	CALL GTBK2
	LD B,0
	LD A,(MANBF+38)		
	CP 100 
	JR NZ,KIPER
	LD HL,(NERST)
	LD B,(HL)
KIPER:	LD A,B	;  A = OBJECT NEAR
	LD HL,NEAR
	CP (HL)
	LD (HL),A
	CALL NZ,NERDR
VECTN: JP 00000
ENDVC: CALL MANDR
CALL MANAR
CALL BUFC2
	LD A,(MAND)
	ADD A,7
	CP 8
	JR C,NDRON
	LD HL,(MANPS)
	LD DE,BUFFO+34
	CALL LFEDQ
	ADD HL,DE
	XOR A
	CP (HL)
	LD B,2
	CALL Z,DECEN
					;GUARD
NDRON:	LD A,(GLGP1)
	INC A
	AND 3
	LD (GLGP1),A
	ADD A,A
	LD L,A
	LD H,0
	LD DE,LEGTB
	ADD HL,DE
	LD A,(HL)
	INC HL
	LD H,(HL)
	LD L,A
	LD (GDRPV),HL
	LD A,(DLGP1)
	INC A
	CP 3	;	OR 5
	JR NZ,GYGYU
	XOR A
GYGYU:	LD (DLGP1),A	;			*
	ADD A,A
	LD L,A
	LD H,0
	LD DE,DLGTB
	ADD HL,DE
	LD A,(HL)
	INC HL
;L1000
	LD H,(HL)
	LD L,A
	LD (DOGRV+1),HL	;			*
LD IX,TRACK1
	LD B,GDQ
.DEFINE GDQ=101
NXGRD:	PUSH BC
	LD BC,1798	;			*
	LD A,(IX+11)	;			*
	CP 1		;			*
	CALL Z,PANTS	;			*
	CP 6		;			*
	CALL Z,PANTS	;			*
	CP 4		;			*
	CALL Z,PANTS	;			*
	CP 9		;			*
	CALL Z,PANTS	;			*
	CP 10		;			*
	CALL Z,PANTS	;			*
	CALL G1DI2
	CALL LPRSY
	PUSH IX
	POP HL
	INC HL
	INC HL
	INC HL
	LD (HELP1+1),HL
	LD (HELP2+1),HL
	LD A,(RMDN)
	LD B,A
	LD A,(IX+0)
	AND 127
	CP B
	JR NZ,NDRGA
	LD A,(RMAC)
	CP (IX+2)
	JR NZ,NDRGA
	CALL GTBAK
	CALL GRDAR
	CALL GTBK2
					;GUARD PROG
NDRGA:	LD A,(RMDN)
	LD B,A
	LD A,(IX+0)
	AND 127
	SUB B
	ADD A,3
	CP 6
	JP NC,NOTOS
	LD A,(RMAC)
	SUB (IX+2)
	ADD A,6
	CP 12
	JP NC,NOTOS
	LD A,(IX+11)
	CP 2
	JP NC,NWALK
	LD A,(IX+1)
	LD B,A
	LD H,(IX+4)
	LD L,(IX+3)
LD D,255
LD A,(IX+0)
BIT 7,A
JR Z,GTRO2
LD A,R
AND 3
JR Z,GTRO2
INC D
LD A,(IX+1)
ADD A,10
LD E,A
LD A,(MANA)
ADD A,10
CP E
JR NC,GTRO2
INC D
GTRO2:	LD A,(DIR)
	OR A
	JR Z,GWRIT
	LD A,(IX+2)
	CP (IX+5)
	JR NZ,KONT1
	LD A,(IX+6)
	CP B
	JR NZ,KONT1
STFFQ:	DEC D
	JR Z,SETFF
	LD A,(IX+11)
	ADD A,A
	ADD A,7
NIKMC:	LD (IX+11),A
	JR NWALK
SETFF: 	LD A,R
	AND 7
	ADD A,3
	LD (GDSPD),A
	LD A,12
	JR NIKMC
KONT1:	DEC B
	DEC HL
	LD A,252
	CP B
	JR NZ,WKOK
	LD B,28
	LD DE,32
	ADD HL,DE
	DEC (IX+2)
	JR WKOK
GWRIT:	LD A,(IX+2)
	CP (IX+7)
	JR NZ,KONT2
	LD A,(IX+8)
	CP B
	JR NZ,KONT2
	INC D
	JP STFFQ
KONT2:	INC B
	INC HL
	LD A,30
	CP B
	JR NZ,WKOK
	LD B,254
	LD DE,65504
	ADD HL,DE
	INC (IX+2)
WKOK:	LD (IX+3),L
	LD (IX+4),H
	LD A,B
	LD (IX+1),A
NWALK:	LD A,(RMDN)
	LD B,A
	LD A,(IX+0)
	AND 127
	CP B
	JP NZ,NOTOS
	LD A,(RMAC)
	CP (IX+2)
	JP NZ,NOTOS
	CALL GTBAK
	CALL GRDAR
	CALL GTBK2
	LD A,(IX+9)
	BIT 7,A
	LD A,1
	JR Z,LEEE9
	INC A
LEEE9:	LD HL,GDHIT
	CP (HL)
	JR NZ,NGDHT
	LD A,(IX+11)
	CP 5
	JR Z,NGDHT
	CP 6
	JR Z,NGDHT
	LD B,2
	CALL MONUP
					;CRUNCH NOISE
	CALL CRUNCH
	LD HL,GDNRG	;			*
	DEC (HL)	;			*
	JR Z,CRUSN	;			*
	LD A,R
	AND 7
	JR NZ,NGDHT
CRUSN:	LD A,5		;			*
	LD (HL),A
	LD A,(IX+11)
	CP 4
	LD B,6
	JR Z,ABRSE
	CP 1
	JR Z,ABRSE
	CP 9
	JR Z,ABRSE
	CP 10
	JR Z,ABRSE
	DEC B
ABRSE:	LD (IX+11),B
	LD B,10
	CALL MONUP
NGDHT:	LD A,(IX+11)
	LD L,A
	LD H,0
	ADD HL,HL
	LD DE,NMERT
	ADD HL,DE
	LD A,(HL)
	INC HL
	LD H,(HL)
	LD L,A
	LD A,(DIR)
	LD B,A
	OR A
	JP (HL)
LPRSY:	LD A,(IX+9)
	BIT 7,A
	RET Z
	LD HL,GDSPD
	LD A,(HL)
	PUSH AF
	INC HL
	LD A,(HL)
	DEC HL
	LD (HL),A
	INC HL
	POP AF
	LD (HL),A
LD HL,(GHTPT)
PUSH HL
LD HL,(GHTP2)
LD (GHTPT),HL
POP HL
LD (GHTP2),HL
	RET
NMERT:	.ADDR GDRNP,DGRNP,GDPNP,GDKCP,BITEP,DEDGP,DEDDP,GTRN1
	.ADDR GTRN2,DTRN1,DTRN2,GDLLP,GDFFP
LFTS1:	.TEXT "@LIFT@"
GDNRG:	.BYTE 5
GDSPD:	.BYTE 0
GDSP2:	.BYTE 0
GDHIT:	.BYTE 0
GHTPT: .ADDR 00
GHTP2: .ADDR 00
BATPM:	.BYTE 10,0,10,8,10,0,8,0,8,8,9,0,9,8,9,0
GDRNP:	LD HL,BUFFN+101
	JR Z,LEEE3
	LD HL,BUFFN+96
LEEE3:	LD E,(IX+3)
	LD D,(IX+4)
	ADD HL,DE
	LD A,(MANBF+23)
	INC A
	JR Z,NGDPP
	LD A,(HL)
	INC A
	JR Z,NGDPP
	LD (GHTPT),HL
	LD (IX+11),2
	LD A,3
	LD (GDSPD),A
	LD A,R
	RRA
	JP NC,NGDKP
NGDPP:	LD A,(MANBF+17)
	INC A
	JR Z,MOVEG
	LD A,B
	OR A
	LD HL,BUFFN+69
	JR Z,LEEE4
	LD HL,BUFFN+64
LEEE4:	ADD HL,DE
	LD A,(HL)
	INC A
	JR Z,MOVEG
	LD (GHTPT),HL
	LD A,2
	LD (IX+11),11
	LD (GDSPD),A
	JR NGDKP
MOVEG:	LD A,R
	AND 7
	JR NZ,NGTRO
	LD A,(MISL2)
	OR A
	JR NZ,NGTRO
	LD A,(MANBF+22)
	INC A
	JR Z,NGTRO
;    CHECK RELATIVE HEIGHTS

; ( IS IT WORTH THROWING DAGGER ? )

LD HL,MAND
LD A,(IX+9)
AND 63
SUB (HL)
ADD A,4
CP 9
JR NC,NGTRO

LD L,(IX+3)
LD H,(IX+4)
LD DE,100
ADD HL,DE
LD B,4
LD C,8
LD D,0
LD A,(IX+1)
ADD A,10
LD E,A
LD A,(MANA)
ADD A,10
CP E
JR NC,GTROK
LD B,1
LD C,4
LD D,1
DEC HL
DEC HL
DEC HL
GTROK:	LD A,(DIR)
CP D
JR NZ,NGTRO
LD A,(IX+1)
ADD A,B
LD (MISL2+2),A
LD (MISL2+3),HL
LD A,C
LD (MISL2+5),A
LD (MISL2+6),A
LD A,212
LD (MISL2),A
LD A,(IX+9)
AND 63
ADD A,3
LD (MISL2+1),A
LD (IX+11),2
LD A,1
LD (GDSPD),A
JP NGDKP
NGTRO:	CALL TURNQ
NGDKP:	LD HL,(GDRPV)
	JP ENDGP
DGRNP:	LD HL,BUFFN+38
	JR Z,LEEE5
	LD HL,BUFFN+33
LEEE5:	LD A,(MANBF+15)
	INC A
	JR Z,MOVDG
	LD E,(IX+3)
	LD D,(IX+4)
	ADD HL,DE
	LD A,(HL)
	INC A
	JR Z,MOVDG
	LD (IX+11),4
	JR DOGRV
MOVDG:	CALL TURNQ
DOGRV:	LD HL,00
	JP ENDGP
TURNQ:	LD A,R
	AND 3
	RET NZ
	LD A,(MANA)
	ADD A,4
	SUB (IX+1)
	SUB 4
	LD B,1
	JP M,TRNLF
	DEC B
TRNLF:	LD A,(DIR)
	CP B
	RET Z
	LD A,(IX+11)
	ADD A,A
	ADD A,7
	LD (IX+11),A
	RET
GDPNP:	LD HL,GDSPD
	LD A,2
	CP (HL)
	JR NZ,NUN1
	PUSH HL
	LD HL,(GHTPT)
	LD A,(HL)
	INC A
	JR Z,NUN52
	CALL CRUNCH
	LD B,12
	CALL DECEN
NUN52:	POP HL
NUN1:	DEC (HL)
	JR NZ,LEEEE
	XOR A
	LD (IX+11),A
LEEEE:	LD HL,GDPNC
	JP ENDGP
FFIRE:	.BYTE 163,164,164,164,164,164,164,164,164,165
RND:	PUSH HL
SEED:	LD HL,16384
	INC HL
	LD (SEED+1),HL
	LD A,(HL)
	POP HL
	RET
GDFFP:	LD DE,BUFG1+102
	LD C,12
	LD A,(DIR)
	DEC A
	LD A,35
	JR NZ,GDFFC
	LD DE,BUFG1+95
	INC C
	LD A,43
GDFFC:	LD (FLDID),A
	LD (DON3),A
	LD A,C
	LD (FLDIR),A
	LD A,(IX+1)
	DEC A
	LD C,A
	LD L,(IX+3)
	LD H,(IX+4)
	ADD HL,DE
	LD (DON2+1),HL
	LD DE,FFIRE
	LD A,10
	LD B,A
	LD (DON1+1),A
FFDRL:	LD A,C
	CP 25
	JR NC,FLDID
	PUSH HL
	PUSH DE
	LD DE,BUFFB-BUFG1
	ADD HL,DE
	LD A,(HL)
	POP DE
	POP HL
CP SC
JR NC,FIRPL
	LD A,(DE)
	LD (HL),A
	PUSH HL
	PUSH DE
	LD DE,BUFFD-BUFG1
	ADD HL,DE
	LD (HL),1
	POP DE
	POP HL
FLDID:	INC HL
	INC DE
FLDIR:	NOP
	DJNZ FFDRL
FIRPL:	LD HL,GDSPD
	DEC (HL)
	JR NZ,LFFEE
	LD (IX+11),7
LFFEE:	LD HL,GDPNC
	JR ENDGP
GTRN1:	LD (IX+11),8
	LD HL,TRNGC
	JR ENDGP
GTRN2:	LD (IX+11),0
	LD HL,TRNGC
ANRKE:	LD A,(DIR)
	XOR 1
	LD (DIR),A
	JR ENDGP
DTRN1:	LD (IX+11),10
	LD HL,TRNDC
	JR ENDGP
DTRN2:	LD (IX+11),1
	LD HL,TRNDC
	JR ANRKE
DEDGP:	LD HL,GDEDC			 ;DEAD GUARD CHARS
	JR ENDGP
DEDDP:	LD HL,DDEDC
	JR ENDGP
GDKCP:	LD HL,GDSPD
	LD A,1
	CP (HL)
	JR NZ,NUN2
	PUSH HL
	LD HL,(GHTPT)
	LD A,(HL)
	INC A
	JR Z,NUN25
	CALL CRUNCH
	LD B,7
	CALL DECEN
NUN25:	POP HL
NUN2:	DEC (HL)
	JR NZ,LEEE2
	XOR A
	LD (IX+11),A
LEEE2:	LD HL,GKIKC
	JR ENDGP
GDLLP:	LD (IX+11),3
	LD HL,GDLLC
	JR ENDGP
BITEP:	CALL CRUNCH
	LD B,6
	CALL DECEN
	LD (IX+11),1
	LD HL,DOGL2
ENDGP:	LD (GCHRV+1),HL
	LD HL,GRDDI
	LD A,(IX+9)
	BIT 7,A
	JR Z,QRTY
	LD HL,GRDD2
QRTY:	LD A,(DIR)
	LD (HL),A
	LD L,(IX+3)
	LD H,(IX+4)
	LD DE,BUFG1
	LD A,(IX+9)
	BIT 7,A
	JR Z,GDBAC
	LD DE,BUFG2
GDBAC:	ADD HL,DE
GCHRV:	LD DE,0
PNTH1:	LD B,7	;				*
PNTH2:	LD C,6	;				*
	EXX
	LD A,(IX+9)
	AND 127
	LD D,A
	EXX
	LD A,(IX+1)
	CALL DRWOB
	CALL GRDAR
	JR NDRGB
NOTOS:	LD A,(IX+11)
	CP 12
	JR NZ,NFFOS
	LD (IX+11),7
	JR NDRGB
NFFOS:	CP 11
	JR Z,FINGR
	CP 9
	JR NZ,TWNYF
	LD A,(DIR)
	XOR 1
	LD (DIR),A
	LD (IX+11),1
	JR NDRGB
TWNYF:	CP 7
	JR NZ,NGTOF
	LD A,(DIR)
	XOR 1
	LD (DIR),A
	JR FINGR
NGTOF:	CP 6
	JR Z,NDRGB
	CP 4
	JR NZ,LEEE7
DURAN:	LD (IX+11),1
	JR NDRGB
LEEE7:	CP 5
	JR Z,NDRGB
	CP 10
	JR Z,DURAN
	CP 2
	JR C,NDRGB
FINGR:	LD (IX+11),0
NDRGB:	LD HL,MANPS
	LD (HELP1+1),HL
	LD (HELP2+1),HL
	CALL G1DI2
	CALL LPRSY
	LD DE,12
	ADD IX,DE
	LD HL,MANBF+5
	LD (PUM06+1),HL
	LD A,5	;				*
	LD (PUM05+1),A	;			*
	INC A		;			*
	LD (PNTH2+1),A	;			*
	LD (PNTH4+1),A	;			*
	INC A	;				*
	LD (PNTH1+1),A	;			*
	INC A	;				*
	LD (PNTH3+1),A	;			*
	LD A,12			;			*
	LD (PUM01+1),A		;			*
	LD (PUM02+1),A		;			*
	LD A,26			;			*
	LD (PUM03+1),A		;			*
	LD (PUM04+1),A		;			*
	POP BC
	DEC B
	JP NZ,NXGRD
	XOR A
	LD (GDHIT),A
	LD A,(COLRD)
	OR A
	JR Z,NPULS
	LD A,(CASK1+16)
NXINC:	INC A
	CP 22
	JR Z,NXINC
	CP 24
	JR NZ,RADCD
	LD A,19
RADCD:	LD (CASK1+16),A
	LD (CASK2+16),A
	LD (CASK3+16),A
	LD A,1
	LD HL,BUFFD+404
	LD (HL),A
	INC HL
	LD (HL),A
	INC HL
	LD (HL),A
NPULS:	LD HL,(RM+1)
	LD A,(HL)
FENRM:	CP 238
	JR NZ,NFNCE
	LD HL,BUFFB+135
	LD DE,BUFFD+135
	LD B,10
FNLP1:	LD A,R
	AND 3
	ADD A,79
	LD (HL),A
	INC HL
	INC HL
	LD A,1
	LD (DE),A
	INC DE
	INC DE
	LD (DE),A
	LD A,R
	AND 3
	ADD A,82
	LD (HL),A
	PUSH DE
	LD DE,30
	ADD HL,DE
	POP DE
	PUSH HL
	LD HL,30
	ADD HL,DE
	EX DE,HL
	POP HL
	DJNZ FNLP1
NFNCE:	LD A,(RMTIME)
	OR A
	JR Z,NJSTN
	DEC A
	LD (RMTIME),A
	JP MISGO
NJSTN:	LD A,(RMDN)	;			*
	CP 31		;			*
	JP Z,MISGO	;			*
	LD HL,(RM+1)
	LD A,(HL)
	CP 29
	JR Z,BATSI
	CP 35
	JR Z,BATSI
	CP 34
	JR Z,BATSI	;			*
	CP 38		;			*
	JR Z,BATSI
	CP 42
	JP NZ,MISGO
BATSI:	CALL RND
	AND 63		;			*
	INC A
	CP 5
	JR NC,NBATI
	LD HL,MISL3-7
	LD DE,7
BATL1:	ADD HL,DE
	DEC A
	JR NZ,BATL1
	LD A,(HL)
	OR A
	JR NZ,NBATI
	LD (HL),224
	INC HL
	LD (HL),9
	INC HL
	LD (HL),0
	INC HL
	LD DE,288
	LD (HL),E
	INC HL
	LD (HL),D
	INC HL
	CALL RND
	AND 7
	ADD A,A
	LD E,A
	LD D,0
	LD IX,BATPM
	ADD IX,DE
	LD A,(IX+0)
	LD (HL),A
	INC HL
	LD A,(IX+1)
	LD (HL),A
	CALL RND
	AND 1
	JR Z,NBATI
	LD A,(HL)
	XOR 12
	LD (HL),A
	DEC HL
	LD A,(HL)
	XOR 12
	LD (HL),A
	DEC HL
	LD D,(HL)
	DEC HL
	LD E,(HL)
	PUSH HL
	DEC HL
	LD (HL),31
	LD HL,31
	ADD HL,DE
	EX DE,HL
	POP HL
	LD (HL),E
	INC HL
	LD (HL),D
NBATI:	LD B,4
	LD IX,MISL3
	LD DE,7
BTCOR:	LD A,(IX+1)
	CP 8
	JR Z,BTBNC
	CP 10
	JR NZ,NBTCD
BTBNC:	LD A,(IX+5)
	XOR 3
	LD (IX+5),A
NBTCD:	ADD IX,DE
	DJNZ BTCOR
MISGO:	LD A,6
	LD IX,MISL1
NXMSL:	LD (MSLNO),A
	LD A,(IX+0)
	OR A
	JP Z,NDOMS
	LD L,(IX+3)
	LD H,(IX+4)
	LD DE,BUFFD
	ADD HL,DE
	LD (HL),1
	LD C,(IX+5)
	PUSH BC
	LD B,2
MIKY2:	BIT 0,C
	CALL NZ,UPOBJ
	BIT 1,C
	CALL NZ,DOWNO
	BIT 2,C
	CALL NZ,LEFTO
	BIT 3,C
	CALL NZ,RITEO
	LD L,(IX+3)
	LD H,(IX+4)
	LD DE,BUFFB
	ADD HL,DE
	LD A,(HL)
	CP SC
	JR C,NOEL1
NOEL3:	LD (IX+0),0
	POP BC
	JP NDOMS
NOEL1:	LD DE,BUFG1-BUFFB
	ADD HL,DE
	LD A,(MSLNO)
	CP 6
	JR NZ,NOEL2
	LD A,(HL)
	INC A
	JR Z,NOEL2
	LD A,1
NOEL4:	LD (GDHIT),A
	JR NOEL3
NOEL2:	LD DE,BUFG2-BUFG1
	ADD HL,DE
	LD A,(MSLNO)
	CP 6
	JR NZ,NOEL5
	LD A,(HL)
	INC A
	JR Z,NOEL5
	LD A,2
	JR NOEL4
PANTS:	LD A,7	;				*
	PUSH HL
	LD HL,MANBF+6
	LD (PUM06+1),HL
	POP HL
	LD (PUM05+1),A	;			*
	INC A
	LD (PNTH2+1),A	;			*
	LD (PNTH4+1),A	;			*
	LD A,3		;			*
	LD (PNTH1+1),A	;			*
	INC A		;			*
	LD (PNTH3+1),A	;			*
	LD A,16			;			*
	LD (PUM01+1),A		;			*
	LD (PUM02+1),A		;			*
	LD A,24			;			*
	LD (PUM03+1),A		;			*
	LD (PUM04+1),A		;			*
	XOR A		;			*
	RET		;			*
MSLNO:	.BYTE 0
NOEL5:	LD DE,BUFFN-BUFG2
	ADD HL,DE
	LD A,(MSLNO)
	CP 6
	JR Z,NNEL5
	LD A,(HL)
	CP 224
	JR NC,NNEL5
;	NINJA HIT BY GUARDS KNIFE OR BAT
	LD B,5
	CALL DECEN
	CALL CRUNCH
	LD A,(IX+0)
	CP 224
	JR C,NOEL3
	JR BATCT
NNEL5:	LD C,(IX+6)
	DEC B	;				*
	JP NZ,MIKY2	;			*
BATCT:	POP BC
	LD L,(IX+3)
	LD H,(IX+4)
	LD DE,BUFFN
	ADD HL,DE
	LD A,(IX+0)
	LD (HL),A
	XOR 1
	LD (IX+0),A
	LD DE,BUFFD-BUFFN
	ADD HL,DE
	LD (HL),1
NDOMS:	LD DE,7
	ADD IX,DE
	LD A,(MSLNO)
	DEC A
	JP NZ,NXMSL
	LD A,(RMDN)
	OR A
	JR NZ,PICRT
	LD D,A
	LD A,(MANA)
	ADD A,48
	LD E,A
	LD HL,160-50
	ADD HL,DE
	LD (GLIPS),HL
	LD A,5
	LD (GLIDN),A
	LD DE,GLIDC
	LD BC,BUFFO
	CALL DRGLI
	LD DE,NINDC
	LD BC,BUFFD
	CALL DRGLI
PICRT:	LD A,(TVSWT)	;			*
	OR A		;			*
	JR Z,TVOFF	;			*
	LD IX,TVCNT	;			*
	DEC (IX)	;			*
	JR NZ,SIMON
	CALL RND
	LD (IX),A
	AND 3
	JR NZ,SIMN2
	CALL RND
	AND 3
	ADD A,4
	JR SIMOF
SIMON:	LD A,(IX+1)
	BIT 2,A
	JR NZ,SIMOF
SIMN2:	CALL RND
	AND 3
	CP (IX+1)
	JR NZ,SIMOF
	INC A
	AND 3
SIMOF:	LD (IX+1),A	;			*
	ADD A,A		;			*
	ADD A,A		;			*
	LD B,A		;			*
	ADD A,A		;			*
	ADD A,B		;			*
	LD L,A		;			*
	LD H,0		;			*
	LD DE,TVFZ1	;			*
	ADD HL,DE	;			*
	EX DE,HL	;			*
	LD HL,MONPS+33	;			*
	LD IX,MONPS+33+BUFFD-BUFFB	;	*
	LD C,3		;			*
TVLP1:	LD B,4		;			*
TVLP2:	LD A,(DE)	;			*
	LD (HL),A	;			*
	LD (IX),1	;			*
	INC IX		;			*
	INC DE		;			*
	INC HL		;			*
	DJNZ TVLP2	;			*
	PUSH DE		;			*
	LD DE,28	;			*
	ADD IX,DE	;			*
	ADD HL,DE	;			*
	POP DE		;			*
	DEC C		;			*
	JR NZ,TVLP1	;			*
TVOFF:	LD HL,(MANPS)	;			*
	LD DE,BUFFO+98	;			*
	ADD HL,DE	;			*
	LD A,(HL)	;			*
	CP 138		;			*
	LD A,40		;			*
	JR NZ,NCOCL	;			*
	LD A,16		;			*
NCOCL:	LD (CONC1),A	;			*
	LD (CONC2),A	;			*
	LD (CONC3),A	;			*
	CALL DOPIC	;			*
NQUIT:	LD A,(ELECU)
	OR A
	JR Z,NICK
NICK2:	LD A,R
	AND 7
	CP 1
	JR Z,NICK2
	CP 4
	JR Z,NICK2
	LD (NJCOL+1),A
	LD B,20
	CALL DECEN
NICK: LD A,(DEAD)
OR A
JR Z,NDEAD
LD A,(JUMP)
OR A
JR NZ,NDEAD
LD DE,FALLC
LD A,1
LD (JUMP),A
LD HL,LEP5P
LD (CHARN+1),DE
LD (VECTN+1),HL
NDEAD: LD A,(DEAD)
CP 2
JR Z,NDTIK
	LD HL,TIME2
	DEC (HL)
	JR NZ,NDTIK
	LD (HL),20 ; TIME DELAY
	DEC HL
	DEC (HL)
	LD A,47
	CP (HL)
	JR NZ,NTIK1
	LD (HL),57
	DEC HL
	DEC (HL)
	CP (HL)
	JR NZ,NTIK1
	LD (HL),57
	DEC HL
	DEC (HL)
	LD A,(HL)
	CP 48
	JR NZ,NTRNO
	PUSH AF
	PUSH HL
	LD DE,20582
	LD HL,TMRNM
	LD C,14
	CALL PRINT
	POP HL
	POP AF
NTRNO:	CP 47
	JR NZ,NTIK1
	LD A,2
	LD (DEAD),A
	JR NDTIK
NTIK1:	LD DE,20630
	LD HL,TIME1
	LD C,3
	CALL PRINT
NDTIK:	JP NXMAN
UPOBJ:	XOR A
	CP (IX+1)
	JR Z,OBGON
	DEC (IX+1)
	LD DE,65504
MOVOJ: LD L,(IX+3)
LD H,(IX+4)
ADD HL,DE
LD (IX+3),L
LD (IX+4),H
RET
OBGON: LD (IX+0),0
POP DE
POP DE
JP NDOMS
DOWNO: LD A,17
CP (IX+1)
JR Z,OBGON
INC (IX+1)
LD DE,32
JR MOVOJ
LEFTO: XOR A
CP (IX+2)
JR Z,OBGON
DEC (IX+2)
LD DE,65535
JR MOVOJ
RITEO: LD A,31
CP (IX+2)
JR Z,OBGON
INC (IX+2)
LD DE,1
JR MOVOJ
TMRNM:	.TEXT "TIME IS SHORT "
HELD: .BYTE 1
NEAR: .BYTE 0
MISL1: .BYTE 0,0,0		;	NINJA OBJECT
.ADDR 00
.BYTE 0,0
MISL2: .BYTE 0,8,25		;	GUARD OBJECT
.ADDR 281
.BYTE 0,0
MISL3: .BYTE 0,8,23		;	} BATS
.ADDR 279
.BYTE 0,0
MISL4: .BYTE 0,8,23
.ADDR 279
.BYTE 0,0
MISL5: .BYTE 0,8,23
.ADDR 279
.BYTE 0,0
MISL6: .BYTE 0,8,23		;	} LAST BAT
.ADDR 279
.BYTE 0,0
DEAD: .BYTE 0
JUMP: .BYTE 0
TRACK1: .BYTE 128+6,10,25	;		*MOST GUARDS
.ADDR 266
.BYTE 25,0,26,5,8,0,0
TRACK2: .BYTE 128+11,10,19
.ADDR 266
.BYTE 18,14,21,6,8,0,0
TRACK3: .BYTE 11,19,18
.ADDR 275+128
.BYTE 18,17,21,6,12+128,1,1
TRACK4: .BYTE 128+11,10,7
.ADDR 266
.BYTE 6,15,8,15,8,0,0
TRACK5: .BYTE 128+15,10,6
.ADDR 266
.BYTE 4,20,7,15,8,0,0
TRACK6: .BYTE 27,10,4
.ADDR 266
.BYTE 3,1,11,15,8+128,0,0
TRACK7: .BYTE 128+27,10,7
.ADDR 266
.BYTE 3,2,10,15,8,0,0
TRACK8: .BYTE 128+8,10,14
.ADDR 298
.BYTE 13,5,15,27,9,0,0
TRACK9: .BYTE 128+8,10,24
.ADDR 298
.BYTE 21,15,25,15,9,0,0
TRACK10: .BYTE 18,1,17
.ADDR 225+128
.BYTE 16,3,17,23,139,0,1
TRACK11: .BYTE 128+7,10,24
.ADDR 298
.BYTE 23,26,25,24,9,0,0
TRACK12: .BYTE 7,10,25
.ADDR 298
.BYTE 25,2,25,25,9+128,0,0
TRACK13: .BYTE 9,10,24
.ADDR 202+128
.BYTE 21,26,25,14,10,1,1
TRACK14: .BYTE 9,10,24
.ADDR 202
.BYTE 21,26,25,14,6+128,0,0
TRACK15: .BYTE 10,10,26
.ADDR 330
.BYTE 24,14,27,21,10+128,0,0
TRACK16: .BYTE 7,20,23
.ADDR 52 
.BYTE 23,13,24,14,1+128,0,0
TRACK17: .BYTE 3+128,20,15
.ADDR 308
.BYTE 15,11,16,20,9,0,0
TRACK18: .BYTE 5,20,17
.ADDR 308
.BYTE 16,21,17,25,9,0,0
TRACK19: .BYTE 128+7,12,15
.ADDR 268
.BYTE 15,15,15,26,8,0,0
TRACK20: .BYTE 128+2,9,12
.ADDR 265
.BYTE 11,16,12,12,8,0,0
TRACK21: .BYTE 2,5,12
.ADDR 261
.BYTE 11,16,12,12,8+128,0,0
TRACK22: .BYTE 128+11,20,28
.ADDR 276
.BYTE 28,14,28,28,8,0,0
TRACK23: .BYTE 128+4,10,14
.ADDR 234
.BYTE 13,18,15,2,7,0,0
TRACK24: .BYTE 4,10,10
.ADDR 298
.BYTE 9,10,13,10,9+128,0,0
TRACK25: .BYTE 4,10,12
.ADDR 298
.BYTE 9,11,12,24,9,0,0
TRACK26: .BYTE 10,10,8
.ADDR 106
.BYTE 8,0,10,25,8+128,0,0
TRACK27: .BYTE 12,6,23
.ADDR 230
.BYTE 22,22,23,27,7,0,0
TRACK28: .BYTE 12,6,23
.ADDR 230+128
.BYTE 22,22,23,27,139,0,1
TRACK29: .BYTE 11,6,25
.ADDR 230+128
.BYTE 24,22,27,25,11,0,1
TRACK30: .BYTE 11,6,25
.ADDR 230
.BYTE 24,22,28,6,135,0,0
TRACK31: .BYTE 9,6,27
.ADDR 262
.BYTE 26,26,27,24,8,0,0
TRACK32: .BYTE 13,6,23
.ADDR 262+128
.BYTE 22,16,24,26,12,0,1
TRACK33: .BYTE 128+13,6,23
.ADDR 262
.BYTE 22,16,26,26,136,0,0
TRACK34: .BYTE 13,8,23
.ADDR 264
.BYTE 25,1,29,8,8,0,0
TRACK35: .BYTE 13,6,28
.ADDR 262+128
.BYTE 27,1,29,8,140,0,1
TRACK36: .BYTE 128+14,6,24
.ADDR 262
.BYTE 23,16,28,11,8,0,0
TRACK37: .BYTE 15,6,27
.ADDR 262
.BYTE 26,17,29,11,8,0,0
TRACK38: .BYTE 128+18,9,24
.ADDR 265
.BYTE 23,17,25,26,8,0,0
TRACK39: .BYTE 18,6,24
.ADDR 262
.BYTE 23,17,29,12,136,0,0
TRACK40: .BYTE 18,6,27
.ADDR 262+128
.BYTE 26,1,29,12,12,0,1
TRACK41: .BYTE 128+21,6,24
.ADDR 262
.BYTE 23,16,26,26,8,0,0
TRACK42: .BYTE 22,6,24
.ADDR 262
.BYTE 22,20,27,11,8,0,0
TRACK43: .BYTE 22,6,24
.ADDR 262+128
.BYTE 22,20,27,11,140,0,1
TRACK44: .BYTE 24,6,21
.ADDR 262+128
.BYTE 20,17,23,26,12,0,1
TRACK45: .BYTE 24,6,23
.ADDR 262
.BYTE 22,1,24,26,136,0,0
TRACK46: .BYTE 24,6,25
.ADDR 262+128
.BYTE 24,1,27,26,12,0,1
TRACK47: .BYTE 128+25,6,22
.ADDR 262
.BYTE 21,17,24,6,8,0,0
TRACK48: .BYTE 128+26,6,20
.ADDR 262
.BYTE 18,16,21,11,8,0,0
TRACK49: .BYTE 128+27,6,20
.ADDR 262
.BYTE 19,1,23,11,8,0,0
TRACK50: .BYTE 128+27,6,26
.ADDR 262
.BYTE 26,0,27,11,8,0,0
TRACK51: .BYTE 29,6,23
.ADDR 262
.BYTE 21,16,26,8,8,0,0
TRACK52: .BYTE 29,10,29
.ADDR 266
.BYTE 28,16,30,26,136,0,0
TRACK53: .BYTE 128+30,6,23
.ADDR 262
.BYTE 18,16,28,11,8,0,0
TRACK54: .BYTE 30,12,23
.ADDR 268
.BYTE 18,16,28,11,136,0,0
TRACK55: .BYTE 10,10,4
.ADDR 266
.BYTE 4,3,5,21,8,0,0
TRACK56: .BYTE 128+21,6,19
.ADDR 262
.BYTE 18,0,20,11,8,0,0
TRACK57: .BYTE 22,6,20
.ADDR 262
.BYTE 19,16,20,11,8,0,0
TRACK58: .BYTE 128+18,1,17
.ADDR 225
.BYTE 16,3,17,23,7,0,0
TRACK59: .BYTE 29,10,31
.ADDR 266
.BYTE 28,14,32,3,8,0,0
TRACK60: .BYTE 27,13,2
.ADDR 269
.BYTE 1,15,2,24,128+8,0,0
TRACK61: .BYTE 128+27,10,2
.ADDR 266
.BYTE 1,15,2,24,8,0,0
TRACK62: .BYTE 6,15,5
.ADDR 175
.BYTE 5,10,5,20,5,0,0
TRACK63: .BYTE 9+128,15,4
.ADDR 271
.BYTE 4,6,4,20,8,0,0
TRACK64: .BYTE 10,15,4
.ADDR 271
.BYTE 4,1,5,20,8+128,0,0
TRACK65: .BYTE 11,15,4
.ADDR 47
.BYTE 4,1,5,7,1,0,0
TRACK66: .BYTE 11,16,4
.ADDR 304
.BYTE 4,1,4,26,9+128,0,0
TRACK67: .BYTE 12,15,4
.ADDR 47
.BYTE 4,1,4,20,1,0,0
TRACK68: .BYTE 12,16,4
.ADDR 304
.BYTE 4,1,4,26,9+128,0,0
TRACK69: .BYTE 11,10,7
.ADDR 394
.BYTE 6,15,8,27,12+128,0,1
TRACK70: .BYTE 11,10,10
.ADDR 42
.BYTE 10,1,10,25,1,0,0
TRACK71: .BYTE 11,11,10
.ADDR 43
.BYTE 10,1,10,25,128+1,0,0
TRACK72: .BYTE 10,10,9
.ADDR 106
.BYTE 8,1,10,20,3,0,0
TRACK73: .BYTE 9,10,9
.ADDR 298
.BYTE 8,1,10,20,9,0,0
TRACK74: .BYTE 9,11,9
.ADDR 299
.BYTE 8,1,10,20,128+9,0,0
TRACK75: .BYTE 8,10,8
.ADDR 298
.BYTE 8,1,9,4,9,0,0
TRACK76: .BYTE 8,10,10
.ADDR 298
.BYTE 9,19,10,20,9+128,0,0
TRACK77: .BYTE 7,10,8
.ADDR 298
.BYTE 8,1,8,24,9,0,0
TRACK78: .BYTE 7,10,10
.ADDR 298
.BYTE 10,1,10,24,128+9,0,0
TRACK79: .BYTE 9,10,13
.ADDR 266
.BYTE 12,4,17,24,8,0,0
TRACK80: .BYTE 10,10,17
.ADDR 298
.BYTE 16,20,17,24,9,0,0
TRACK81: .BYTE 10,10,15
.ADDR 298
.BYTE 14,20,16,9,9+128,0,0
TRACK82: .BYTE 10,10,13
.ADDR 298
.BYTE 12,4,14,9,9,0,0
TRACK83: .BYTE 11,10,16
.ADDR 266
.BYTE 12,5,17,11,8,0,0
TRACK84: .BYTE 11,10,14
.ADDR 266+128
.BYTE 12,4,16,25,128+12,0,1
TRACK85: .BYTE 12,10,14
.ADDR 298
.BYTE 12,4,15,8,9,0,0
TRACK86: .BYTE 12,10,16
.ADDR 298
.BYTE 15,20,17,23,128+9,0,0
TRACK87: .BYTE 17,10,12
.ADDR 170
.BYTE 12,5,14,23,5,1,0
TRACK88: .BYTE 12,10,9
.ADDR 170
.BYTE 8,6,10,24,5,1,0
TRACK89: .BYTE 13,10,9
.ADDR 266
.BYTE 7,16,10,24,8,1,0
TRACK90: .BYTE 14,10,9
.ADDR 170
.BYTE 8,6,10,24,5,1,0
TRACK91: .BYTE 15,10,9
.ADDR 266
.BYTE 8,1,10,24,8,1,0
TRACK92: .BYTE 16,10,9
.ADDR 170
.BYTE 8,6,10,24,5,1,0
TRACK93: .BYTE 17,10,9
.ADDR 170
.BYTE 8,6,10,24,5,1,0
TRACK94: .BYTE 13,10,14
.ADDR 234
.BYTE 12,4,16,23,7,1,0
TRACK95: .BYTE 13,10,17
.ADDR 234
.BYTE 16,1,17,23,128+7,1,0
TRACK96: .BYTE 14,10,14
.ADDR 234
.BYTE 12,4,17,23,7,1,0
TRACK97: .BYTE 14,10,17
.ADDR 234
.BYTE 16,1,17,23,128+7,1,0
TRACK98: .BYTE 15,10,13
.ADDR 266
.BYTE 11,20,14,24,8,1,0
TRACK99: .BYTE 15,10,13
.ADDR 394
.BYTE 11,20,14,24,128+12,1,1
TRACK100: .BYTE 16,10,13
.ADDR 170
.BYTE 12,4,14,23,5,1,0
TRACK101: .BYTE 16,10,12
.ADDR 170
.BYTE 12,5,14,23,5,1,0
GRDDI: .BYTE 0
GRDD2: .BYTE 0
G1DIS: LD A,(GRDDI)
PUSH AF
LD A,(DIR)
LD (GRDDI),A
JR NDDIS
G2DIS: LD A,(GRDD2)
PUSH AF
LD A,(DIR)
LD (GRDD2),A
JR NDDIS
G1DI2: LD A,(IX+10)
PUSH AF
LD A,(DIR)
LD (IX+10),A
NDDIS: POP AF
LD (DIR),A
RET
GRDAR: LD H,(IX+4)
LD L,(IX+3)
LD DE,BUFFD
ADD HL,DE
LD DE,NINDC
PNTH3:	LD B,8	;				*
PNTH4:	LD C,6	;				*
LD A,(IX+9)
AND 127
EXX
LD D,A
EXX
LD A,(IX+1)
JP DRWOB
TIME1: .TEXT "999"
TIME2: .BYTE 10
MANA: .BYTE 10
MAND: .BYTE 10
MANPS: .ADDR 330
RMDN: .BYTE 0
RMAC: .BYTE 0
ELECU: .BYTE 0
MANAR: LD HL,(MANPS)
LD DE,BUFFD
ADD HL,DE
LD DE,NINDC
LD B,8
LD C,6
EXX
LD A,(MAND)
LD D,A
EXX
LD A,(MANA)
JP DRWOB
DIR: .BYTE 0
MANDR: LD HL,(MANPS)
LD DE,BUFFN
ADD HL,DE
CHARN: LD DE,0
LD B,7
LD C,6
EXX
LD A,(MAND)
LD D,A
EXX
LD A,(MANA)
JP DRWOB
MOVAC: LD A,(DIR)
ADD A,A
LD D,0
LD E,A
DEC DE
LD A,(MANA)
ADD A,E
LD (MANA),A
LD HL,(MANPS)
ADD HL,DE
LD (MANPS),HL
RET
EDGES: LD A,(DIR)
OR A
LD A,(MANA)
JR Z,LEFEQ
CP 29
RET NZ
POP HL
JP RITSC
LEFEQ: CP 253
RET NZ
POP HL
JP LEFSC
JMP1P: CALL OFTOP
CALL EDGES
CALL HITJJ
CALL MOVAC
	LD B,4
	LD HL,MANBF+1
HITHL:	LD A,(HL)
	INC A
	CP SC+1
	JR NC,HRISL
	INC HL
	DJNZ HITHL
LD A,(MAND)
DEC A
LD (MAND),A
LD HL,(MANPS)
LD DE,65504
ADD HL,DE
LD (MANPS),HL
LD HL,SPEED
DEC (HL)
JP NZ,ENDVC
HRISL:	LD A,4
ARSED:	LD (SPEED),A
LD HL,SOMER
LD DE,SOM1C
XOR A
LD (SOMPS),A
JP SETVC
SOMPS: .BYTE 0
SOMAN: .ADDR SOM1C,SOM2C,SOM3C,SOM4C
SOMER: LD A,(SOMPS)
INC A
AND 3
LD (SOMPS),A
ADD A,A
LD L,A
LD H,0
LD DE,SOMAN
ADD HL,DE
LD E,(HL)
INC HL
LD D,(HL)
LD (CHARN+1),DE
JR JMP2P
FKIKS: LD HL,FKIKP
LD DE,FKIKC
JP SETVC
FKIKP:	LD A,(MANBF+6)
INC A
JR Z,JMP2P
LD DE,BUFG1+32
LD A,(DIR)
DEC A
JR NZ,LEEE8
LD DE,BUFG1+37
LEEE8: CALL HITGQ
JMP2P: CALL EDGES
CALL HITJJ
CALL MOVAC
LD HL,SPEED
DEC (HL)
JP NZ,ENDVC
LD (HL),6
ARSE2: LD HL,JMP3P
JP SETV2
JMP3P: CALL OFBOT
CALL EDGES
CALL HITJJ
LD A,(MANBF+42)
INC A
CP SC+1
JP NC,SETST
CALL FLORQ
JP NZ,SETCR
CALL MOVAC
LD A,(MAND)
INC A
LD (MAND),A
LD HL,(MANPS)
LD DE,32
ADD HL,DE
LD (MANPS),HL
LD HL,JUMPC
LD (CHARN+1),HL
LD HL,SPEED
DEC (HL)
JP NZ,ENDVC
LD A,25
SETTT: LD (SPEED),A
LD A,1
LD (HIGHT+1),A
LD (JUMP),A
LD DE,FALLC
LD HL,JMP4P
JP SETVC
TTFAL: .BYTE 0
JMP4P: CALL OFBOT
CALL EDGES
CALL FLORQ
JP NZ,HIGHT
LD HL,HIGHT+1
INC (HL)
LD A,(TTFAL)
XOR 1
LD (TTFAL),A
JP Z,NACRF
CALL HITJJ
LD A,(MANBF+42)
INC A
CP SC+1
JP NC,SETST
CALL MOVAC
NACRF: LD A,(MAND)
INC A
LD (MAND),A
LD HL,(MANPS)
LD DE,32
ADD HL,DE
LD (MANPS),HL
LD HL,SPEED
DEC (HL)
JP NZ,ENDVC
HEDWE: LD DE,FALLC
JP STL52
HITJP:	LD B,6
HITJR:	LD HL,MANBF+6
	LD DE,6
	LD C,1
HITLP:	LD A,(HL)
	INC A
	CP SC+1
	JR NC,HITDN
	ADD HL,DE
	DJNZ HITLP
	LD C,0
HITDN:	DEC C
        INC C
	RET
HITJJ:	CALL HITJP
	RET Z
	POP HL
	JR HEDWE
SLOPQ: POP BC
LD A,(MANBF+43)
CP 7
JR Z,NRNDN
LD A,(MANBF+46)
CP 7
JR Z,NRNDN
PUSH BC
LD B,5
CALL HITJR
POP BC
JP NZ,SETST
LD A,(MANBF+36)
INC A
CP SC+1
JP C,NRNUP
LD HL,MAND
DEC (HL)
LD HL,(MANPS)
LD DE,65504
ADD HL,DE
LD (MANPS),HL
CALL OFTOP
JR NRNDN
NRNUP: LD A,(MANBF+45)
CP SC
JP NC,NRNDN
LD A,(MANBF+42)  ; HOLE WIDTH
CP SC
JP NC,NRNDN
LD A,(MAND)
INC A
LD (MAND),A
LD HL,(MANPS)
LD DE,32
ADD HL,DE
LD (MANPS),HL
CALL OFBOT
PUSH BC
CALL GTBAK
CALL MANAR
CALL GTBK2
CALL FLORQ
POP BC
LD A,5
JP Z,SETTT
NRNDN: PUSH BC
RET
RITEP: CALL EDGES
CALL SLOPQ
CALL MOVAC
CALL LEGS
CALL KEY
BIT 3,A
JR Z,NJUMP
SETJP: LD A,1
LD (JUMP),A
LD (HIGHT+1),A
LD A,4
LD (SPEED),A
LD HL,JMP1P
LD DE,JUMPC
JP SETVC
SETFK: LD A,5
LD (SPEED),A
LD HL,FKIKS
LD DE,JUMPC
JP SETVC
NJUMP: BIT 4,A
JP NZ,SETFK
BIT 0,A
JP Z,SETST
JP ENDVC
SPEED: .BYTE 0
TPORT:			; IF TIME PERMITS; FLASH L.C.s
LD A,30
LD (RMAC),A
LD A,24
LD (RMDN),A
LD A,5
LD (MAND),A
LD A,4
LD (MANA),A
LD HL,164
LD (MANPS),HL
LD HL,MAPTP
LD (RM+1),HL
LD A,2
LD (NJCOL+1),A
JP INISC
RITSC: LD HL,(RM+1)
LD A,(HL)
CP 65
JR Z,TPORT
LD HL,RMAC
INC (HL)
LD A,253
LD (MANA),A
LD HL,(MANPS)
LD DE,65504
ADD HL,DE
LD DE,1
JP PIGGS
LEFSC: LD HL,RMAC
DEC (HL)
LD A,29
LD (MANA),A
LD HL,(MANPS)
LD DE,32
ADD HL,DE
LD DE,65535
JP PIGGS
LEFTP: CALL EDGES
CALL SLOPQ
CALL MOVAC
CALL LEGS
LD HL,BIKER
LD A,(HL)
INC A
JR Z,NESCP
INC A
JR Z,NESCP
DEC (HL)
JP NZ,ENDVC
LD B,17
LD DE,DEDM2
LD HL,BUFFO+263
CALL BUFOM
LD B,18	;					*
LD DE,DEDM3	;				*
LD HL,BUFFO+359	;				*
CALL BUFOM	;				*
LD A,200
LD (BIKER),A
JP SETST	;	END OF GAME
DEDM2:	.TEXT "@SPECIAL@@OFFERS@"
DEDM3:	.TEXT "@YOU@HAVE@ESCAPED@"	;	*
NESCP:	CALL KEY
BIT 3,A
JP NZ,SETJP
BIT 4,A
JP NZ,SETFK
BIT 1,A
JP Z,SETST
JP ENDVC
GLIPS: .ADDR 0
GLIDN: .BYTE 0
GLIDC:	.BYTE 255,255,255,255,69,70,71,72,73,74,255
	.BYTE 75,76,77,78,79,80,81,82,83,255,255
	.BYTE 84,85,86,87,88,89,90,91,92,93,255
	.BYTE 255,255,255,94,95,255,96,97,255,255,255
DRGLI: LD HL,GLIPS
LD (HELP1+1),HL
LD HL,(GLIPS)
ADD HL,BC
LD B,4
LD C,11
EXX
LD A,(GLIDN)
LD D,A
EXX
LD A,(MANA)
SUB 2
CALL DRWOB
NORMD:	LD HL,MANPS
LD (HELP1+1),HL
RET
DRBIK: LD HL,BIKPS
LD (HELP1+1),HL
LD HL,(MANPS)
PUSH DE
LD DE,62
ADD HL,DE
POP DE
LD (BIKPS),HL
ADD HL,BC
LD B,5
LD C,11
EXX
LD D,10
EXX
LD A,(MANA)
SUB 2
CALL DRWOB
JR NORMD
GLIDERP: LD A,(MANA)
CP 253
JP Z,LEFSC
CALL MOVAC
CALL KEY
BIT 4,A
JP NZ,AARSE
LD HL,SPEED
DEC (HL)
JP NZ,ENDVC
AARSE:	LD A,1
JP ARSED
SCUM:	.BYTE 0
BIKEP: LD A,(MANA)
CP 253
JP Z,LEFSC
CALL MOVAC
LD A,(SCUM)
XOR 1
LD (SCUM),A
JR NZ,BIKEP
LD DE,BIKMC
LD BC,BUFFO
CALL DRBIK
LD DE,NINDC
LD BC,BUFFD
CALL DRBIK
LD HL,SPEED
DEC (HL)
JP NZ,ENDVC
	LD DE,BIKEC
	LD BC,BUFFO
	CALL DRBIK
LD A,16
LD (BIKER),A
	JP SETST	;		GAME NEARLY COMPLETED
OFTOP: LD A,(MAND)
CP 249
RET NZ
LD HL,RMDN
;L2000
DEC (HL)
POP HL
ADD A,18
LD (MAND),A
LD HL,(MANPS)
LD DE,576
ADD HL,DE
LD DE,65504
JP PIGGS
LEGS: LD A,(RUNC+15)
XOR 155
LD (RUNC+15),A
LD HL,(CHARL+1)
LD DE,18
ADD HL,DE
LD (CHARL+1),HL
LD A,(LEGP)
INC A
CP 4
JR NZ,ENDL
LD HL,LEG1
LD (CHARL+1),HL
LD C,1
LD A,(MANBF+44)
CP 254
JR Z,FTL1
LD A,(MANBF+44)
CP 254
JR Z,FTL1
LD C,2
FTL1: 
LD A,(MAZMENU+7)
CP 32
JR NZ,ELITE
LD A,C
LD (NOISE),A
ELITE: XOR A
ENDL: LD (LEGP),A
CHARL: LD HL,00000
LD DE,LEGB
LD BC,18
LDIR
RET
LEGP: .BYTE 0
FFCOL: .BYTE 2,0
TMPNC: .BYTE 0,0
;
;  ************************************************************************
;
;         THIS IS WHERE THE REALLY SERIOUS AMSTRAD STUFF STARTS!
;
;  ************************************************************************
;
;  SOUND writes to AY-3-8912 as follows:-
;
;	D is AY-3-8912 register number (which is latched)
;	A is the value for that register 
;
SOUND:	DI
	PUSH	AF
	PUSH	BC
	PUSH	DE
	PUSH	HL
	LD	E,A
	LD	C,E
	LD	A,D
	LD	B,0F4H		; uPD8255 Channel A (PSG I/O)
	OUT	(C),A		; Tell which register is to be changed
	LD	B,0F6H
	IN	A,(C)		; uPD8255 Channel C (Misc I/O)
	OR	0C0H		; "Latch address"
	OUT	(C),A		; Same
	AND	3FH
	OUT	(C),A		; ?
	LD	B,0F4H
	OUT	(C),C		; Tell what value we want.
	LD	B,0F6H
	LD	C,A
	OR	80H
	OUT	(C),A
	OUT	(C),C
	POP	HL
	POP	DE
	POP	BC
	POP	AF
	EI
	RET
;
NOISE:	.BYTE	0		; Noise duration.
VOLUME:	.BYTE	0		; Volume of noise
;
AMKEY:	LD	HL,KEYSEL
	LD	BC,0500H
AMKEY1:	PUSH 	BC
	LD	E,(HL)
	LD	D,0
	LD	BC,MATRIX
	EX	DE,HL
	ADD	HL,BC
	EX	DE,HL
	POP	BC
	LD	A,(DE)
	INC	HL
	AND	(HL)
	JR	Z,AMKEY2
	SCF
AMKEY2:	RL	C
	INC	HL
	DJNZ	AMKEY1
	LD	A,C
	RRA
	JR	NC,AMKEY9
	OR	10H
AMKEY9:	LD	(KEYPRS),A
	LD	A,(MATRIX+8)
	AND	004H
	RET	Z
	LD	A,1
	LD	(DEAD),A
	XOR	A
	RET
;
KEYPRS:	.BYTE	0 ; STATUS BYTE (IN KEMP_STON FORMAT!) FROM KEYBOARD HW
;
; THIS IS THE LOW LEVEL KEYBOARD MASKS - MATRIX ENTRY NO. + BITMASK FOR
; THE DIFFERENT DEVICES.
;
KEYSEL: .BYTE	8,32,8,128,5,64,4,64,5,128 ; CURRENTLY SELECTED
ORGSEL:	.BYTE	8,32,8,128,5,64,4,64,5,128 ; ORIGINAL KEYS (2BDEL'ED)
JOYSEL:	.BYTE	9,1,9,2,9,4,9,8,9,16	   ; JOYSTICK
;
KEY:	LD	A,(KEYPRS)
	RET
;
KEMP: .BYTE 0		; IDENTIFIES KEMPSTON SELECTION
UP:   .BYTE 253,1,8	; THIS MUST BE "PORT,BIT TO TEST,RESULT (IN K-FRMT)
DOWN: .BYTE 254,2,4	; THIS APPLIES FOR ALL CONTROL KEYS USED IN
LEFT: .BYTE 127,8,2	; THE PROGRAM.
RITE: .BYTE 127,4,1
FIRE: .BYTE 127,1,16
BYTE: .BYTE 0
; 
; INTERRUPT FLAGS:-
;  B0: ENABLE
;
INTFLG:	.BYTE	0
VAL:	.BYTE	0
ACOLS:	.BYTE	4,12,19,20
BCOLS:	.BYTE	4,12,18,20
CCOLS:	.BYTE	4,12,18,20
DCOLS:	.BYTE	4,12,18,20
ECOLS:	.BYTE	21,12,10,20
FCOLS:	.BYTE	21,13,12,20
QRT:	.BYTE	0		; DEBUG DUMMY
ICOLS:	.BYTE	0,0,0,0
ICNT:	.BYTE	0,0
IC2:	.BYTE	0
;
; INTERRUPT SERVER ENTRY POINT
;
SERVER:	DI
	PUSH	AF
	PUSH	BC
	PUSH	DE
	PUSH	HL
LD A,(IC2)
INC A
CP 6
JR NZ,NOT6
XOR A
NOT6: LD (IC2),A
ADD A,A
ADD A,6
LD A,054H ;OR 040H
LD BC,07F10H
OUT (C),C
OUT (C),A
 	LD	A,(INTFLG)
 	XOR A	;RRA
 	JP	C,GOBACK
	LD	HL,VAL
	INC	(HL)
	LD	BC,0F500H
	IN	A,(C)
	RRA
	JP	NC,TICKER
FLYBCK:	LD	(HL),0
	PUSH 	IX
	EXX
	PUSH	AF
	PUSH	BC
	PUSH	DE
	PUSH	HL
	EX	AF,AF
	PUSH	AF
	CALL	MUPDAT
	POP	AF
	EX	AF,AF
	POP	HL
	POP	DE
	POP	BC
	POP	AF
	EXX
	POP	IX
	CALL	KEYSCN
	LD	A,(MAZMENU+7)
	CP	32
	JP	NZ,GOBACK
	LD	A,(NOISE)
	DEC	A
	JP	M,NONOIS	; No noise today.
	LD	(NOISE),A
	LD	D,7
	LD	A,00110111B
	CALL	SOUND
	LD	D,8
	LD	A,(VOLUME)
	INC	A
	INC 	A
	CP	010H
	JR	C,ALR16
	LD	A,15
ALR16:	LD	(VOLUME),A
	CALL	SOUND
	LD	D,6
	LD	A,255
	CALL	SOUND
	JP	GOBACK
NONOIS:	LD	D,7
	LD	A,00111111B
	CALL	SOUND
	LD	A,7
	LD	(VOLUME),A
	JP	GOBACK
TICKER:	LD	A,(INTFLG)
	RRA
	JP	C,GOBACK
	LD	A,(HL)	
	ADD	A,A
	ADD	A,A
	LD	L,A
	LD	H,0
	LD	DE,ACOLS
	ADD	HL,DE
SERV0:	LD	BC,07F00H
	LD	A,(HL)
	OUT	(C),C
	OR	040H
	OUT	(C),A
	INC	HL
	INC	C
	LD	A,(HL)
	OR	040H
	OUT	(C),C
	OUT	(C),A
	INC	HL	
	INC	C
	LD	A,(HL)
	OR	040H
	OUT	(C),C
	OUT	(C),A
	INC	HL
	INC	C
	LD	A,(HL)
	OR	040H
	OUT	(C),C
	OUT	(C),A
GOBACK:	POP	HL
	POP	DE
	POP	BC
	POP	AF
	EI
	RETI			; NO NEED FOR CONCERN ABOUT NESTED INT'S
;
; CLEAR SCREEN - USING PRTCTBLKS (TM)
; 
;  NO ENTRY PARMS, EXITS HL=0, DE=0, BC=201H, A IS PRESERVED
;  ALSO C,Z,PE,P
;
CLRSCR:	LD	HL,0C000H	; START HERE
	LD	DE,0C001H
CLRNXT:	LD	BC,005FFH	; CLEAR 24*64 BYTES (LINS,ROWS)
	LD	(HL),L	
	LDIR	
	LD	BC,00201H	; ADJUST FOR NEXT PIXEL LINE
	EX	DE,HL		; DEST
	ADD	HL,BC
	EX	DE,HL
	ADD	HL,BC		; SRC
	JR	NC,CLRNXT	; UNTIL END IS REACHED (HL BECOMES 0)
	RET
;
KEYSCN:	PUSH	AF
	PUSH 	BC
	PUSH 	HL
	LD 	HL,MATRIX
	LD 	BC,0F40EH
	OUT 	(C),C
	LD 	B,0F6H
	IN 	A,(C)
	AND 	30H
	LD 	C,A
	OR 	0C0H
	OUT 	(C),A
	OUT 	(C),C
	INC 	B
	LD 	A,92H
	OUT 	(C),A
	PUSH 	BC
	SET 	6,C
KEYSC2:	LD 	B,0F6H
	OUT 	(C),C
	LD 	B,0F4H
	IN 	A,(C)
	CPL
	LD 	(HL),A
	INC 	HL
	INC 	C
	LD 	A,C
	AND 	0FH
	CP 	0AH
	JR 	NZ,KEYSC2
	POP 	BC
	LD 	A,82H
	OUT 	(C),A
	DEC 	B
	OUT 	(C),C
	POP 	HL
	POP 	BC
	POP 	AF
	RET
;
MATRIX: .BYTE	0	(10)
;
; KEY FETCH - RETURNS CARRY SET IF OK AND KEY IN A, ELSE NC AND NO KEY IN A
;
GETKEY:	PUSH 	BC
	PUSH 	HL
	LD 	HL,MATRIX+9
	LD 	B,10
GETK1:	LD 	A,(HL)
	OR 	A
	JR 	NZ,GETK2
	DEC 	HL
	DJNZ 	GETK1
	XOR	A
	LD	C,A
	JR 	GETK9
GETK2:	LD 	C,A
	DEC 	B
	LD 	A,B
	ADD 	A,A
	ADD 	A,A
	ADD 	A,A
GETK3:	INC 	A
	RR 	C
	JR 	NC,GETK3
	DEC 	A
	LD 	HL,KEYTAB
	LD 	C,A
	LD 	B,0
	ADD 	HL,BC
	LD 	C,(HL)
	LD 	A,(LASTKEY)
	CP 	C
	JR 	NZ,GETK8
	CP	0DH
	JR 	Z,GETK9
	LD 	HL,(DBOUNCE)
	DEC 	HL
	LD 	(DBOUNCE),HL
	LD 	A,H
	OR 	L
	LD 	A,C
	JR 	NZ,GETK9
GETK8:	LD 	HL,20H
	LD 	(DBOUNCE),HL
	SCF
GETK9:	LD 	A,C
	LD 	(LASTKEY),A
	POP 	HL
	POP 	BC
	RET
;
DBOUNCE: 	.WORD	0
LASTKEY: 	.BYTE	0
;
KEYTAB: .BYTE 89H,8EH,8AH
	.TEXT "963"
	.BYTE 0DH
	.TEXT "."
	.BYTE 8BH,88H
	.TEXT "785120"
	.BYTE 0CH
	.TEXT "["
	.BYTE 0DH
	.TEXT "]4"
	.BYTE 8DH
	.BYTE 05CH
	.BYTE 80H
	.TEXT "^-@P;:/."
	.TEXT "09OILKM,"
	.TEXT "87UYHJN "
	.TEXT "65RTGFBV"
	.TEXT "43EWSDCX"
	.TEXT "12"
	.BYTE 0FCH
	.TEXT "Q"
	.BYTE 9
	.TEXT "A"
	.BYTE 8CH
	.TEXT "Z"
	.BYTE 81H,82H,83H,84H,85H,87H,88H,7FH
;
; 	F0 = UP  	F3 = RIGHT	F1 = DOWN
; 	F2 = LEFT	E0 = COPY	FE = SHIFT
;	80 = CTRL	FC = ESCAPE	FD = CAPS
; 	81 = JS UP	82 = JS DOWN	83 = JS LEFT
; 	84 = JS RIGHT	85 = JS FIRE1	86 = JS FIRE2
; 	87 = SPARE
;
RDCH:	CALL	GETKEY
	JR 	NC,RDCH
	RET
;
; KEYB RETURNS CARRY IF KEY IS OK, ELSE NC AND A=0. (KIND OF INKEY$)
;
KEYB:	CALL	GETKEY
	OR	A
	RET	Z
	SCF
	RET
;
; SET SCREEN MODE TO (A) - BUT THIS DOESN'T RESET THE SCREEN START ADDRESS!!
;
SETMDE:	PUSH 	AF
	PUSH 	BC
	PUSH 	DE
	PUSH 	HL
	OR 	8CH
	LD 	B,7FH
	OUT 	(C),A
	CALL 	CLRSCR
	POP 	HL
	POP 	DE
	POP 	BC
	POP 	AF
	RET
;
; CALL WITH A=BORDER COLOUR 0-15
;
SETBDR:	PUSH 	AF
	PUSH 	BC
	PUSH 	DE
	PUSH 	HL
	LD 	BC,7F10H
	OR	040H
	DI
	OUT 	(C),C
	OUT 	(C),A
	EI
	POP 	HL
	POP 	DE
	POP 	BC
	POP 	AF
	RET
;
INKS1:	LD	HL,INK1T+3
	JR	FROMT
INKS2:	LD	HL,INK2T+3
FROMT:	LD	B,4
FROMT2:	LD	A,B
	DEC	A
	LD	E,(HL)
	CALL	SETINK
	DEC	HL
	DJNZ	FROMT2
	RET
INK1T:	.BYTE	4,10,12,20
INK2T:	.BYTE	20,27,12,20
;
; POKE COLOUR A WITH PALETTE VALUE E 
; IE. A=PHYSICAL COLOUR, E=LOGICAL COLOUR
;
SETINK:	PUSH 	AF
	PUSH 	BC
	PUSH 	HL
	AND 	1FH
	LD 	B,7FH
	DI
	OUT 	(C),A
	LD	A,E
	OR	040H
	OUT 	(C),A
	EI
	POP 	HL
	POP 	BC
	POP 	AF
	RET
;
CCONV:	.BYTE	20,4,28,24,22,6,30,0	; SPECTRUM EQUIVALENT COLOURS.
;
DOPIC:	LD HL,FFCOL
LD A,(HL)
XOR 4
LD (HL),A
INC HL
LD (HL),0
LD HL,BUFFN
LD (NINPT),HL
LD HL,BUFG1
LD (GD1PT),HL
LD HL,BUFG2
LD (GD2PT),HL
LD HL,BUFFO
LD (OBJPT),HL
LD HL,BUFFB
LD DE,BUFFD
EXX
LD HL,0C000H
EXX
LD IX,BUFFD
LD B,18
LOOP1: LD C,32
LOOP2: PUSH BC
PUSH HL
PUSH DE
EXX
PUSH HL
EXX
LD A,(IX)
OR A
JP Z,NDRAW
LD A,(HL)
LD (BAKCR),A
LD H,0
LD L,A
PUSH HL
POP DE
ADD HL,HL
ADD HL,HL
ADD HL,HL
ADD HL,DE
LD DE,BCHRS
ADD HL,DE
LD DE,PIX
LDI
LDI
LDI
LDI
LDI
LDI
LDI
LDI
LDI
GRD1: LD HL,(GD1PT)
XOR A
LD (FFCOL+1),A
LD A,(HL)
LD L,A
INC A
JR Z,GRD2
LD B,0
CP 164
JR C,FFCL2
CP 167
JR NC,FFCL2
LD A,(FFCOL)
LD (FFCOL+1),A
LD B,A
FFCL2:	LD A,(COL)
AND 248
OR B
LD (COL),A
LD H,0
ADD HL,HL
ADD HL,HL
ADD HL,HL
LD DE,GCHRS
ADD HL,DE
LD DE,PIX
LD B,8
CALL G1DIS
LOGP5: LD A,(DE)
LD C,A
LD A,(HL)
LD (I3EAL+2),A
PUSH IX
LD IX,MASKT+128
I3EAL:	LD A,(IX+0)
POP IX
CALL REFQ
AND C
LD C,A
LD A,(HL)
CALL REFQ
OR C
LD (DE),A
INC HL
INC DE
DJNZ LOGP5
CALL G1DIS
GRD2: LD HL,(GD2PT)
LD A,(HL)
LD L,A
INC A
JR Z,NINJA
	LD A,(COL)
	AND 248
	LD (COL),A
LD H,0
ADD HL,HL
ADD HL,HL
ADD HL,HL
LD DE,GCHRS
ADD HL,DE
LD DE,PIX
LD B,8
CALL G2DIS
LOGB5: LD A,(DE)
LD C,A
LD A,(HL)
LD (I2EAL+2),A
PUSH IX
LD IX,MASKT+128
I2EAL:	LD A,(IX+0)
POP IX
CALL REFQ
AND C
LD C,A
LD A,(HL)
CALL REFQ
OR C
LD (DE),A
INC HL
INC DE
DJNZ LOGB5
CALL G2DIS
NINJA: LD A,(NJCOL+1)
LD (TMPNC),A
LD HL,(NINPT)
LD A,(HL)
LD L,A
INC A
JP Z,OBJDA
CP 225
JR NC,WILSN
CP 211
JR C,WILSN
CP 215
JR C,WLSN2
CP 219
JR C,WILSN
WLSN2:	LD A,(BAKCR)
DEC A
JR NZ,WILSN
LD A,7
LD (NJCOL+1),A
JR HYPN2
WILSN:	LD A,(BAKCR)
CP 79
JR C,OBJD
CP 86
JR NC,OBJD
LD A,(DECEN+1)
OR A
JR Z,OBJD
LD A,1
LD (ELECU),A
OBJD: LD A,(FFCOL+1)
OR A
JR Z,HYPN2
PUSH HL
LD B,3
CALL DECEN
POP HL
JR HYPNO
HYPN2:LD A,(COL)
AND 248
NJCOL: OR 0
LD (COL),A
HYPNO:	LD A,(TMPNC)
LD (NJCOL+1),A
LD H,0
ADD HL,HL
ADD HL,HL
ADD HL,HL
LD DE,NCHRS
ADD HL,DE
LD DE,PIX
LD B,8
LOOP5: LD A,(DE)
LD C,A
LD A,(HL)
LD (IDEAL+2),A
PUSH IX
LD IX,MASKT+128
IDEAL:	LD A,(IX+0)
POP IX
CALL REFQ
AND C
LD C,A
LD A,(HL)
CALL REFQ
OR C
INC HL
LD (DE),A
INC DE
DJNZ LOOP5
OBJDA:	LD HL,COL
LD A,16
COLRD: .BYTE 0
LD HL,(OBJPT)
LD A,(HL)
LD L,A
INC A
JR Z,DRAW
LD H,0
PUSH HL
ADD HL,HL
ADD HL,HL
ADD HL,HL
CP 229
JP NC,BUFWR
ADD HL,HL
POP DE
ADD HL,DE
LD DE,OCHRS
ADD HL,DE
LD DE,PIX
LD B,8
LPOP8: LD A,(DE)
AND (HL)
INC HL
OR (HL)
INC HL
LD (DE),A
INC DE
DJNZ LPOP8
LD A,(HL)
CP 255
JR Z,DRAW
LD (DE),A
DRAW:	LD A,(PIX+8)	; COLOUR BYTE
	AND 7		; INK
	JR Z,DBLACK
	CP 2
	JR Z,DRED
	DEC A
	JR Z,DRED
	LD A,1		; GREEN/YELLOW CAN BE SWOPPED HERE...
	JR DRED
DBLACK:	LD A,3	
DRED:	LD C,A		; REARRANGE COLOUR TO AMSTRAD
	XOR A
	RR C
	JR NC,DRRC1
	OR 0FH
DRRC1:	RR C
	JR NC,DRRC2
	OR 0F0H
DRRC2:	EXX
	LD C,A		; C IS FOREGROUND AND MASK
	EXX
	LD A,(PIX+8)	; COLOUR BYTE
	RRCA
	RRCA
	RRCA
	AND 7		; INK
	JR Z,PBLACK
	CP 2
	JR Z,PRED
	DEC A
	JR Z,PRED
	LD A,1		; GREEN/YELLOW CAN BE SWOPPED HERE...
	JR PRED
PBLACK:	LD A,3	
PRED:	LD C,A		; REARRANGE COLOUR TO AMSTRAD
	XOR A
	RR C
	JR NC,PRRC1
	OR 0FH
PRRC1:	RR C
	JR NC,PRRC2
	OR 0F0H
PRRC2:	EXX
	LD B,A		; C IS FOREGROUND AND MASK
	EXX
	LD B,8		; DRAW UP SHITTY BYTE
	LD HL,PIX	; LOCATED HERE (CHANGE PIX+9 & BACKWARDS)
LOOP3:	LD A,(HL)
	EXX
	LD D,.UBYTE EXPTAB
	LD E,A
	LD A,(DE)	; 1ST EXPANDED (LEFT) BYTE
	PUSH HL
	AND C
	LD L,A
	LD A,(DE)
	CPL
	AND B
	OR L
	POP HL
	LD (HL),A
	INC D
	INC L
	LD A,(DE)	; 2ND EXPANDED (RIGHT) BYTE
	PUSH HL
	AND C
	LD L,A
	LD A,(DE)
	CPL
	AND B
	OR L
	POP HL
	LD (HL),A
	DEC L
	LD A,H
	ADD A,8
	LD H,A		; NEXT PIXEL LINE
	EXX
	INC HL
	DJNZ LOOP3
NDRAW: 	EXX
	POP HL
	INC HL
	INC HL		; NEXT POSITION IN D.F.
	EXX
	LD HL,(NINPT)
	INC HL
	LD (NINPT),HL
	LD HL,(GD1PT)
	INC HL
	LD (GD1PT),HL
	LD HL,(GD2PT)
	INC HL
	LD (GD2PT),HL
	LD HL,(OBJPT)
	INC HL
	LD (OBJPT),HL
	POP DE
	POP HL
	POP BC
	INC DE
	INC HL
	INC IX
	DEC C
	JP NZ,LOOP2
	DEC B
	JP NZ,LOOP1
	RET

;
BUFWR: POP DE
LD DE,CHARSET-1568
ADD HL,DE
CP 229
JR NZ,NOEL6
LD HL,CHARSET
NOEL6: LD DE,PIX
LD B,8
LOOP8: LD A,(HL)
LD (DE),A
INC DE
INC HL
DJNZ LOOP8
LD A,32
LD (DE),A
JP DRAW
BUFOM: LD C,B
BOML1: LD A,(DE)
ADD A,228-64
LD (HL),A
INC DE
INC HL
DJNZ BOML1
LD DE,BUFFD-BUFFO
ADD HL,DE
BOML2: DEC HL
LD (HL),1
DEC C
JR NZ,BOML2
RET
REFQ: PUSH BC
LD B,A
LD A,(DIR)
OR A
LD A,B
POP BC
RET Z
LD (REFL+2),A
PUSH IX
LD IX,REFBF+128
REFL: LD A,(IX+0)
POP IX
RET
NINPT: .ADDR 0
OBJPT: .ADDR 0
GD1PT: .ADDR 0
GD2PT: .ADDR 0
PIX: .BYTE 0 (8)
COL: .BYTE 2
BAKCR: .BYTE 0
OCHRS: .BYTE 21,234,0,191,0,251,32,223,66,181,0,255,8,183,8,247,33
.BYTE 0,255,0,129,0,129,0,129,0,129,0,129,0,129,0,129,48
.BYTE 0,255,0,216,0,168,0,216,0,255,0,138,0,138,0,138,16
.BYTE 0,255,0,0,0,0,0,0,0,255,0,170,0,170,0,170,16
.BYTE 0,255,0,21,0,27,0,21,0,255,0,177,0,177,0,177,16
.BYTE 0,138,0,138,0,143,0,168,0,168,0,136,0,143,0,138,16
.BYTE 0,170,0,170,0,255,0,0,0,0,0,0,0,255,0,170,16
.BYTE 0,177,0,177,0,241,0,21,0,21,0,17,0,241,0,177,16
.BYTE 0,138,0,138,0,138,0,143,0,168,0,168,0,136,0,255,16
.BYTE 0,170,0,170,0,170,0,255,0,0,0,0,0,0,0,255,16
;10
.BYTE 0,177,0,177,0,177,0,241,0,21,0,21,0,17,0,255,16
.BYTE 255,0,255,0,255,0,252,3,254,1,254,1,240,15,192,58,32
.BYTE 252,3,248,4,192,56,0,192,0,0,0,0,0,0,0,0,32
.BYTE 14,241,0,14,0,0,0,0,0,0,0,0,0,0,0,0,32
.BYTE 127,128,31,96,15,16,15,16,7,8,3,12,1,2,1,2,32
.BYTE 128,85,192,58,224,20,192,58,0,212,192,42,192,55,128,106,32
.BYTE 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,32
.BYTE 0,254,0,254,0,255,0,255,0,254,0,248,0,254,0,252,12
.BYTE 0,217,0,170,0,85,0,170,0,217,0,170,0,217,0,250,32
.BYTE 0,0,0,0,0,0,0,128,0,80,0,232,0,245,0,234,32
;20
.BYTE 0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,62,32
.BYTE 0,254,0,254,0,252,0,254,0,254,0,248,0,252,0,192,12
CASK1: .BYTE 0,0,0,14,0,53,0,107,0,111,0,222,0,53,0,186,20
CASK2: .BYTE 0,0,0,214,0,111,0,222,0,107,0,186,0,111,0,107,20
CASK3: .BYTE 0,0,0,212,0,186,0,222,0,186,0,111,0,53,0,214,20
.BYTE 0,255,0,128,0,128,0,159,0,152,0,152,0,152,0,152,48
.BYTE 0,255,0,0,0,0,0,255,0,0,0,0,0,0,0,0,48
.BYTE 0,255,0,1,0,1,0,249,0,9,0,9,0,9,0,9,48
.BYTE 0,152,0,152,0,159,0,159,0,128,0,128,0,128,0,255,48
.BYTE 0,0,0,0,0,255,0,255,0,0,0,0,0,0,0,255,48
;30
.BYTE 0,9,0,9,0,249,0,249,0,1,0,1,0,1,0,255,48
.BYTE 0,255,0,255,0,253,0,255,0,255,0,255,0,255,0,191,8
.BYTE 0,129,0,255,0,129,0,129,0,129,0,129,0,129,0,129,48
.BYTE 0,23,0,43,0,23,0,43,0,23,0,43,0,23,0,43,69
.BYTE 0,255,0,128,0,128,0,255,0,128,0,128,0,128,0,128,40
.BYTE 0,255,0,0,0,0,0,255,0,1,0,1,0,1,0,1,40
.BYTE 0,255,0,0,0,0,0,255,0,0,0,0,0,0,0,255,40
.BYTE 0,255,0,0,0,0,0,255,0,128,0,128,0,128,0,128,40
.BYTE 0,255,0,1,0,1,0,255,0,1,0,1,0,1,0,1,40
.BYTE 0,128,0,128,0,128,0,128,0,128,0,128,0,128,0,255,40
;40
.BYTE 0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,255,40
.BYTE 0,255,0,136,0,175,0,136,0,143,0,168,0,143,0,255,16
.BYTE 0,255,0,17,0,245,0,17,0,241,0,21,0,241,0,255,16
.BYTE 0,255,0,0,0,74,0,85,0,74,0,85,0,74,0,255,5
.BYTE 0,255,0,6,0,190,0,94,0,190,0,94,0,190,0,255,15
.BYTE 0,0,0,85,0,74,0,85,0,74,0,85,0,255,0,0,5
.BYTE 0,6,0,94,0,190,0,94,0,190,0,94,0,255,0,6,15
.BYTE 0,74,0,85,0,74,0,85,0,74,0,255,0,0,0,85,5
.BYTE 0,190,0,94,0,190,0,94,0,190,0,255,0,6,0,94,15
;TREE
.BYTE 248,0,48,6,24,193,12,33,196,17,128,18,0,109,0,142,8
;50
.BYTE 31,64,63,128,127,0,63,0,31,64,63,128,127,0,255,0,8
.BYTE 65,24,195,24,131,40,131,56,129,52,67,24,2,152,0,85,8
.BYTE 255,0,239,0,199,16,143,32,7,112,15,64,63,128,63,128,8
.BYTE 255,0,255,0,255,0,251,0,113,4,1,132,3,120,129,8,8
.BYTE 0,85,128,58,128,62,129,60,131,40,135,48,7,112,7,112,8
.BYTE 128,62,0,90,160,15,240,5,224,6,128,31,0,97,30,128,8
.BYTE 131,24,7,96,3,208,33,140,51,128,31,64,15,160,15,160,8
.BYTE 254,0,252,0,220,1,136,35,192,23,192,30,129,52,3,104,8
.BYTE 15,224,31,192,63,128,127,0,127,0,255,0,255,0,255,0,8
.BYTE 2,208,0,109,0,83,128,59,192,30,224,14,240,7,240,7,8
;60
.BYTE 7,240,7,240,15,160,31,192,63,128,63,128,127,0,127,0,8
.BYTE 240,5,224,13,224,13,224,10,192,26,193,28,193,28,129,52,8
.BYTE 129,52,131,56,3,88,3,104,3,104,3,232,3,168,7,208,8
.BYTE 252,1,252,1,252,1,248,3,248,3,248,3,240,5,240,5,8
.BYTE 7,208,7,208,7,208,15,160,15,160,15,160,15,160,15,160,8
.BYTE 240,7,224,15,224,14,224,10,192,26,192,31,192,29,128,60,8
.BYTE 31,64,31,64,31,192,31,192,31,64,31,64,31,64,15,96,8
.BYTE 128,62,128,53,0,127,0,127,0,118,0,111,0,110,0,237,8
.BYTE 15,160,31,64,31,64,31,64,15,160,7,80,0,168,0,215,8
; END OF TREE DATA
.BYTE 0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,127,14
;70
.BYTE 0,0,0,0,0,0,0,0,0,0,0,31,0,255,0,255,14
.BYTE 0,0,0,0,0,0,0,7,0,255,0,255,0,255,0,255,14
.BYTE 0,0,0,0,0,31,0,255,0,255,0,255,0,255,0,255,14
.BYTE 0,1,0,127,0,255,0,255,0,255,0,255,0,255,0,255,14
.BYTE 0,248,0,252,0,254,0,254,0,255,0,255,0,255,0,192,14
.BYTE 0,0,0,0,0,0,0,0,0,0,0,31,0,127,0,255,14
.BYTE 0,0,0,0,0,0,0,7,0,255,0,255,0,255,0,128,14
.BYTE 0,0,0,1,0,63,0,255,0,255,0,255,0,128,0,127,14
.BYTE 0,15,0,255,0,255,0,255,0,255,0,128,0,85,0,255,6
.BYTE 0,255,0,255,0,255,0,255,0,192,0,170,0,85,0,255,6
;80
.BYTE 0,255,0,255,0,255,0,224,0,21,0,170,0,87,0,255,6
.BYTE 0,255,0,255,0,240,0,10,0,85,0,170,0,255,0,255,6
.BYTE 0,255,0,224,0,21,0,170,0,85,0,170,0,255,0,255,6
.BYTE 0,228,0,12,0,84,0,172,0,86,0,190,0,255,0,255,6
.BYTE 0,112,0,15,0,1,0,0,0,0,0,0,0,0,0,0,14
.BYTE 0,0,0,255,0,240,0,15,0,0,0,0,0,0,0,0,14
.BYTE 0,0,0,255,0,5,0,255,0,63,0,0,0,0,0,0,14
.BYTE 0,0,0,255,0,85,0,255,0,255,0,255,0,3,0,0,14
.BYTE 0,0,0,191,0,5,0,42,0,111,0,111,0,87,0,0,14
.BYTE 0,0,0,255,0,85,0,170,0,213,0,255,0,255,0,255,6
;90
.BYTE 0,0,0,255,0,85,0,170,0,85,0,250,0,255,0,255,6
.BYTE 0,0,0,255,0,85,0,170,0,86,0,172,0,244,0,254,6
.BYTE 0,0,0,255,0,0,0,0,0,0,0,0,0,0,0,0,14
.BYTE 0,64,0,224,0,0,0,0,0,0,0,0,0,0,0,0,14
.BYTE 0,4,0,8,0,8,0,17,0,49,0,33,0,34,0,181,8
.BYTE 0,168,0,168,0,164,0,20,0,20,0,18,0,5,0,221,8
.BYTE 0,255,0,1,0,0,0,0,0,0,0,0,0,0,0,0,14
.BYTE 0,255,0,255,0,0,0,0,0,0,0,0,0,0,0,0,14
.BYTE 248,1,241,6,226,8,197,16,138,32,20,64,42,65,84,69,8
.BYTE 31,192,31,64,31,64,63,128,63,128,63,128,127,0,127,0,8
;100
.BYTE 254,0,252,1,252,1,248,3,240,6,224,14,224,15,224,9,8
.BYTE 160,129,64,15,128,23,64,62,0,190,0,95,0,223,0,231,8
.BYTE 255,0,255,0,255,0,255,0,255,0,1,0,0,254,0,1,8
.BYTE 255,0,255,0,255,0,255,0,252,0,248,3,248,1,248,2,8
.BYTE 0,11,0,15,0,7,0,3,0,252,0,253,0,253,0,123,10
.BYTE 0,248,0,254,0,255,0,255,0,255,0,127,0,190,0,159,10
.BYTE 0,0,0,0,0,128,0,246,0,246,0,245,0,117,0,59,2
.BYTE 0,207,0,191,0,127,0,127,0,120,0,189,0,189,0,190,8
.BYTE 0,255,0,255,0,255,0,128,0,0,0,170,0,213,0,170,16
.BYTE 0,63,0,127,0,255,0,253,0,170,0,85,0,172,0,0,2
;110
.BYTE 0,255,0,255,0,255,0,127,0,191,0,195,0,0,0,0,2
.BYTE 0,192,0,224,0,232,0,232,0,224,0,224,0,144,0,80,10
.BYTE 240,7,240,7,224,15,224,15,192,31,192,30,192,30,192,30,8
.BYTE 0,155,0,199,16,134,64,12,0,44,0,92,128,90,0,90,8
.BYTE 0,111,0,119,0,251,0,253,0,61,128,25,0,21,128,45,10
.BYTE 0,157,0,157,0,174,0,174,0,183,0,215,0,207,0,239,2
.BYTE 0,95,0,94,0,174,0,151,0,87,0,107,0,167,0,207,40
.BYTE 0,0,0,252,0,71,0,237,0,165,0,169,0,87,0,122,40
.BYTE 0,209,0,184,0,188,0,254,0,193,0,254,0,192,0,170,40
.BYTE 0,135,0,135,0,67,0,60,0,224,0,0,0,21,0,170,40
;120
.BYTE 3,184,3,216,1,236,0,230,0,246,1,240,7,240,7,240,8
.BYTE 192,30,224,15,224,15,240,7,240,7,248,3,252,1,254,0,8
.BYTE 1,100,2,56,69,0,0,128,0,255,0,255,0,255,0,127,8
.BYTE 0,60,130,56,3,120,7,240,7,240,15,224,31,192,63,0,8
.BYTE 0,231,0,241,0,127,0,63,0,0,0,0,0,0,0,0,10
.BYTE 0,231,0,255,0,255,0,255,0,0,0,0,0,0,0,0,10
.BYTE 0,241,0,255,0,255,0,252,0,0,0,0,0,0,0,0,10
.BYTE 0,85,0,255,0,126,0,127,128,63,192,31,224,15,240,3,8
.BYTE 0,87,0,249,160,3,0,15,0,255,0,255,0,255,0,252,8
.BYTE 7,240,15,224,15,224,31,192,31,192,63,128,127,0,255,0,8
;130
;BIKE CLEAR
.BYTE 127,0,63,128,7,224,0,248,0,255,0,255,0,255,0,255,8
.BYTE 255,0,255,0,255,0,255,0,7,0,0,248,0,255,0,255,8
.BYTE 255,0,255,0,255,0,255,0,255,0,255,0,3,0,0,252,8
.BYTE 255,0,255,0,255,0,255,0,255,0,252,0,224,3,0,28,8
.BYTE 0,255,0,63,0,255,0,31,0,103,0,177,0,173,0,168,40
.BYTE 0,240,0,192,0,128,0,0,0,0,0,170,0,213,0,170,16
.BYTE 0,93,0,72,0,172,0,148,0,84,0,106,0,170,0,222,40
.BYTE 255,0,0,255,0,255,0,128,0,191,0,129,0,128,0,255
CONC1:	.BYTE 40	;			*
.BYTE 0,255,0,255,0,0,0,126,0,2,0,2,0,0,0,255
CONC2:	.BYTE 40
.BYTE 0,255,0,255,0,1,0,253,0,5,0,5,0,1,0,255
CONC3:	.BYTE 40
;140
.BYTE 131,56,131,56,131,56,131,56,131,56,131,56,131,56,131,56,32
.BYTE 193,28,193,28,193,28,193,28,193,28,193,28,193,28,193,28,32
BUFCL: LD HL,BUFFN
LD DE,BUFFN+1
LD BC,575
JOREL: LD (HL),255
LDIR
RET
BUFC2: LD HL,BUFG1
LD DE,BUFG1+1
LD BC,1151
JR JOREL
NINDC: .BYTE 1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1
.BYTE 1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1
BIKNC: .BYTE 255,255,255,255,255,255,255,206,255,255,255,255,255,207,208,209
.BYTE 255,255,255,214,215,216,217,255,255,255,255,255,255,255,255,255,255
.BYTE 255,255,255
GLINC: .BYTE 255,255,255,255,255,255,198,255,255,255,255,255,199,200,201,202
.BYTE 203,204,255,205,255,255,255,255,255,255,255,255,255,255,255,255,255
.BYTE 255
SOM1C: .BYTE 255,255,255,255,255,255,255,255,160,161,255,255,255,255,162,163
.BYTE 164,255,255,255,165,166,167,255,255,255,255,168,169,255,255,255,255
SOM2C: .BYTE 255,255,255,255,255,255,255,255,255,170,171,255,255,255,172,173
.BYTE 174,255,255,255,175,176,177,255,255,255,255,255,255,255,255,255,255,255
SOM3C: .BYTE 255,255,255,255,255,255,255,255,178,179,180,255,255,255,181,182
.BYTE 183,255,255,255,184,185,186,255,255,255,255,187,188,255,255,255,255,255
SOM4C: .BYTE 255,255,255,255,255,255,255,255,189,190,191,255,255,255,192,193
.BYTE 194,255,255,255,195,196,197,255,255,255,255,255,255,255,255,255,255,255
STANC: .BYTE 255,255,255,255,255,255,255,255,0,1,255,255,255,255,2,3,4,255,255
.BYTE 255,5,6,7,255,255,255,8,9,255,255,255,255,10,11,12,255,255,13,14,15,16
LADDC: .BYTE 255,255,255,99,255,255,255,100,101,102,255,255,255,103,104
.BYTE 105,255,255,255,255,106,107,255,255,255,255,108,109,110,255
.BYTE 255,255,111,112,255,255,255,255,113,255,255,255
PUNCC: .BYTE 255,255,255,255,255,255,255,255
.BYTE 255,17,18,255,19,20,21,22,23,255,255,255,24,25,26,255
.BYTE 255,255,8,9,255,255,255,255,10,11,12,255,255,13,14,15,16,255
RUNC: .BYTE 255,255,255,255,255,255,255,255
.BYTE 27,255,255,255,255,28,29,30,255,255,255,31,32,33,255,255
LEGB: .BYTE 0 (18)
LEG1: .BYTE 255,255,34,35,255,255,255,255,36,37,255,255,255,255,38,39,255,255
LEG2: .BYTE 255,40,41,42,255,255,255,43,44,45,255,255,255,255,46,47,255,255
LEG3: .BYTE 255,48,49,50,255,255,255,51,52,53,255,255,255,255,54,55,56,255
LEG4: .BYTE 255,57,58,59,255,255,255,60,61,62,63,255,255,64,255,65,66,255
CRKIC: .BYTE 255,255,255,255,255,255,255,255
.BYTE 255,255,255,255,255,255,255,255,255,255,255,255,255,17,18
.BYTE 255,19,20,21,22,23,255,255,67,68,69,70,255,71,72,73,255,74,255
CRUTC: .BYTE 255,255,255,255,255,255,255,255
.BYTE 255,255,255,255,255,255,255,255,255,255,255,255,255,17,18
.BYTE 255,255,255,2,22,23,255,255,75,76,69,70,255,255,77,78,255,74,255
SWIMC: .BYTE 255,255,255,255,255,255,255,255
.BYTE 255,255,255,255,255,255,255,255,255,255,79,80,81,18,82
FOOTC: .BYTE 83,2,22
.BYTE 74,20,2,23,255,255,255,255,255,255,255,255,255,255,255,255
JUMPC: .BYTE 255,255,255,255,255,255,255,255,85,17
.BYTE 255,255,255,255,86,87,255,255,255,255,88,89,255,255,255,255,90,91
.BYTE 255,255,255,255,92,93,255,255,255,255,255,94,255,255
KICKC: .BYTE 255,255,255,255,255,255,255,95,85,17
.BYTE 255,255,255,96,86,87,255,255,255,255,97,89,255,255,255,255,98,91
.BYTE 255,255,255,255,92,93,255,255,255,255,255,94,255,255
FKIKC: .BYTE 255,114,255,115,116,255,117,118,119,120,121,255,122,123
       .BYTE 124,125,126,255,255,255,127,128,129,255,255,255,255,130
       .BYTE 131,255,255,255,255,132,255,255,255,255,255,255,255,255
DEDNC: .BYTE 255,255,255,255,255,255,255,255,255,255,255,255,255,255,255
.BYTE 255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255
.BYTE 134,255,255,255,255,135,136,137,138,255
FALLC: .BYTE 255,139,140,141,142,255,255,143,144,145,146,255,255,255,147,148
.BYTE 149,255,255,255,150,151,255,255,255,152,153,154,255,255,255,155,156
.BYTE 157,255,255,255,255,158,159,255,255
DRWOB: LD (HORIZ+1),A
LD (HRRIZ+1),A
LD A,(DIR)
DEC A
JP Z,DROBR
EXX
LD BC,MANBF
HELP1: LD HL,(MANPS)
PUSH DE
LD DE,BUFFB
ADD HL,DE
POP DE
EXX
LD A,C
LD (LOOP6+1),A
LOOP6: LD C,6
EXX
PUSH HL
HORIZ: LD E,0
EXX
PUSH HL
LOOP7: EXX
LD A,E
EXX
CP 32
JR NC,NBUNG
EXX
LD A,D
EXX
CP 18
JR NC,NBUNG
EXX
LD A,(HL)
CC: NOP
EXX
CP SC
JR NC,NBUNG
LD A,(DE)
LD (HL),A
NBUNG: EXX
INC E
INC HL
INC BC
EXX
INC HL
INC DE
DEC C
JR NZ,LOOP7
POP HL
PUSH DE
LD DE,32
ADD HL,DE
POP DE
EXX
INC D
POP HL
PUSH DE
LD DE,32
ADD HL,DE
POP DE
EXX
DJNZ LOOP6
RET
.BYTE 0 (20)
MANBF: .BYTE 0 (48)
CRUTP: CALL FLORQ
JR NZ,NFALC
	LD HL,(MANPS)
	LD DE,BUFFO+34
	CALL LFEDQ
	ADD HL,DE
	XOR A
	CP (HL)
	LD B,2
	CALL Z,DECEN
LD HL,MAND
INC (HL)
LD HL,(MANPS)
LD DE,32
ADD HL,DE
LD (MANPS),HL
	LD DE,BUFFO+34
	CALL LFEDQ
	ADD HL,DE
	XOR A
	CP (HL)
	JP NZ,SETST
	JR SINK
FLORQ: LD HL,MANBF+43
LD C,1
LD B,4
FLOL1: LD A,(HL)
INC A
CP SC+1
JR NC,HTSMF
INC HL
DJNZ FLOL1
DEC C
RET
HTSMF: INC C
RET
NFALC: LD A,(MAND)
CP 255
LD DE,BUFFO+34
JP P,NDT
LD DE,BUFFO+194
NDT: CALL LFEDQ
LD HL,(MANPS)
ADD HL,DE
LD A,(HL)
OR A
JR Z,SINK
CALL KEY
BIT 4,A
JP Z,NKIKK
LD A,1
LD (SPEED),A
LD HL,CRKIP
LD DE,CRKIC
JP SETVC
NKIKK: BIT 2,A
JP Z,SETST
SINK: CALL KEY
BIT 1,A
JR Z,NSWL
LD A,(DIR)
DEC A
JR Z,CRRT
CALL SWIMQ
LD B,2
CALL DECEN
LD DE,SWIMC
LD HL,SWILP
JP SETVC
CRRT: LD (DIR),A
JP ENDVC
CLRT: INC A
LD (DIR),A
JP ENDVC
NSWL: BIT 0,A
JR Z,NSWR
LD A,(DIR)
OR A
JR Z,CLRT
CALL SWIMQ
LD DE,SWIMC
LD HL,SWIRP
JP SETVC
SWIMQ: LD HL,(MANPS)
LD DE,BUFFO+130
CALL LFEDQ
ADD HL,DE
XOR A
CP (HL)
RET Z
POP HL
JP ENDVC
NSWR: JP ENDVC
CRKIP: LD A,(SPEED)
OR A
JR Z,LEE78
LD A,(MANBF+36)
INC A
JR Z,LEE98
LD DE,BUFG1+192
LD A,(DIR)
DEC A
JR NZ,LEE87
LD DE,BUFG1+197
LEE87: CALL HITGQ
LEE98: LD A,(MANBF+24)
INC A
JR Z,LEE78
LD DE,BUFG1+128
LD A,(DIR)
DEC A
JR NZ,LEE77
LD DE,BUFG1+133
LEE77: CALL HITGQ
LEE78: XOR A
LD (SPEED),A
CALL KEY
BIT 4,A
JP NZ,ENDVC
SETCR: XOR A
LD (JUMP),A
LD HL,CRUTP
LD DE,CRUTC
JP SETVC
STSRM:	
.BYTE 1
.TEXT "STASH SEARCHED"
TAKEP:	LD HL,SPEED
	DEC (HL)
	JP NZ,ENDVC
	LD HL,(NERST)
	LD A,(HL)
	LD (TEMPN),A
	LD B,STAQQ		;	NO OF OBJECTS PER STASH
GETUP:	INC HL
	LD A,(HL)
	DEC HL
	LD (HL),A
	INC HL
	CP 3
	JR Z,YEPPY
	DJNZ GETUP
YEPPY:	DEC HL
	LD A,(TEMPN)
	CP 4
	JR NZ,NPAPT
	LD HL,(PTSPS)
	INC HL
	LD (PTSPS),HL
	LD D,H
	LD E,L
	LD HL,TAPCT
	INC (HL)
	DEC HL
	LD A,R
	AND 1
	ADD A,37
	LD (HL),A
	LD C,1
	CALL PRINT
	LD B,100
	CALL MONUP
	JP SETST
PTSPS:	.ADDR 00
TAPEC:	.BYTE 0
TAPCT:	.BYTE 0
TAPTT: .BYTE 0
NPAPT:	LD B,0
LD A,(DEFGH)
OR A
JR NZ,JOEE1
LD B,128
JOEE1:	LD A,(HELD)
	OR A
	JR NZ,LARF1
	LD A,3
LD B,0
LARF1:	OR B
	LD (HL),A
DEC B
INC B
JR Z,JOEE2
LD A,1
LD (DEFGH),A
JOEE2:	LD A,(TEMPN)
	BIT 7,A
	JR Z,IRISH
	AND 127
PUSH AF
LD HL,0C8B6H ;23259
LD B,8
XRNRC:	; LD (HL),128+15	; IF TIME PERMITS... 
INC HL
DJNZ XRNRC
LD HL,STSRM
LD C,14
LD DE,20582
CALL PRINT
POP AF
IRISH:	CP 3
	JR NZ,LARF2
	XOR A
LARF2:	LD (HELD),A
	CALL HLDOD
JP SETST
FIREP:	LD A,(MANBF+12)
INC A
JR Z,LEE68
LD A,(HELD)
CP 0
JR Z,NCHUK
	LD A,(DIR)
	DEC A
	LD BC,1288
	LD DE,69
	JR Z,MIKY1
	LD BC,4
	LD DE,64
	MIKY1: LD A,(MANA)
	ADD A,B
	LD HL,(MANPS)
	ADD HL,DE
	LD (MISL1+2),A
	LD A,(MAND)
	ADD A,2
	LD (MISL1+1),A
	LD A,(HELD)
	ADD A,A
	ADD A,208  ;  FIRST OBJECT THROWABLE-2
	LD (MISL1),A
	XOR A
	LD (HELD),A
	CALL HLDOD
	LD (MISL1+3),HL
	LD A,C
	LD (MISL1+5),A
	LD (MISL1+6),A
	CALL KEY
	LD HL,MISL1+6
	BIT 3,A
	JR Z,NOEL7
	JR NOEL8
NOEL7:	BIT 2,A
	JR Z,LEE68
	INC (HL)
NOEL8:	INC (HL) 
	JR LEE68
NCHUK: LD A,(SPEED)
OR A
JR Z,LEE68
LD DE,BUFG1+32
LD A,(DIR)
DEC A
JR NZ,LEE67
LD DE,BUFG1+37
LEE67: CALL HITGQ
LEE68: XOR A
LD (SPEED),A
CALL KEY
BIT 4,A
JP Z,SETST
JP ENDVC
HITGQ: LD HL,(MANPS)
ADD HL,DE
LD A,(HL)
INC A
JR Z,NKCG1
LD A,1
LE234: LD (GDHIT),A
LD A,1
LD (SPEED),A
RET
NKCG1: LD DE,BUFG2-BUFG1
ADD HL,DE
LD A,(HL)
INC A
RET Z
LD A,2
JR LE234
KICKP: LD A,2
LD (SPEED),A
LD HL,KIKHP
LD DE,KICKC
JP SETVC
KIKHP: LD HL,SPEED
DEC (HL)
JR NZ,LEE20
LD HL,KIK2P
LD DE,JUMPC
JP SETVC
LEE20: LD A,(MANBF+7)
INC A
JR Z,LEE89
LD DE,BUFG1+33
LD A,(DIR)
DEC A
JR NZ,LEE88
LD DE,BUFG1+36
LEE88: CALL HITGQ
LEE89: JP ENDVC
KIK2P: JP SETST
ENTIM: .BYTE 1
RESTP: LD HL,ENTIM
DEC (HL)
RET NZ
LD (HL),2
LD A,(NRGCR+1)
CP 14
JR NZ,NGOKU
LD A,(NRGPX+1)
CP 1
RET Z
NGOKU: CALL NRGUP
LD B,1
CALL DECN2
CALL NRGUP
RET
;
; NEAR/HELD PICCIES
;
NERDR: PUSH HL
OR A
JR NZ,NGROD
LD HL,DEFGH
LD A,(HL)
OR A
JR Z,NGROD
DEC (HL)
LD HL,(NERST)
LD B,STAQQ
ELMLL:	LD A,(HL)
AND 127
LD (HL),A
INC HL
DJNZ ELMLL
LD HL,0C8B6H 	;23259
LD B,8
ELML2: 		;LD (HL),15
INC HL
DJNZ ELML2
CALL MONYP
XOR A
NGROD:	LD HL,26*2
JR TEACH
HLDOD: LD A,(HELD)
PUSH HL
LD HL,0
TEACH: LD (TEECH+1),HL
AND 127
PUSH BC
PUSH DE
LD L,A
LD H,0
ADD HL,HL
LD DE,OBPCL
ADD HL,DE
LD E,(HL)
INC HL
LD D,(HL)
LD C,24
PUSH DE
LD IY,96
ADD IY,DE
POP DE
LD IX,OJDDF
OJDL2: LD B,4
LD L,(IX+0)
LD H,(IX+1)
PUSH DE
TEECH: LD DE,00	; ADD FOR NEAR
ADD HL,DE
POP DE
INC IX
INC IX
OJDL1: LD A,(DE)
PUSH DE
LD D,.UBYTE EXPTAB
LD E,A
LD A,(DE)
LD (HL),A
INC L
INC D
LD A,(DE)
LD (HL),A
POP DE
INC L
INC DE
DJNZ OJDL1
DEC C
JR NZ,OJDL2
POP DE
POP BC
POP HL
RET
OJDDF:	.WORD 0C4C2H,0CCC2H,0D4C2H,0DCC2H,0E4C2H,0ECC2H,0F4C2H,0FCC2H
	.WORD 0C502H,0CD02H,0D502H,0DD02H,0E502H,0ED02H,0F502H,0FD02H
	.WORD 0C542H,0CD42H,0D542H,0DD42H,0E542H,0ED42H,0F542H,0FD42H
; ATTRIBUTE VALUES (REDUNDANT)
       .ADDR 23137,23169,23201
OBPCL: .ADDR OPIC0,OPIC1,OPIC2,OPIC3,OPIC4,OPIC6,OPIC4,OPIC5
;		NOTHING PICTURE       ?     ?      ?    ?
OPIC0: .BYTE 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
       .BYTE 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
       .BYTE 0,0,0,0,75,221,42,94,106,73,43,82,106,73,43,80,122,73,235,214
       .BYTE 90,73,42,210,90,73,42,210,75,201,42,94,0,0,0,0,0,0,0,0,15,15,15,15
;		SHURIKEN PICTURE
OPIC1: .BYTE 0,0,0,0,0,0,128,0,0,0,128,0,0,0,128,0,0,1,128,0,0,1,128,0,0,3,192
       .BYTE 0,0,127,240,0,0,15,254,0,0,3,192,0,0,1,128,0,0,1,128,0,0,1,0,0,0
       .BYTE 1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,117,86,85,210,69,85,85,26
       .BYTE 119,86,89,158,21,85,85,22,117,37,85,210,0,0,0,0,0,69,7,0
       .BYTE 0,71,5,0,15,15,15,15
;		DAGGER PICTURE
OPIC2: .BYTE 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,224,0,192,3
       .BYTE 192,1,0,15,0,1,0,60,0,1,0,240,0,1,3,192,0,1,15,0,0,1,60,0,0,1,240
       .BYTE 0,0,3,192,0,0,15,192,0,0,63,96,0,0,124,24,128,0,112,7,0,0,0,0,0,0
       .BYTE 0,0,0,0,0,0,0,0,0,0,0,0,6,6,71,71,6,71,71,71,6,6,6,6
;		EMPTY CACHE PICTURE
OPIC3: .BYTE 0,3,192,0,0,2,192,0,0,2,192,0,0,2,192,0,0,15,240,0,0,5,224,0,0,2
       .BYTE 192,0,0,1,128,0,255,255,255,255,255,255,255,255,0,0,0,0,40,0,0,20
       .BYTE 72,0,0,18,15,255,255,240,10,170,170,176,10,170,170,176
       .BYTE 0,0,0,0,75,221,42,94,106,73,43,82,106,73,43,80,122,73,235,214
       .BYTE 90,73,42,210,90,73,42,210,75,201,42,94
       .BYTE 4,4,4,4,48,48,48,48,15,15,15,15
;		PAPER TAPE PICTURE   ( QUESTION MARK )
OPIC4: .BYTE 0,0,0,0,0,7,224,0,0,29,120,0,0,42,172,0,0,64,22,0,0,67,138,0,0,36
       .BYTE 70,0,0,24,42,0,0,0,38,0,0,0,76,0,0,0,148,0,0,1,40,0,0,2,80,0,0,4
       .BYTE 160,0,0,5,64,0,0,4,192,0,0,7,192,0,0,0,0,0,0,3,128,0,0,6,192,0,0
       .BYTE 5,64,0,0,4,192,0,0,3,128,0,0,0,0,0
       .BYTE 67,67,67,67,67,67,67,67,67,67,67,67
;		SPANNER PICTURE
OPIC5: .BYTE 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,56,0,0,0,124,0,0,0,224,0,0,3,224
       .BYTE 0,0,14,228,0,0,59,252,0,0,239,56,0,3,188,0,0,14,240,0,0,59,192
       .BYTE 0,15,111,0,0,31,188,0,0,19,240,0,0,3,192,0,0,3,128,0,0,31,0,0,0
       .BYTE 14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
       .BYTE 0,0,69,5,69,69,5,69,5,69,0,0
;		PIPE PICTURE
OPIC6: .BYTE 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,127,255,255,254
       .BYTE 95,127,255,254,95,7,15,14,64,0,0,2,127,255,255,254,0,0,0,0
       .BYTE 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,126,126,126,126,99,24
       .BYTE 99,96,99,24,99,126,126,24,126,96,96,24,96,96,96,126,96,126
       .BYTE 0,0,0,0
       .BYTE 71,71,7,7,69,69,5,5,15,15,15,15
STANP: CALL RESTP
CALL FLORQ
JR NZ,NFALS
DSEND: LD DE,FALLC
SETLP: LD A,1
LD (HIGHT+1),A
LD (JUMP),A
STL52: LD HL,LEP5P
JP SETVC
NFALS:	LD A,(BIKER)
CP 16
JP Z,LOK
CP 200
JP Z,COMPL
	CALL KEY
	BIT 4,A
	JP Z,NFIRE
			;CONSOLE CHECK
	LD A,(MANBF+20)
	INC A
	JP Z,NCONU
	LD HL,(MANPS)
	LD DE,BUFFO+98
	ADD HL,DE
	LD A,(HL)
	CP 138
	JP NZ,NCONU
; LIFTSWAP OR FENSWAP OR CODEROP
	LD HL,(RM+1)
	LD A,(HL)
	CP 61
	JR Z,K2DAQ	;			*
	CP 77		;			*
	JP Z,KODAQ	;			*
NSEEC:	LD A,(LFT1)
	XOR 238
	LD (LFT1),A
	LD A,(LFT3)
	XOR 255
	LD (LFT3),A
	LD HL,LIFDM
	INC A
	JR Z,BUTCR
	LD HL,LIFUM
BUTCR:	LD C,14	;				*
	LD DE,20582	;			*
	CALL PRINT	;			*
	JP ENDVC
KODAQ:	LD A,(DRFNT+1)	;			*
	INC A		;			*
	JR Z,NSEEC	;			*
	LD HL,FENRM+1	;			*
	LD A,(HL)	;			*
	XOR 17		;			*
	LD (HL),A	;			*
	LD HL,FENOF	;			*
	LD C,14		;			*
	INC A		;			*
	JR Z,BUTCR	;			*
	LD HL,FENON	;			*
	JR BUTCR	;			*
K2DAQ:	LD DE,20582	;			*
	LD C,14
	LD HL,TAPCT	;	TAPES HELD
	LD A,(TAPTT)	;	TAPES ALREADY PLACED
	OR A
	JR Z,KINTE
	LD (HL),A	;	IF CODE TRIED, REPEAT LAST TRY
KINTE:	LD A,(HL)
	OR A
	JR Z,KODNA
	LD A,(NTPND)	;	TAPES NEEDED
	CP (HL)
	JR NC,KDNTA
JIUWC:	LD A,(TAPTT)
	OR A
	JR NZ,ALRGM
	PUSH DE
	PUSH BC
	CALL PLFHN	;			*
	POP BC
	POP DE
ALRGM:	LD A,(TAPCT)
	LD (TAPTT),A
	LD HL,KODAK
	CALL PRINT
ERACD:	LD DE,20613;				*
	LD (PTSPS),DE
	INC DE;					*
	LD HL,SPCHR
	LD C,14
	CALL PRINT
	JP ENDVC
KODNA:	LD HL,KODIN
	CALL PRINT
	JP ENDVC
KDNTA:	JR Z,JIUWC
	LD HL,KODAN
	CALL PRINT
	JR ERACD
NTPND:	.BYTE 0
KODIN:	.TEXT " CODE  NEEDED "
KODAK:	.TEXT "CODE  ACCEPTED"
KODAN:	.TEXT "CODE  REJECTED"
LIFDM:	.TEXT " LIFT IS DOWN "
LIFUM:	.TEXT "  LIFT IS UP  "
FENON:	.TEXT "  FENCE IS ON "	;		*
FENOF:	.TEXT " FENCE IS OFF "	;		*
NCONU:	LD A,(NEAR)
OR A
JR Z,MAZZ1
LD A,2
LD DE,CRUTC
LD HL,TAKEP
JP SETSP
MAZZ1: LD A,1
LD (SPEED),A
LD HL,FIREP
LD DE,PUNCC
JP SETVC
NFIRE: BIT 1,A
JR Z,NLEFT
LD A,(DIR)
CP 0
JR Z,LOK
DEC A
LD (DIR),A
JP ENDVC
LOK: CALL SETLG
LD HL,LEFTP
LD DE,RUNC
JP SETVC
NLEFT: BIT 2,A
JR Z,NDOWN
LD A,(DIR)
CP 0
LD A,(MANBF+42)
JR Z,FEGJB
LD A,(MANBF+47)
FEGJB: CP 212
JR NZ,NLFTD
LD A,(BUFFB+549)
CP 8
JR NZ,NLFTD
CALL MONYP
LD HL,LIFTD
JP SETV2
NLFTD: LD A,(DIR)
CP 0
LD A,(MANBF+44)
JR Z,AAAAA
LD A,(MANBF+45)
AAAAA: CP 44
JR Z,SETL2
CP 37
JR Z,SETL2
CP 9
JR Z,SETL2
CP 5
JP NZ,SETCR
SETL2: LD HL,LADDP
LD DE,LADDC
LD (CHARN+1),DE
LD (VECTN+1),HL
JP ONTLD
SETLD: LD HL,LADDP
LD DE,LADDC
JP SETVC
NDOWN: BIT 0,A
JR Z,NRITE
LD A,(DIR)
CP 1
JR Z,ROK
INC A
LD (DIR),A
JP ENDVC
ROK: CALL SETLG
LD HL,RITEP
LD DE,RUNC
JP SETVC
NRITE:	BIT 3,A
	JR Z,NKICK
	LD A,(DIR)
	OR A
	JR NZ,NPOSR
	LD HL,(MANPS)
	LD DE,BUFFO+64
	ADD HL,DE
	LD A,(HL)
	CP 98
	JR NZ,NPOSR
	LD A,254
	LD (BIKER),A
	LD HL,BIKEP
	LD DE,BIKNC
	LD A,253
	LD (BIKER),A
	LD A,109
	JP SETSP
NPOSR:	LD A,(DIR)
	OR A
LD A,(MANBF+42)
JR Z,FEGJ2
LD A,(MANBF+47)
FEGJ2: CP 212
JR NZ,NLFTU
LD A,(BUFFB+549)
CP 8
JR Z,NLFTU
CALL MONYP
LD HL,LIFTU
JP SETV2
NLFTU: LD A,(DIR)
CP 0
LD A,(MANBF+38)
JR Z,BBBBB
LD A,(MANBF+39)
BBBBB: CP 9
JP Z,SETLD
CP 5
JP Z,SETLD
CP 37
JP Z,SETLD
CP 44
JP Z,SETLD
CP 16
JP Z,SETLD
LD HL,KICKP
LD DE,JUMPC
JP SETVC
NKICK: JP ENDVC
SETLG: LD HL,LEG1
LD (CHARL+1),HL
LD DE,LEGB
LD BC,18
LDIR
XOR A
LD (LEGP),A
RET
LADDP: LD A,(DIR)
CP 0
LD A,(MANBF+38)
JR Z,HGUEF
LD A,(MANBF+39)
HGUEF: CP 5
JR Z,STLOL
CP 9
JR Z,STLOL
CP 16
JR Z,STLOL
CP 37
JR Z,STLOL
CP 44
JR Z,STLOL
CP 204
JR Z,STLOL
CP 255
JR Z,STLOL
JP SETST
STLOL: CALL KEY
BIT 0,A
JR Z,NTOFR
LD A,1
LD (DIR),A
JR OFLDQ
NTOFR: BIT 1,A
JR Z,NTOFL
XOR A
LD (DIR),A
OFLDQ: LD A,(MANBF+37)
CP SC
JP NC,ENDVC
LD A,(MANBF+43)
INC A
CP SC
JP NC,SETST
JP ENDVC
NTOFL: BIT 3,A
JR Z,NUPL
;UP CHECK
LD A,(MAND)
DEC A
JP M,LCLUY
LD HL,(MANPS)
LD DE,BUFFB-30
ADD HL,DE
LD A,(HL)
CP 204
JR Z,LCLUY
CP SC
JP NC,ENDVC
LCLUY: CALL OFTOP
LD A,(MAND)
DEC A
LD (MAND),A
LD HL,(MANPS)
LD DE,65504
ADD HL,DE
LD (MANPS),HL
NXRNG: LD A,(DIR)
XOR 1
LD (DIR),A
JP ENDVC
NUPL: BIT 2,A
JP Z,ENDVC
LD A,(MANBF+44)
INC A
CP SC
JP NC,SETST
LD A,(MANBF+45)
INC A
CP SC
JP NC,SETST
ONTLD: CALL OFBOT
LD A,(MAND)
INC A
LD (MAND),A
LD HL,(MANPS)
LD DE,32
ADD HL,DE
LD (MANPS),HL
JR NXRNG
OFBOT: LD A,(MAND)
CP 11
;L3000
RET NZ
LD HL,RMDN
INC (HL)
POP HL
SUB 17
LD (MAND),A
LD HL,(MANPS)
LD DE,64992
ADD HL,DE
LD DE,32
PIGGS:	LD (MANPS),HL
LD HL,(RM+1)
ADD HL,DE
LD (RM+1),HL
XOR A
LD (NJCOL+1),A
JP INISC
LEP5P: CALL OFBOT
CALL FLORQ
JR Z,HJRRF
LD A,(DEAD)
OR A
JR Z,HIGHT
LD B,20
LD DE,DEDM1
LD A,(DEAD)	;				*
DEC A		;				*
JR NZ,TIMMY	;				*
LD DE,DEDM4	;				*
TIMMY:	LD HL,BUFFO+262	;			*
CALL BUFOM
	LD A,(BIKER)
	CP 253
	JR NZ,ALRTD
	LD DE,BIKEC
	LD BC,BUFFO
	CALL DRBIK
ALRTD:	LD DE,NINDC
	LD BC,BUFFD
	CALL DRBIK
	LD DE,DEDNC ;DEAD NINJA CHARS
LD HL,DIING
LD A,30
JP SETSP
DEDM1: .TEXT "@MISSION@TERMINATED@"
DEDM4: .TEXT "@@MISSION@@FAILURE@@"	;	*
HIGHT: LD B,1
CALL DECEN
CALL CRUNCH	;				*
JP SETCR
HJRRF: LD HL,HIGHT+1
LD A,250
CP (HL)
JR Z,NOEL
INC (HL)
NOEL: LD A,(MAND)
INC A
LD (MAND),A
LD HL,(MANPS)
LD DE,32
ADD HL,DE
LD (MANPS),HL
JP ENDVC
LIFTD: LD A,17
LD (LFT1),A
XOR A
LD (LFT3),A
CALL RESTP
CALL OFBOT
LD A,(MAND)
INC A
LD (MAND),A
LD HL,(MANPS)
LD DE,32
ADD HL,DE
LD (MANPS),HL
LD DE,BUFFB+192
ADD HL,DE
LD B,6
ST1LF: LD (HL),8
INC HL
DJNZ ST1LF
LD A,(MAND)
CP 11
JR Z,JHGYG
LD DE,26
ADD HL,DE
LD DE,PLATF
LD B,6
ST2LF: LD A,(DE)
LD (HL),A
INC HL
INC DE
DJNZ ST2LF
LD DE,BUFFD-BUFFB
ADD HL,DE
LD B,6
JHJDE: DEC HL
LD (HL),1
DJNZ JHJDE
JHGYG: CALL KEY
LD HL,LIFTU
BIT 3,A
JP NZ,SETV2
LD A,255
LD (LFT1),A
LD (LFT3),A
LD HL,(MANPS)
LD DE,BUFFB+256
ADD HL,DE
LD A,(HL)
CP 250
JP NZ,ENDVC
JP SETCR
LIFTU: LD A,255
LD (LFT1),A
LD (LFT3),A
CALL RESTP
CALL OFTOP
LD A,(MAND)
DEC A
LD (MAND),A
LD HL,(MANPS)
LD DE,65504
ADD HL,DE
LD (MANPS),HL
LD A,(MAND)
CP 11
JR Z,JHGY2
LD DE,BUFFB+224
ADD HL,DE
LD B,6
LD DE,PLATF
ST4LF: LD A,(DE)
LD (HL),A
INC HL
INC DE
DJNZ ST4LF
ST5LF: LD A,(MAND)
CP 10
JR Z,JHGY2
LD DE,26
ADD HL,DE
LD B,6
ST6LF: LD (HL),8
INC HL
DJNZ ST6LF
LD DE,BUFFD-BUFFB
ADD HL,DE
LD B,6
ST7LF: DEC HL
LD (HL),1
DJNZ ST7LF
JHGY2: CALL KEY
LD HL,LIFTD
BIT 2,A
JP NZ,SETV2
LD A,17
LD (LFT1),A
XOR A
LD (LFT3),A
LD HL,(MANPS)
LD DE,BUFFB+191
ADD HL,DE
LD A,(HL)
CP 8
JP NZ,ENDVC
LD HL,MAND
DEC (HL)
LD HL,(MANPS)
LD DE,65504
ADD HL,DE
LD (MANPS),HL
JP SETST
DIING: LD HL,SPEED
DEC (HL)
JP NZ,ENDVC
JP FNISH
SETSP: LD (SPEED),A
SETVC: LD (CHARN+1),DE
SETV2: LD (VECTN+1),HL
JP ENDVC
SETST: XOR A
LD (JUMP),A
LD HL,STANP
LD DE,STANC
JP SETVC
DROBR: EXX
PUM06:	LD BC,MANBF+5	;	ALTER
HELP2: LD HL,(MANPS)
PUSH DE
LD DE,BUFFB
ADD HL,DE
POP DE
EXX
LD A,C
LD (LROP6+1),A
PUSH HL
PUM05:	LD HL,5		;	ALTER
ADD HL,DE
EX DE,HL
POP HL
LROP6: LD C,6
EXX
HRRIZ: LD E,0
EXX
LROP7: EXX
LD A,E
EXX
CP 32
JR NC,NRUNG
EXX
LD A,D
EXX
CP 18
JR NC,NRUNG
EXX
LD A,(HL)
CB: NOP
EXX
CP SC
JR NC,NRUNG
LD A,(DE)
LD (HL),A
NRUNG: EXX
INC E
INC HL
DEC BC
EXX
INC HL
DEC DE
DEC C
JR NZ,LROP7
PUSH DE
PUM04:	LD DE,26	;	ALTER TO 24 FOR PUMA
ADD HL,DE
POP DE
PUSH HL
PUM02:	LD HL,12	;	ALTER TO 16 FOR PUMA
ADD HL,DE
EX DE,HL
POP HL
EXX
INC D
PUSH DE
PUM03:	LD DE,26	;	ALTER TO 24 FOR PUMA
ADD HL,DE
PUSH HL
PUSH BC
POP HL
PUM01:	LD DE,12	;	ALTER TO 16 FOR PUMA
ADD HL,DE
PUSH HL
POP BC
POP HL
POP DE
EXX
DJNZ LROP6
RET
SWIRP: LD A,(MANA)
CP 29
JP Z,RITSC
CP 26
JR NC,NCHK1
LD HL,(MANPS)
LD DE,BUFFB+198
ADD HL,DE
LD A,(HL)
CP SC
JR NC,BLOW1
LD A,(MANA)
NCHK1: INC A
LD (MANA),A
LD HL,(MANPS)
INC HL
LD (MANPS),HL
BLOW1: CALL LEGSW
CALL KEY
BIT 0,A
FLOTQ: JP Z,SETCR
LD DE,BUFFO+98
CALL LFEDQ
LD HL,(MANPS)
ADD HL,DE
LD A,(HL)
OR A
JR NZ,NFLOT
LD HL,MAND
DEC (HL)
LD HL,(MANPS)
LD DE,65504
ADD HL,DE
LD (MANPS),HL
NFLOT: JP ENDVC
LFEDQ: LD A,(MANA)
CP 253
RET NZ
INC DE
RET
SWILP: LD A,(MANA)
CP 253
JP Z,LEFSC
CP 1
JP M,FEEFW
LD HL,(MANPS)
LD DE,BUFFB+191
ADD HL,DE
LD A,(HL)
CP SC
JR NC,CUNTA
LD A,(MANA)
FEEFW: DEC A
LD (MANA),A
LD HL,(MANPS)
DEC HL
LD (MANPS),HL
CUNTA: CALL LEGSW
CALL KEY
BIT 1,A
JP FLOTQ
LEGSW: LD A,(FOOTC)
XOR 7
LD (FOOTC),A
RET
RM0: .BYTE 3,1,19,255
RM1: .BYTE 0,64,252
.ADDR BUFFB+512
.BYTE 0,17,252
.ADDR BUFFB+256
.BYTE 0,32,250
.ADDR BUFFB
.BYTE 33,15
.ADDR BUFFB+49
.BYTE 100,99,19,255
RM2: .BYTE 0,68,250
.ADDR BUFFB+508
.BYTE 0,2,250
.ADDR BUFFB+478
.BYTE 2,4,2,252
.ADDR BUFFB+512
.BYTE 2,2,5,250
.ADDR BUFFB+30
.BYTE 33,2
.ADDR BUFFB+523
.BYTE 40,41,50,255
RM3: .BYTE 2,10,18,250
.ADDR BUFFB
.BYTE 2,8,8,0
.ADDR BUFFB+192
.BYTE 2,7,18,250
.ADDR BUFFB+25
.BYTE 1,2,247
.ADDR BUFFB+233
.BYTE 1,2,0
.ADDR BUFFB+232
.BYTE 2,5,6,251
.ADDR BUFFB+303
.BYTE 2,7,2,251
.ADDR BUFFB+526
.BYTE 0,17,249
.ADDR BUFFB+41
.BYTE 0,3,248
.ADDR BUFFB+272
.BYTE 0,5,248
.ADDR BUFFB+495
.BYTE 4,246
.ADDR BUFFB+271
.BYTE 4,245
.ADDR BUFFB+275
.BYTE 4,246
.ADDR BUFFB+494
.BYTE 4,245
.ADDR BUFFB+500
.BYTE 5,34,255
RM4: .BYTE 3,1,19
.BYTE 0,96,250
.ADDR BUFFB+480
.BYTE 1,10,2
.ADDR BUFFB+12
.BYTE 1,10,2
.ADDR BUFFB+23
.BYTE 0,10,242
.ADDR BUFFB+301
.BYTE 7,5,243
.ADDR BUFFB+332
.BYTE 7,5,3
.ADDR BUFFB+331
.BYTE 7,3,3
.ADDR BUFFB+341
.BYTE 7,4,243
.ADDR BUFFB+342
.BYTE 6,5,241
.ADDR BUFFB+343
.BYTE 6,5,4
.ADDR BUFFB+344
.BYTE 6,4,241
.ADDR BUFFB+333
.BYTE 6,3,4
.ADDR BUFFB+334
.BYTE 8,15
.ADDR BUFFB+17
.BYTE 15
.ADDR BUFFB+305
.BYTE 104,255
RM5: .BYTE 3,1,19
.BYTE 1,18,2
.ADDR BUFFB+12
.BYTE 1,18,2
.ADDR BUFFB+23
.BYTE 0,10,242
.ADDR BUFFB+141
.BYTE 0,10,242
.ADDR BUFFB+493
.BYTE 8,18
.ADDR BUFFB+17
.BYTE 104,255
RM6: .BYTE 3,1,19
.BYTE 1,5,2
.ADDR BUFFB+428
.BYTE 1,5,2
.ADDR BUFFB+439
.BYTE 1,12,2
.ADDR BUFFB+22
.BYTE 1,12,2
.ADDR BUFFB+20
.BYTE 1,3,2
.ADDR BUFFB+309
.BYTE 0,20,242
.ADDR BUFFB+391
.BYTE 8,6
.ADDR BUFFB+401
.BYTE 0,7,7
.ADDR BUFFB+384
.BYTE 104,255
RM7: .BYTE 3,1,19
.BYTE 0,32,7
.ADDR BUFFB+384
.BYTE 255
RM8: .BYTE 3,1,19
.BYTE 0,96,250
.ADDR BUFFB+480
.BYTE 43,45,255
RM9: .BYTE 0,64,252
.ADDR BUFFB+512
.BYTE 0,6,250
.ADDR BUFFB+256
.BYTE 0,26,252
.ADDR BUFFB+262
.BYTE 0,20,250
.ADDR BUFFB+12
.BYTE 7,7,250
.ADDR BUFFB+43
.BYTE 7,7,250
.ADDR BUFFB+44
.BYTE 10,7,1
.ADDR BUFFB+5
.BYTE 2,5,8,1
.ADDR BUFFB
.BYTE 101,255
RM10: .BYTE 3,1,19
.BYTE 0,18,250
.ADDR BUFFB+494
.BYTE 0,19,250
.ADDR BUFFB+525
.BYTE 0,20,250
.ADDR BUFFB+556
.BYTE 44,255
RM11: .BYTE 3,1,19
.BYTE 2,10,3,250
.ADDR BUFFB+480
.BYTE 2,7,3,250
.ADDR BUFFB+505
.BYTE 0,17,249
.ADDR BUFFB+521
.BYTE 48,255
RM12: .BYTE 3,1,19
.BYTE 0,44,252
.ADDR BUFFB+532
.BYTE 2,20,2,250
.ADDR BUFFB+512
.BYTE 0,7,250
.ADDR BUFFB+281
.BYTE 7,7,250
.ADDR BUFFB+312
.BYTE 7,7,250
.ADDR BUFFB+313
.BYTE 12,6,0
.ADDR BUFFB+500
.BYTE 2,6,7,0
.ADDR BUFFB+314
.BYTE 255
RM13: .BYTE 3,1,19
.BYTE 2,29,2,250
.ADDR BUFFB+515
.BYTE 255
RM14: .BYTE 3,1,19
.BYTE 0,32,254
.ADDR BUFFB+480
.BYTE 0,64,250
.ADDR BUFFB+512
.BYTE 255
RM15: .BYTE 3,1,19
.BYTE 0,32,254
.ADDR BUFFB+480
.BYTE 0,64,250
.ADDR BUFFB+512
.BYTE 2,2,6,16
.ADDR BUFFB+307
.BYTE 0,5,204
.ADDR BUFFB+274
.BYTE 2,11,6,30
.ADDR BUFFB+77
.BYTE 18,28
.ADDR BUFFB+46
.BYTE 28
.ADDR BUFFB+173
.BYTE 28
.ADDR BUFFB+76
.BYTE 28
.ADDR BUFFB+139
.BYTE 32
.ADDR BUFFB+51
.BYTE 32
.ADDR BUFFB+150
.BYTE 32
.ADDR BUFFB+85
.BYTE 4,127
.ADDR BUFFB+434
.BYTE 4,128
.ADDR BUFFB+466
.BYTE 255
RM16: .BYTE 104,3,1,19
.BYTE 2,4,4,250
.ADDR BUFFB
.BYTE 2,4,6,250
.ADDR BUFFB+384
.BYTE 0,11,242
.ADDR BUFFB+388
.BYTE 0,17,7
.ADDR BUFFB+399
.BYTE 7,4,3
.ADDR BUFFB+423
.BYTE 7,5,243
.ADDR BUFFB+424
.BYTE 255
RM17: .BYTE 3,1,19
.BYTE 2,4,18,250
.ADDR BUFFB
.BYTE 255
RM18: .BYTE 3,1,19
.BYTE 2,4,18,250
.ADDR BUFFB
.BYTE 4,250
.ADDR BUFFB+516
.BYTE 1,14,1
.ADDR BUFFB+67
.BYTE 1,6,1
.ADDR BUFFB+66
.BYTE 2,2,3,1
.ADDR BUFFB+321
.BYTE 255
RM19: .BYTE 3,1,19
.BYTE 2,4,3,250
.ADDR BUFFB+480
.BYTE 255
RM20: .BYTE 2,4,15,1
.ADDR BUFFB
.BYTE 2,3,6,250
.ADDR BUFFB+3
.BYTE 0,26,252
.ADDR BUFFB+6
.BYTE 0,8,250
.ADDR BUFFB+483
.BYTE 0,3,254
.ADDR BUFFB+480
.BYTE 0,64,250
.ADDR BUFFB+512
.BYTE 1,10,2
.ADDR BUFFB+164
.BYTE 0,4,252
.ADDR BUFFB+252
.BYTE 39,255
RM21: .BYTE 3,1,19,2,4,2,250
.ADDR BUFFB
.BYTE 2,10,4,250
.ADDR BUFFB+64
.BYTE 2,8,9,0
.ADDR BUFFB+192
.BYTE 0,14,250
.ADDR BUFFB+448
.BYTE 0,96,250
.ADDR BUFFB+480
.BYTE 0,18,254
.ADDR BUFFB+494
.BYTE 1,8,32
.ADDR BUFFO+200
.BYTE 255
RM22: .BYTE 3,1,19
.BYTE 2,4,3,250
.ADDR BUFFB
.BYTE 2,4,3,250
.ADDR BUFFB+480
.BYTE 0,7,242
.ADDR BUFFB+516
.BYTE 1,13,2
.ADDR BUFFB+66
.BYTE 255
RM23: .BYTE 0,58,252
.ADDR BUFFB+518
.BYTE 2,3,18,1
.ADDR BUFFB
.BYTE 2,3,18,250
.ADDR BUFFB+3
.BYTE 40,63,98,255
RM24: .BYTE 0,26,252
.ADDR BUFFB+6
.BYTE 2,4,3,252
.ADDR BUFFB+444
.BYTE 0,39,252
.ADDR BUFFB+537
.BYTE 1,9,2
.ADDR BUFFB+164
.BYTE 2,4,18,1
.ADDR BUFFB
.BYTE 2,3,5,250
.ADDR BUFFB+3
.BYTE 2,3,4,250
.ADDR BUFFB+451
.BYTE 33,1
.ADDR BUFFB+566
.BYTE 97,98,99,19,255
RM25: .BYTE 0,38,252
.ADDR BUFFB+3
.BYTE 0,58,252
.ADDR BUFFB+518
.BYTE 2,6,8,250
.ADDR BUFFB+320
.BYTE 2,3,5,1
.ADDR BUFFB+416
.BYTE 2,3,11,1
.ADDR BUFFB
.BYTE 2,3,4,250
.ADDR BUFFB+3
.BYTE 33,16
.ADDR BUFFB+22
.BYTE 40,255
RM26: .BYTE 0,6,252
.ADDR BUFFB
.BYTE 0,10,252
.ADDR BUFFB+512
.BYTE 0,32,252
.ADDR BUFFB+544
.BYTE 0,4,111
.ADDR BUFFB+560
.BYTE 33,17
.ADDR BUFFB+35
.BYTE 99,19,255
RM27: .BYTE 0,32,252
.ADDR BUFFB+416
.BYTE 0,6,111
.ADDR BUFFB+436
.BYTE 98,99,19,58,60,59,255
RM28: .BYTE 9,5,6,2,5,5,6,2,5,5,6,2,5,14,18
.ADDR BUFFB+15
.BYTE 255
RM29: .BYTE 9,5,5,5,5,14,4,4,14,1,1,1,1,255
RM30: .BYTE 9,5,6,2,5,4,7,2,5,1,1,3,5,14,15
.ADDR BUFFB+15
.BYTE 255
RM31: .BYTE 9,5,6,2,5,5,6,11,14,5,8,1,1,14,15
.ADDR BUFFB+15
.BYTE 255
RM32: .BYTE 9,5,5,5,5,4,14,13,5,1,9,2,5,14,12
.ADDR BUFFB+207
.BYTE 0,6,242
.ADDR BUFFB+489
.BYTE 255
RM33: .BYTE 9,5,5,5,5,5,12,14,4,5,6,10,1,14,12
.ADDR BUFFB+207
.BYTE 0,5,242
.ADDR BUFFB+497
.BYTE 255
RM34: .BYTE 9,5,6,2,5,4,7,11,14,1,1,1,1,14,15
.ADDR BUFFB+15
.BYTE 255
RM35: .BYTE 9,5,5,5,5,4,14,4,14,1,9,10,1,0,13,242
.ADDR BUFFB+489
.BYTE 14,12
.ADDR BUFFB+207
.BYTE 255
RM36: .BYTE 9,5,6,2,5,5,6,11,4,5,6,10,1,14,18
.ADDR BUFFB+15
.BYTE 0,5,242
.ADDR BUFFB+497
.BYTE 255
RM37: .BYTE 9,5,6,2,5,14,7,2,5,1,9,2,5,14,18
.ADDR BUFFB+15
.BYTE 0,6,242
.ADDR BUFFB+489
.BYTE 255
RM38: .BYTE 9,5,6,2,5,4,7,11,4,1,9,10,1,0,13,242
.ADDR BUFFB+489
.BYTE 14,18
.ADDR BUFFB+15
.BYTE 255
RM39: .BYTE 9,5,5,5,5,5,12,4,14,5,8,1,1,255
RM40: .BYTE 9,5,5,5,5,14,4,13,5,1,1,3,5,255
RM41: .BYTE 9,12,7,11,13,6,0,0,2,8,1,1,3,14,15
.ADDR BUFFB+15
.BYTE 255
RM42: .BYTE 9,5,5,5,5,4,14,14,4,1,1,1,1,255
RM43: .BYTE 9,15,15,15,15,0,0,0,0,1,1,1,1,48,44,255
RM44: .BYTE 9,16,16,16,16,16,16,16,16,17,16,16,16,19,255
RM45: .BYTE 9,18,16,16,16,18,16,16,16,18,16,16,16,19,255
RM46: .BYTE 9,18,16,16,16,19,16,16,16,20,16,16,16,19,255
RM47: .BYTE 9,12,4,4,14,7,0,0,0,1,1,9,0,255
RM48: .BYTE 9,4,14,4,14,0,0,0,0,0,0,0,0,255
RM49: .BYTE 9,4,14,13,5,0,0,11,4,0,0,10,1,255
RM50: .BYTE 9,5,5,6,0,5,12,7,0,5,6,0,0,255
RM51: .BYTE 9,0,0,0,0,0,0,0,0,0,0,0,0,255
RM52: .BYTE 9,0,0,11,13,0,0,0,11,0,0,0,10,255
RM53: .BYTE 9,5,8,9,0,5,5,8,1,5,5,5,5,255
RM54: .BYTE 9,0,10,1,9,1,3,5,6,5,5,5,8,7,5,3
.ADDR BUFFB+139
.BYTE 7,5,243
.ADDR BUFFB+140
.BYTE 255
RM55: .BYTE 9,0,0,0,2,0,0,0,11,1,1,1,1,255
RM56: .BYTE 3,1,19,0,29,254
      .ADDR BUFFB+483
      .BYTE 2,3,16,250
      .ADDR BUFFB
      .BYTE 0,64,250
      .ADDR BUFFB+512
      .BYTE 0,14,242
      .ADDR BUFFB+521
      .BYTE 0,10,8
      .ADDR BUFFB+555
      .BYTE 0,12,1
      .ADDR BUFFB+490
      .BYTE 14,2
      .ADDR BUFFB+527
      .BYTE 255
RM57: .BYTE 105,3,1,19,2,3,15,250
      .ADDR BUFFB
      .BYTE 0,96,250
      .ADDR BUFFB+480
      .BYTE 255
RM58: .BYTE 3,250,2,31,12,8
      .ADDR BUFFB+1
      .BYTE 2,6,6,8
      .ADDR BUFFB+389
      .BYTE 2,15,3,8
      .ADDR BUFFB+401
      .BYTE 13,2,8
      .ADDR BUFFB+399
      .BYTE 1,6,213
      .ADDR BUFFB+388
      .BYTE 99,100,19,1,6,212
      .ADDR BUFFB+395
LFT1: .BYTE 17
      .ADDR BUFFB+389
      .BYTE 255
RM59: .BYTE 3,250,2,6,18,8
      .ADDR BUFFB+5
      .BYTE 1,18,213
      .ADDR BUFFB+4
      .BYTE 1,18,212
      .ADDR BUFFB+11
      .BYTE 46,255
RM60: .BYTE 3,250,2,27,14,8
      .ADDR BUFFB+5
      .BYTE 0,21,250
      .ADDR BUFFB+11
      .BYTE 0,14,8
      .ADDR BUFFB+466
      .BYTE 17
      .ADDR BUFFB+421
      .BYTE 1,14,213
      .ADDR BUFFB+4
      .BYTE 1,13,32
      .ADDR BUFFO+43
LFT3: .BYTE 0,6,8
      .ADDR BUFFB+421 
      .BYTE 255
RM61: .BYTE 2,10,18,250
.ADDR BUFFB
.BYTE 2,8,15,0
.ADDR BUFFB+32
.BYTE 2,7,18,250
.ADDR BUFFB+25
.BYTE 1,2,247
.ADDR BUFFB+297
.BYTE 1,2,0
.ADDR BUFFB+296
.BYTE 2,7,18,251
.ADDR BUFFB+14
.BYTE 0,7,248
.ADDR BUFFB+494
.BYTE 1,6,248
.ADDR BUFFB+177
.BYTE 20
.ADDR BUFFB+172
.BYTE 21
.ADDR BUFFB+181
.BYTE 35,73,74,255 
RM62: .BYTE 0,96,250
.ADDR BUFFB+480
.BYTE 2,10,5,250
.ADDR BUFFB
.BYTE 1,12,247
.ADDR BUFFB+137
.BYTE 2,7,5,250
.ADDR BUFFB+25
.BYTE 1,12,247
.ADDR BUFFB+153
.BYTE 2,6,10,8
.ADDR BUFFB+186
.BYTE 2,7,12,251
.ADDR BUFFB+14
.BYTE 2,3,4,207
.ADDR BUFFB+368
.BYTE 1,8,248
.ADDR BUFFB+145
.BYTE 20
.ADDR BUFFB+140
.BYTE 21
.ADDR BUFFB+149
.BYTE 22,23,24,25,36,255
RM63: .BYTE 3,1,19,2,4,3,250
.ADDR BUFFB+508
.BYTE 255
RM64: .BYTE 3,1,19,2,4,18,250
.ADDR BUFFB+28
.BYTE 255
RM65: .BYTE 3,250,2,28,15,1
.ADDR BUFFB
.BYTE 19,0,28,254
.ADDR BUFFB+480
.BYTE 2,4,8,0
.ADDR BUFFB+124
.BYTE 2,4,8,31
.ADDR BUFFO+124
.BYTE 255
RM66: .BYTE 0,64,250
.ADDR BUFFB+512
.BYTE 1,16,250
.ADDR BUFFB
.BYTE 0,31,252
.ADDR BUFFB+257
.BYTE 26,30,2
.ADDR BUFFB+529
.BYTE 31,33,16
.ADDR BUFFB+23
.BYTE 80,81,83,255
RM67: .BYTE 0,3,252
.ADDR BUFFB+256
.BYTE 2,8,15,250
.ADDR BUFFB+24
.BYTE 0,87,250
.ADDR BUFFB+489
.BYTE 12,14,250
.ADDR BUFFB+458
.BYTE 255
RM68: .BYTE 1,6,250
.ADDR BUFFB+31
.BYTE 2,5,4,250
.ADDR BUFFB+475
.BYTE 12,3,250
.ADDR BUFFB+568
.BYTE 0,9,252
.ADDR BUFFB+512
.BYTE 0,13,252
.ADDR BUFFB+256
.BYTE 33,14
.ADDR BUFFB+27
.BYTE 255
RM69: .BYTE 1,18,250
.ADDR BUFFB
.BYTE 0,31,252
.ADDR BUFFB+257
.BYTE 0,31,252
.ADDR BUFFB+513
.BYTE 33,18
.ADDR BUFFB+23
.BYTE 82,81,255
RM70: .BYTE 0,33,250
.ADDR BUFFB
.BYTE 1,16,250
.ADDR BUFFB+64
.BYTE 0,31,252
.ADDR BUFFB+481
.BYTE 33,3
.ADDR BUFFB+503
.BYTE 77,64,255
RM71: .BYTE 0,32,250
.ADDR BUFFB
.BYTE 1,17,250
.ADDR BUFFB+63
.BYTE 0,31,252
.ADDR BUFFB+480
.BYTE 33,17
.ADDR BUFFB+59
.BYTE 56,79,78,255
RM72: .BYTE 9,5,6,2,5,12,7,11,13,8,1,1,3,27,29,30,15
.ADDR BUFFB+17
.BYTE 255
RM73: .BYTE 9,7,0,0,2,0,0,0,11,1,1,1,1,14,15
.ADDR BUFFB+22
.BYTE 255
RM74: .BYTE 3,8,0,32,250
.ADDR BUFFB
.BYTE 2,3,17,250
.ADDR BUFFB+61
.BYTE 2,3,3,250
.ADDR BUFFB+480
.BYTE 0,28,242
.ADDR BUFFB+482
.BYTE 14,17
.ADDR BUFFB+54
.BYTE 255
RM75: .BYTE 9,6,0,0,2,6,0,0,2,6,0,0,2,14,18
.ADDR BUFFB+22
.BYTE 255
RM76: .BYTE 3,250,2,26,15,8
.ADDR BUFFB+100
.BYTE 0,28,252
.ADDR BUFFB+483
.BYTE 14,15
.ADDR BUFFB+122
.BYTE 45,44,255
RM77: .BYTE 3,250,2,4,10,8
.ADDR BUFFB+160
.BYTE 2,26,15,8
.ADDR BUFFB+4
.BYTE 14,18
.ADDR BUFFB+26
.BYTE 2,2,3,8
.ADDR BUFFB+66
.BYTE 75,76,102,4,8
.ADDR BUFFB+260
.BYTE 4,8
.ADDR BUFFB+265
.BYTE 255
RM78: .BYTE 3,250,2,30,7,0
.ADDR BUFFB+320
.BYTE 0,31,252
.ADDR BUFFB+544
.BYTE 14,10
.ADDR BUFFB+26
.BYTE 33,7
.ADDR BUFFB+346
.BYTE 255
RM79: .BYTE 0,128,250
.ADDR BUFFB+448
.BYTE 2,2,6,250
.ADDR BUFFB+30
.BYTE 42,255
RM80: .BYTE 0,128,250
.ADDR BUFFB+448
.BYTE 255
RM81: .BYTE 0,32,252
.ADDR BUFFB+544
.BYTE 2,32,10,250
.ADDR BUFFB
.BYTE 255
RM82: .BYTE 0,64,252
.ADDR BUFFB+512
.BYTE 33,2
.ADDR BUFFB+515
.BYTE 99,19,100,255
RM83: .BYTE 0,38,252
.ADDR BUFFB+416
.BYTE 2,6,3,252
.ADDR BUFFB+480
.BYTE 33,13
.ADDR BUFFB+3
.BYTE 101,59,62,255
RM84: .BYTE 0,10,252
.ADDR BUFFB
.BYTE 0,32,252
.ADDR BUFFB+224
.BYTE 0,7,250
.ADDR BUFFB+512
.BYTE 0,8,250
.ADDR BUFFB+544
.BYTE 33,16
.ADDR BUFFB+3
.BYTE 255
RM85: .BYTE 0,64,252
.ADDR BUFFB+512
.BYTE 84,85,86,98,101,255
RM86: .BYTE 0,32,252
.ADDR BUFFB+544
.BYTE 0,6,111
.ADDR BUFFB+564
.BYTE 102,101,255
RM87: .BYTE 2,8,14,250
.ADDR BUFFB
.BYTE 0,128,250
.ADDR BUFFB+448
.BYTE 11,13,250
.ADDR BUFFB+424
.BYTE 255
RM88: .BYTE 0,32,252
.ADDR BUFFB+544
.BYTE 0,5,111
.ADDR BUFFB+551
.BYTE 99,100,19,255
RM89: .BYTE 0,22,252
.ADDR BUFFB+224
.BYTE 255
RM90: .BYTE 12,3,250
.ADDR BUFFB+562
.BYTE 2,11,4,250
.ADDR BUFFB+469
.BYTE 255
RM91: .BYTE 0,128,250
.ADDR BUFFB+448
.BYTE 14,4
.ADDR BUFFB+454
.BYTE 255
RM92: .BYTE 0,155,250
.ADDR BUFFB+421
;L4000
.BYTE 2,14,13,250
.ADDR BUFFB+18
.BYTE 12,12,250
.ADDR BUFFB+390
.BYTE 255
RM93: .BYTE 3,8,2,24,2,250
.ADDR BUFFB+8
.BYTE 0,96,250
.ADDR BUFFB+480
.BYTE 14,15
.ADDR BUFFB+6
.BYTE 44,49,75,76,255
RM94: .BYTE 3,8,0,64,250
.ADDR BUFFB
.BYTE 0,96,250
.ADDR BUFFB+480
.BYTE 45,43,48,255
RM95: .BYTE 3,8,2,4,2,250
.ADDR BUFFB
.BYTE 2,2,2,250
.ADDR BUFFB+30
.BYTE 0,96,250
.ADDR BUFFB+480
.BYTE 2,12,2,8
.ADDR BUFFB+522
.BYTE 0,14,242
.ADDR BUFFB+489
.BYTE 14,3
.ADDR BUFFB+495
.BYTE 14,15
.ADDR BUFFB+26
.BYTE 49,255
RM96: .BYTE 9,0,0,0,0,0,0,0,0,1,1,1,1,2,14,3,250
.ADDR BUFFB+480
.BYTE 10,2,250
.ADDR BUFFB+494
.BYTE 0,64,250
.ADDR BUFFB
.BYTE 13,5,250
.ADDR BUFFB+88
.BYTE 2,3,6,250
.ADDR BUFFB+93
.BYTE 43,44,255
RM97: .BYTE 0,64,250
.ADDR BUFFB+512
.BYTE 2,9,2,252
.ADDR BUFFB+512
.BYTE 0,28,250
.ADDR BUFFB+4
.BYTE 10,3,250
.ADDR BUFFB+48
.BYTE 2,11,4,250
.ADDR BUFFB+37
.BYTE 33,16
.ADDR BUFFB+11
.BYTE 39,41,255
RM98: .BYTE 1,3,250
.ADDR BUFFB+10
.BYTE 2,21,5,250
.ADDR BUFFB+11
.BYTE 0,15,252
.ADDR BUFFB+416
.BYTE 0,10,250
.ADDR BUFFB+431
.BYTE 0,14,250
.ADDR BUFFB+462
.BYTE 2,17,3,250
.ADDR BUFFB+495
.BYTE 58,59,255
RM99: .BYTE 13,9,250
.ADDR BUFFB+19
.BYTE 2,4,10,250
.ADDR BUFFB+28
.BYTE 0,32,252
.ADDR BUFFB+544
.BYTE 98,255
RM100:.BYTE 3,1,19,2,7,3,250
.ADDR BUFFB+505
.BYTE 255
RM101:.BYTE 3,1,19,0,96,250
.ADDR BUFFB+480
.BYTE 0,8,250
.ADDR BUFFB+468
.BYTE 14,4
.ADDR BUFFB+471
.BYTE 45,44,255
RM102:.BYTE 0,37,252
.ADDR BUFFB+539
.BYTE 2,25,18,1
.ADDR BUFFB
.BYTE 2,2,18,250
.ADDR BUFFB+25
.BYTE 255
RM103:.BYTE 3,1,19,2,7,3,250
.ADDR BUFFB+25
.BYTE 2,7,5,250
.ADDR BUFFB+441
.BYTE 0,20,7
.ADDR BUFFB+384
.BYTE 0,12,242
.ADDR BUFFB+404
.BYTE 255
RM104:.BYTE 0,39,250
.ADDR BUFFB+25
.BYTE 0,37,252
.ADDR BUFFB+539
.BYTE 2,2,16,250
.ADDR BUFFB+89
.BYTE 2,25,18,1
.ADDR BUFFB
.BYTE 255
RM105:.BYTE 3,1,19,2,7,14,250
.ADDR BUFFB+25
.BYTE 2,5,10,0
.ADDR BUFFB+27
.BYTE 255
RM106:.BYTE 105,2,4,16,1
.ADDR BUFFB
.BYTE 2,3,3,250
.ADDR BUFFB+3
.BYTE 0,93,250
.ADDR BUFFB+483
.BYTE 1,12,2
.ADDR BUFFB+100
.BYTE 0,3,254
.ADDR BUFFB+480
.BYTE 77,79,98,99,255
RM107:.BYTE 0,115,250
.ADDR BUFFB+461
.BYTE 12,5,250
.ADDR BUFFB+430
.BYTE 2,13,6,250
.ADDR BUFFB+275
.BYTE 100,255
RM108:.BYTE 2,32,10,250
.ADDR BUFFB+256
.BYTE 33,8
.ADDR BUFFB+23
.BYTE 14,9
.ADDR BUFFB+262
.BYTE 14,9
.ADDR BUFFB+273
.BYTE 1,8,250
.ADDR BUFFB+31
.BYTE 0,30,0
.ADDR BUFFB+545
.BYTE 33,1
.ADDR BUFFB+550
.BYTE 33,1
.ADDR BUFFB+561
.BYTE 82,255
RM109:.BYTE 0,58,252
.ADDR BUFFB+326
.BYTE 2,6,8,250
.ADDR BUFFB+320
.BYTE 2,3,4,1
.ADDR BUFFB+448
.BYTE 33,10
.ADDR BUFFB+20
.BYTE 100,255
RM110:.BYTE 0,64,252
.ADDR BUFFB+320
.BYTE 100,99,19,255
RM111:.BYTE 0,64,252
.ADDR BUFFB+320
.BYTE 33,8
.ADDR BUFFB+343
.BYTE 1,18,250
.ADDR BUFFB+31
.BYTE 98,101,255
RM112:.BYTE 0,64,252
.ADDR BUFFB+512
.BYTE 1,18,250
.ADDR BUFFB+31
.BYTE 54,53,16,255
RM113:.BYTE 99,100,19,0,64,252
.ADDR BUFFB+512
.BYTE 37,47,87,86,255
RM114:.BYTE 0,64,252
.ADDR BUFFB+512
.BYTE 33,18
.ADDR BUFFB+20
.BYTE 54,255
RM115:.BYTE 0,64,252
.ADDR BUFFB+512
.BYTE 33,18
.ADDR BUFFB+20
.BYTE 16,255
RM116:.BYTE 0,64,252
.ADDR BUFFB+512
.BYTE 33,2
.ADDR BUFFB+532
.BYTE 2,7,2,250
.ADDR BUFFB
.BYTE 255
RM117:.BYTE 2,7,3,250
.ADDR BUFFB
.BYTE 2,5,9,1
.ADDR BUFFB+96
.BYTE 2,7,6,250
.ADDR BUFFB+384
.BYTE 0,3,250
.ADDR BUFFB+356
.BYTE 0,6,242
.ADDR BUFFB+384
.BYTE 1,9,2
.ADDR BUFFB+69
.BYTE 2,15,2,252
.ADDR BUFFB+529
.BYTE 11,5,252
.ADDR BUFFB+497
.BYTE 2,10,2,252
.ADDR BUFFB+359
.BYTE 255
RM118:.BYTE 101,0,64,252
.ADDR BUFFB+512
.BYTE 33,16
.ADDR BUFFB+9
.BYTE 54,53,16,255
RM119:.BYTE 100,0,64,252
.ADDR BUFFB+512
.BYTE 33,2
.ADDR BUFFB+521
.BYTE 2,4,7,252
.ADDR BUFFB+21
.BYTE 1,9,126
.ADDR BUFFB+247
.BYTE 255
RM120:.BYTE 100,2,26,2,252
.ADDR BUFFB+512
.BYTE 0,10,252
.ADDR BUFFB+502
.BYTE 1,6,250
.ADDR BUFFB+31
.BYTE 33,15
.ADDR BUFFB+23
.BYTE 53,47,255
RM121:.BYTE 98,0,63,252
.ADDR BUFFB+512
.BYTE 1,18,250
.ADDR BUFFB+31
.BYTE 33,18
.ADDR BUFFB+23
.BYTE 54,37,255
RM122:.BYTE 2,8,6,250
.ADDR BUFFB
.BYTE 2,24,18,1
.ADDR BUFFB+8
.BYTE 2,4,3,1
.ADDR BUFFB+4
.BYTE 0,6,252
.ADDR BUFFB+480
.BYTE 33,3
.ADDR BUFFB+482
.BYTE 2,4,3,250
.ADDR BUFFB+486
.BYTE 0,3,242
.ADDR BUFFB+136
.BYTE 0,11,242
.ADDR BUFFB+490
.BYTE 19,255
RM123:.BYTE 2,23,16,1
.ADDR BUFFB+9
.BYTE 2,4,5,250
.ADDR BUFFB+6
.BYTE 33,16
.ADDR BUFFB+2
.BYTE 0,4,250
.ADDR BUFFB+486
.BYTE 0,58,250
.ADDR BUFFB+518
.BYTE 2,6,2,252
.ADDR BUFFB+512
.BYTE 19,255
RM124:.BYTE 2,22,16,1
.ADDR BUFFB
.BYTE 0,64,250
.ADDR BUFFB+512
.BYTE 12,6,0
.ADDR BUFFB+496
.BYTE 2,10,9,250
.ADDR BUFFB+22
.BYTE 2,6,6,1
.ADDR BUFFB+22
.BYTE 19,255
RM125:.BYTE 3,1,19,2,4,3,250
.ADDR BUFFB+508
.BYTE 255
RM126:.BYTE 2,7,15,1
.ADDR BUFFB
.BYTE 2,3,3,250
.ADDR BUFFB+7
.BYTE 2,3,6,250
.ADDR BUFFB+293
.BYTE 2,8,2,250
.ADDR BUFFB+480
.BYTE 0,32,250
.ADDR BUFFB+544
.BYTE 2,3,7,250
.ADDR BUFFB+339
.BYTE 0,13,252
.ADDR BUFFB+327
.BYTE 11,6,250
.ADDR BUFFB+534
.BYTE 99,19,255
RM127:.BYTE 3,1,19,2,25,3,250
.ADDR BUFFB+487
.BYTE 0,9,250
.ADDR BUFFB+455
.BYTE 42,43,44,255
RM128:.BYTE 3,250,2,8,7,0
.ADDR BUFFB+56
.BYTE 0,224,0
.ADDR BUFFB+288
.BYTE 0,8,0
.ADDR BUFFB+267
.BYTE 0,8,252
.ADDR BUFFB+280
.BYTE 33,15
.ADDR BUFFB+57
.BYTE 33,10
.ADDR BUFFB+270
.BYTE 255
RM129:.BYTE 0,3,250
.ADDR BUFFB+544
.BYTE 0,29,252
.ADDR BUFFB+547
.BYTE 33,18
.ADDR BUFFB+23
.BYTE 98,255
RM130:.BYTE 0,32,252
.ADDR BUFFB+544
.BYTE 88,89,89,99,19,100,255
RM131:.BYTE 0,3,250
.ADDR BUFFB
.BYTE 0,10,252
.ADDR BUFFB+3
.BYTE 33,16
.ADDR BUFFB+23
.BYTE 0,8,252
.ADDR BUFFB+256
.BYTE 2,2,2,250
.ADDR BUFFB+512
.BYTE 0,30,252
.ADDR BUFFB+514
.BYTE 255
RM132:.BYTE 0,20,252
.ADDR BUFFB+512
.BYTE 2,14,2,252
.ADDR BUFFB+466
.BYTE 4,252
.ADDR BUFFB+497
.BYTE 98,99,19,255
RM133:.BYTE 0,64,252
.ADDR BUFFB+448
.BYTE 100,101,255
RM134:.BYTE 0,13,252
.ADDR BUFFB+544
.BYTE 2,3,14,250
.ADDR BUFFB+19
.BYTE 2,10,14,1
.ADDR BUFFB+22
.BYTE 19,2,19,4,250
.ADDR BUFFB+461
.BYTE 19,98,255
RM135:.BYTE 3,1,19,1,10,2
.ADDR BUFFB+18
.BYTE 2,22,3,250
.ADDR BUFFB+480
.BYTE 2,14,5,250
.ADDR BUFFB+328
.BYTE 2,3,4,250
.ADDR BUFFB+357
.BYTE 104,255
RM136:.BYTE 3,1,19,1,11,2
.ADDR BUFFB+242
.BYTE 104,255
RM137:.BYTE 104,3,1,19,2,12,4,250
.ADDR BUFFB+448
.BYTE 0,20,242
.ADDR BUFFB+524
.BYTE 42,255
RM138:.BYTE 104,3,1,19,0,24,242
.ADDR BUFFB+512
.BYTE 0,15,250
.ADDR BUFFB+561
.BYTE 12,2,250
.ADDR BUFFB+536
.BYTE 8,14
.ADDR BUFFB+27
.BYTE 2,6,3,250
.ADDR BUFFB+474
.BYTE 1,14,2
.ADDR BUFFB+29
.BYTE 255
RM139:.BYTE 104,3,1,19,0,8,242
.ADDR BUFFB+472
.BYTE 1,3,2
.ADDR BUFFB+509
.BYTE 8,4
.ADDR BUFFB+475
.BYTE 255
RM140:.BYTE 104,3,1,19,2,7,3,250
.ADDR BUFFB+25
.BYTE 2,2,15,250
.ADDR BUFFB+126
.BYTE 0,8,242
.ADDR BUFFB+448
.BYTE 1,3,2
.ADDR BUFFB+483
.BYTE 255
RM141:.BYTE 104,3,1,19,2,5,4,250
.ADDR BUFFB+448
.BYTE 1,14,2
.ADDR BUFFB+3
.BYTE 2,2,6,250
.ADDR BUFFB+30
.BYTE 2,16,12,250
.ADDR BUFFB+208
.BYTE 2,9,4,1
.ADDR BUFFB+208
.BYTE 10,4,1
.ADDR BUFFB+336
.BYTE 255
RM142:.BYTE 3,250,2,11,18,1
.ADDR BUFFB+5
.BYTE 2,12,8,1
.ADDR BUFFB+148
.BYTE 2,8,6,1
.ADDR BUFFB+404
.BYTE 0,8,252
.ADDR BUFFB+436
.BYTE 8,5
.ADDR BUFFB+439
.BYTE 255
RM143:.BYTE 3,1,19,2,5,2,250
.ADDR BUFFB
.BYTE 2,4,2,250
.ADDR BUFFB+16
.BYTE 2,3,2,250
.ADDR BUFFB+28
.BYTE 1,18,250
.ADDR BUFFB+31
.BYTE 8,16
.ADDR BUFFB+23
.BYTE 1,14,33
.ADDR BUFFO+65
.BYTE 0,31,252
.ADDR BUFFB+512
.BYTE 0,31,0
.ADDR BUFFB+544
.BYTE 255
RM144:.BYTE 3,1,19,2,14,6,250
.ADDR BUFFB+17
.BYTE 1,18,250
.ADDR BUFFB+31
.BYTE 2,4,12,250
.ADDR BUFFB+207
.BYTE 10,3,250
.ADDR BUFFB+211
.BYTE 255
RM145:.BYTE 3,1,19,1,2,250
.ADDR BUFFB+31
.BYTE 2,4,7,250
.ADDR BUFFB+15
.BYTE 2,4,2,250
.ADDR BUFFB+527
.BYTE 1,9,33
.ADDR BUFFO+241
.BYTE 0,13,252
.ADDR BUFFB+531
.BYTE 0,13,0
.ADDR BUFFB+563
.BYTE 0,17,242
.ADDR BUFFB+484
.BYTE 6,2,241
.ADDR BUFFB+519
.BYTE 6,2,4
.ADDR BUFFB+520
.BYTE 33,2
.ADDR BUFFB+537
.BYTE 255
RM146:.BYTE 2,15,18,1
.ADDR BUFFB
.BYTE 2,4,18,250
.ADDR BUFFB+15
.BYTE 33,18
.ADDR BUFFB+25
.BYTE 6,6,241
.ADDR BUFFB+9
.BYTE 6,5,4
.ADDR BUFFB+10
.BYTE 255
RM147:.BYTE 2,21,18,1
.ADDR BUFFB+11
.BYTE 2,3,5,250
.ADDR BUFFB+9
.BYTE 2,3,4,250
.ADDR BUFFB+457
.BYTE 2,9,2,252
.ADDR BUFFB+448
.BYTE 0,22,242
.ADDR BUFFB+423
.BYTE 7,3,3
.ADDR BUFFB+462
.BYTE 7,4,243
.ADDR BUFFB+463
.BYTE 19,255
RM148:.BYTE 2,3,18,250
.ADDR BUFFB+9
.BYTE 2,20,18,1
.ADDR BUFFB+12
.BYTE 19,255
RM149:.BYTE 2,21,18,1
.ADDR BUFFB+11
.BYTE 2,3,4,250
.ADDR BUFFB+9
.BYTE 0,12,250
.ADDR BUFFB+544
.BYTE 0,12,252
.ADDR BUFFB+352
.BYTE 2,3,5,250
.ADDR BUFFB+393
.BYTE 0,9,242
.ADDR BUFFB+394
.BYTE 19,255
RM150:.BYTE 2,21,15,1
.ADDR BUFFB+11
.BYTE 2,12,2,250
.ADDR BUFFB
.BYTE 0,9,252
.ADDR BUFFB+448
.BYTE 2,5,5,250
.ADDR BUFFB+425
.BYTE 2,18,3,250
.ADDR BUFFB+494
.BYTE 19,43,255
RM151:.BYTE 2,19,18,250
.ADDR BUFFB
.BYTE 2,15,15,1
.ADDR BUFFB
.BYTE 33,18
.ADDR BUFFB+25
.BYTE 255
RM152:.BYTE 98,33,17
.ADDR BUFFB+2
.BYTE 0,18,252
.ADDR BUFFB+544
.BYTE 2,3,18,250
.ADDR BUFFB+18
.BYTE 2,11,2,250
.ADDR BUFFB+21
.BYTE 0,11,252
.ADDR BUFFB+469
.BYTE 33,4
.ADDR BUFFB+474
.BYTE 88,255
RM153:.BYTE 0,64,252
.ADDR BUFFB+512
.BYTE 2,3,7,250
.ADDR BUFFB+18
.BYTE 2,14,2,250
.ADDR BUFFB+242
.BYTE 33,16
.ADDR BUFFB+26
.BYTE 84,85,86,255
RM154:.BYTE 0,64,252
.ADDR BUFFB+512
.BYTE 2,3,7,250
.ADDR BUFFB+9
.BYTE 2,12,2,250
.ADDR BUFFB+224
.BYTE 84,85,86,87,255
RM155:.BYTE 2,28,3,250
.ADDR BUFFB+4
.BYTE 2,7,3,250
.ADDR BUFFB+505
.BYTE 255
RM156:.BYTE 98,101,0,64,252
.ADDR BUFFB+512
.BYTE 33,2
.ADDR BUFFB+537
.BYTE 255
RM157:.BYTE 0,64,252
.ADDR BUFFB+512
.BYTE 2,8,2,0
.ADDR BUFFB+517
.BYTE 2,9,2,0
.ADDR BUFFB+530
.BYTE 99,19,100,255
RM158:.BYTE 2,5,4,252
.ADDR BUFFB+13
.BYTE 0,64,252
.ADDR BUFFB+512
.BYTE 0,19,0
.ADDR BUFFB+549
.BYTE 0,23,111
.ADDR BUFFB+515
.BYTE 255
RM159:.BYTE 0,64,252
.ADDR BUFFB+512
.BYTE 2,5,2,0
.ADDR BUFFB+527
.BYTE 54,85,87,255
RM160:.BYTE 0,63,252
.ADDR BUFFB+512
.BYTE 1,18,250
.ADDR BUFFB+31
.BYTE 33,16
.ADDR BUFFB+25
.BYTE 255
RM161:.BYTE 1,18,250
.ADDR BUFFB+31
.BYTE 2,11,2,252
.ADDR BUFFB+436
.BYTE 33,18
.ADDR BUFFB+25
.BYTE 2,9,2,252
.ADDR BUFFB+512
.BYTE 0,15,252
.ADDR BUFFB+487
.BYTE 100,255
RM162:.BYTE 100,99,19,0,64,252
.ADDR BUFFB+512
.BYTE 0,32,250
.ADDR BUFFB
.BYTE 33,16
.ADDR BUFFB+14
.BYTE 81,63,255
RM163:.BYTE 98,101,0,2,250
.ADDR BUFFB
.BYTE 2,6,2,250
.ADDR BUFFB+512
.BYTE 4,252
.ADDR BUFFB+512
.BYTE 0,27,252
.ADDR BUFFB+517
.BYTE 53,16,41,255
RM164:.BYTE 100,99,19,0,32,252
.ADDR BUFFB+512
.BYTE 37,84,85,86,87,255
RM165:.BYTE 98,101,1,10,126
.ADDR BUFFB+282
.BYTE 0,29,252
.ADDR BUFFB+512
.BYTE 33,2
.ADDR BUFFB+514
.BYTE 255
RM166: .BYTE 99,19,1,12,126
.ADDR BUFFB+26
.BYTE 0,5,252
.ADDR BUFFB+379
.BYTE 0,22,252
.ADDR BUFFB+480
.BYTE 33,18
.ADDR BUFFB+2
.BYTE 0,14,250
.ADDR BUFFB+562
.BYTE 2,3,5,250
.ADDR BUFFB+410
.BYTE 12,5,250
.ADDR BUFFB+533
.BYTE 56,255
RM167: .BYTE 2,2,3,250
.ADDR BUFFB+4
.BYTE 1,12,2
.ADDR BUFFB+100
.BYTE 2,5,3,250
.ADDR BUFFB+480
.BYTE 0,27,252
.ADDR BUFFB+485
.BYTE 2,4,15,8
.ADDR BUFFB
.BYTE 75,76,98,101,255
RM168:.BYTE 2,5,6,250
.ADDR BUFFB
.BYTE 2,5,9,8
.ADDR BUFFB+192
.BYTE 2,10,3,250
.ADDR BUFFB+480
.BYTE 2,3,3,250
.ADDR BUFFB+509
.BYTE 2,19,2,8
.ADDR BUFFB+522
.BYTE 0,21,242
.ADDR BUFFB+489
.BYTE 14,3
.ADDR BUFFB+503
.BYTE 255
RM169:.BYTE 3,250,2,19,18,8
.ADDR BUFFB+10
.BYTE 14,18
.ADDR BUFFB+23
.BYTE 255
RM170:.BYTE 3,250,2,19,8,8
.ADDR BUFFB+10
.BYTE 0,224,8
.ADDR BUFFB+256
.BYTE 14,15
.ADDR BUFFB+23
.BYTE 57,255
RM171:.BYTE 2,3,3,250
.ADDR BUFFB+480
.BYTE 0,30,252
.ADDR BUFFB+482
.BYTE 77,255
RM172:.BYTE 2,3,18,250
.ADDR BUFFB
.BYTE 0,30,252
.ADDR BUFFB+354
.BYTE 1,6,126
.ADDR BUFFB+410
.BYTE 255
RM173:.BYTE 2,3,8,250
.ADDR BUFFB
.BYTE 1,7,8
.ADDR BUFFB+256
.BYTE 1,7,126
.ADDR BUFFB+257
.BYTE 1,15,126
.ADDR BUFFB+26
.BYTE 0,92,252
.ADDR BUFFB+484
.BYTE 2,4,3,250
.ADDR BUFFB+480
.BYTE 56,78,255
RM174:.BYTE 33,15
.ADDR BUFFB+6
.BYTE 1,6,250
.ADDR BUFFB+31
.BYTE 2,3,3,250
.ADDR BUFFB+509
.BYTE 0,30,252
.ADDR BUFFB+480
.BYTE 52,78,255
RM175:.BYTE 0,192,250
.ADDR BUFFB
.BYTE 0,96,250
.ADDR BUFFB+480
.BYTE 1,9,126
.ADDR BUFFB+196
.BYTE 1,9,126
.ADDR BUFFB+220
.BYTE 255
RM176:.BYTE 2,3,2,250
.ADDR BUFFB+29
.BYTE 0,32,252
.ADDR BUFFB+352
.BYTE 255
RM177:.BYTE 0,96,252
.ADDR BUFFB+480
.BYTE 79,255
RM178:.BYTE 0,96,252
.ADDR BUFFB+480
.BYTE 1,15,126
.ADDR BUFFB+4
.BYTE 1,15,126
.ADDR BUFFB+28
.BYTE 64,77,78,255
RM179:.BYTE 0,64,250
.ADDR BUFFB
.BYTE 1,16,126
.ADDR BUFFB+68
.BYTE 1,16,126
.ADDR BUFFB+92
.BYTE 0,32,252
.ADDR BUFFB+352
.BYTE 255
RM180:.BYTE 0,32,252
.ADDR BUFFB+480
.BYTE 51,52,255
RM181:.BYTE 2,4,2,250
.ADDR BUFFB
.BYTE 33,11
.ADDR BUFFB+5
.BYTE 0,32,252
.ADDR BUFFB+352
.BYTE 255
RM182:.BYTE 2,2,2,252
.ADDR BUFFB+480
.BYTE 12,3,250
.ADDR BUFFB+544
.BYTE 0,26,242
.ADDR BUFFB+515
.BYTE 0,26,8
.ADDR BUFFB+547
.BYTE 14,2
.ADDR BUFFB+531
.BYTE 2,2,2,252
.ADDR BUFFB+510
.BYTE 11,3,250
.ADDR BUFFB+573
.BYTE 255
RM183:.BYTE 3,250,2,26,8,8
.ADDR BUFFB+3
.BYTE 0,0,8
.ADDR BUFFB+224
.BYTE 14,15
.ADDR BUFFB+19
.BYTE 255
RM184:.BYTE 3,250,2,23,8,8
.ADDR BUFFB+6
.BYTE 2,29,9,8
.ADDR BUFFB+192
.BYTE 14,15
.ADDR BUFFB+22
.BYTE 255
RM185:.BYTE 2,3,18,250
.ADDR BUFFB+29
.BYTE 2,5,3,252
.ADDR BUFFB+480
.BYTE 12,3,250
.ADDR BUFFB+547
.BYTE 33,16
.ADDR BUFFB+22
.BYTE 0,23,242
.ADDR BUFFB+518
.BYTE 0,23,8
.ADDR BUFFB+550
.BYTE 14,2
.ADDR BUFFB+534
.BYTE 255
RM186:.BYTE 2,3,18,250
.ADDR BUFFB+29
.BYTE 0,30,252
.ADDR BUFFB+352
.BYTE 33,7
.ADDR BUFFB+374
.BYTE 255
RM187:.BYTE 0,96,252
.ADDR BUFFB+480
.BYTE 55,255
RM188:.BYTE 0,32,252
.ADDR BUFFB+352
.BYTE 255
RM189:.BYTE 0,32,252
.ADDR BUFFB+480
.BYTE 55,255
RM190:.BYTE 0,32,252
.ADDR BUFFB+480
.BYTE 91,51,52,99,19,100,255
RM191:.BYTE 0,4,250
.ADDR BUFFB
.BYTE 2,2,14,8
.ADDR BUFFB+32
.BYTE 1,14,2
.ADDR BUFFB+34
.BYTE 2,4,3,250
.ADDR BUFFB+480
.BYTE 0,28,252
.ADDR BUFFB+484
.BYTE 52,255
RM192:.BYTE 0,32,252
.ADDR BUFFB+480
.BYTE 91,92,55,255
RM193:.BYTE 0,32,252
.ADDR BUFFB+480
.BYTE 2,3,2,250
.ADDR BUFFB+541
.BYTE 33,15
.ADDR BUFFB+25
.BYTE 33,3
.ADDR BUFFB+504
.BYTE 75,76,102,255
RM194:.BYTE 0,2,252
.ADDR BUFFB+480
.BYTE 0,7,250
.ADDR BUFFB+512
.BYTE 0,32,250
.ADDR BUFFB+544
.BYTE 255
RM195:.BYTE 3,250,2,29,15,8
.ADDR BUFFB+3
.BYTE 2,4,10,250
.ADDR BUFFB+179
.BYTE 0,19,252
.ADDR BUFFB+194
.BYTE 1,5,2
.ADDR BUFFB+21
.BYTE 14,15
.ADDR BUFFB+24
.BYTE 255
RM196:.BYTE 3,8,2,3,18,250
.ADDR BUFFB
.BYTE 1,18,2
.ADDR BUFFB+21
.BYTE 0,20,252
.ADDR BUFFB+268
.BYTE 14,18
.ADDR BUFFB+24
.BYTE 255
RM197:.BYTE 3,8,2,3,18,250
.ADDR BUFFB
.BYTE 1,18,2
.ADDR BUFFB+21
.BYTE 0,13,252
.ADDR BUFFB+403
.BYTE 14,18
.ADDR BUFFB+24
.BYTE 255
RM198:.BYTE 3,8,2,3,18,250
.ADDR BUFFB
.BYTE 0,29,252
.ADDR BUFFB+451
.BYTE 14,4
.ADDR BUFFB+472
.BYTE 1,3,2
.ADDR BUFFB+501
.BYTE 14,14
.ADDR BUFFB+6
.BYTE 255
RM199:.BYTE 3,8,2,3,18,250
.ADDR BUFFB
.BYTE 0,29,252
.ADDR BUFFB+483
.BYTE 14,18
.ADDR BUFFB+6
.BYTE 55,255
RM200:.BYTE 2,3,3,250
.ADDR BUFFB+1
.BYTE 1,15,8
.ADDR BUFFB
.BYTE 1,12,2
.ADDR BUFFB+97
.BYTE 2,3,3,250
.ADDR BUFFB+480
.BYTE 0,29,252
.ADDR BUFFB+515
.BYTE 0,29,8
.ADDR BUFFB+547
.BYTE 14,2
.ADDR BUFFB+518
.BYTE 33,16
.ADDR BUFFB+16
.BYTE 255
RM201:.BYTE 0,3,250
.ADDR BUFFB+544
.BYTE 0,29,252
.ADDR BUFFB+547
.BYTE 33,1
.ADDR BUFFB+560
.BYTE 255
RM202:.BYTE 2,3,6,250
.ADDR BUFFB+29
.BYTE 2,3,9,8
.ADDR BUFFB+221
.BYTE 2,3,3,250
.ADDR BUFFB+509
.BYTE 0,11,252
.ADDR BUFFB+544
.BYTE 0,11,242
.ADDR BUFFB+498
.BYTE 0,4,242
.ADDR BUFFB+538
.BYTE 255
RM203:.BYTE 2,3,18,250
.ADDR BUFFB+29
.BYTE 1,16,2
.ADDR BUFFB+3
.BYTE 0,29,252
.ADDR BUFFB+512
.BYTE 0,29,8
.ADDR BUFFB+544
.BYTE 4,2
.ADDR BUFFB+555
.BYTE 73,74,255
RM204:.BYTE 3,8,2,3,6,250
.ADDR BUFFB+29
.BYTE 2,3,7,8
.ADDR BUFFB+285
.BYTE 2,7,3,250
.ADDR BUFFB+505
.BYTE 1,18,2
.ADDR BUFFB+11
.BYTE 0,16,252
.ADDR BUFFB+480
.BYTE 255
RM205:.BYTE 3,8,1,14,2
.ADDR BUFFB+11
.BYTE 2,7,2,250
.ADDR BUFFB+25
.BYTE 2,3,16,250
.ADDR BUFFB+93
.BYTE 0,29,252
.ADDR BUFFB+448
.BYTE 1,3,2
.ADDR BUFFB+481
.BYTE 255
RM206:.BYTE 3,8,2,3,18,250
.ADDR BUFFB+29
.BYTE 1,18,2
.ADDR BUFFB+1
.BYTE 0,8,252
.ADDR BUFFB+384
.BYTE 0,14,252
.ADDR BUFFB+529
.BYTE 255
RM207:.BYTE 3,8,2,3,18,250
.ADDR BUFFB+29
.BYTE 1,18,2
.ADDR BUFFB+1
;L5000
.BYTE 0,6,252
.ADDR BUFFB+256
.BYTE 255
RM208:.BYTE 3,8,2,3,6,250
.ADDR BUFFB+29
.BYTE 2,3,3,250
.ADDR BUFFB+480
.BYTE 1,15,2
.ADDR BUFFB+1
.BYTE 2,3,3,250
.ADDR BUFFB+509
.BYTE 0,28,242
.ADDR BUFFB+514
.BYTE 0,26,8
.ADDR BUFFB+547
.BYTE 14,2
.ADDR BUFFB+527
.BYTE 255
RM209:.BYTE 33,14
.ADDR BUFFB+22
.BYTE 2,2,6,250
.ADDR BUFFB+30
.BYTE 0,17,252
.ADDR BUFFB+480
.BYTE 33,3
.ADDR BUFFB+488
.BYTE 2,15,4,250
.ADDR BUFFB+465
.BYTE 102,255
RM210:.BYTE 0,60,252
.ADDR BUFFB+516
.BYTE 2,4,18,250
.ADDR BUFFB
.BYTE 33,18
.ADDR BUFFB+8
.BYTE 16,86,255
RM211:.BYTE 2,4,18,250
.ADDR BUFFB
.BYTE 0,28,252
.ADDR BUFFB+548
.BYTE 33,1
.ADDR BUFFB+552
.BYTE 90,101,98,255
RM212:.BYTE 0,62,252
.ADDR BUFFB+512
.BYTE 33,2
.ADDR BUFFB+534
.BYTE 2,2,18,250
.ADDR BUFFB+30
.BYTE 40,84,85,255
RM213:.BYTE 0,30,252
.ADDR BUFFB+480
.BYTE 2,2,18,250
.ADDR BUFFB+30
.BYTE 33,18
.ADDR BUFFB+22
.BYTE 91,92,102,255
RM214:.BYTE 0,62,252
.ADDR BUFFB+512
.BYTE 33,18
.ADDR BUFFB+22
.BYTE 2,2,18,250
.ADDR BUFFB+30
.BYTE 84,85,255
RM215:.BYTE 1,18,250
.ADDR BUFFB+31
.BYTE 0,31,252
.ADDR BUFFB+480
.BYTE 33,18
.ADDR BUFFB+6
.BYTE 33,18
.ADDR BUFFB+17
.BYTE 255
RM216:.BYTE 1,18,250
.ADDR BUFFB+31
.BYTE 0,31,252
.ADDR BUFFB+384
.BYTE 33,18
.ADDR BUFFB+6
.BYTE 33,18
.ADDR BUFFB+17
.BYTE 255
RM217:.BYTE 0,32,252
.ADDR BUFFB+384
.BYTE 255
RM218:.BYTE 2,5,18,250
.ADDR BUFFB
.BYTE 0,27,252
.ADDR BUFFB+389
.BYTE 255
RM219:.BYTE 1,18,250
.ADDR BUFFB+31
.BYTE 0,31,252
.ADDR BUFFB+384
.BYTE 33,18
.ADDR BUFFB+6
.BYTE 33,12
.ADDR BUFFB+17
.BYTE 255
RM220:.BYTE 2,3,18,250
.ADDR BUFFB+29
.BYTE 0,30,252
.ADDR BUFFB+480
.BYTE 33,15
.ADDR BUFFB+24
.BYTE 51,255
RM221:.BYTE 2,4,18,250
.ADDR BUFFB
.BYTE 0,28,252
.ADDR BUFFB+388
.BYTE 255
RM222:.BYTE 0,29,252
.ADDR BUFFB+384
.BYTE 2,3,18,250
.ADDR BUFFB+29
.BYTE 33,18
.ADDR BUFFB+24
.BYTE 255
RM223:.BYTE 0,32,252
.ADDR BUFFB+448
.BYTE 33,18
.ADDR BUFFB+25
.BYTE 93,96,255
RM224:.BYTE 0,32,252
.ADDR BUFFB+448
.BYTE 95,96,255
RM225:.BYTE 0,60,252
.ADDR BUFFB+516
.BYTE 2,4,18,250
.ADDR BUFFB
.BYTE 33,16
.ADDR BUFFB+8
.BYTE 53,16,255
RM226:.BYTE 2,4,18,250
.ADDR BUFFB
.BYTE 0,28,252
.ADDR BUFFB+452
.BYTE 94,96,255
RM227:.BYTE 0,32,252
.ADDR BUFFB+448
.BYTE 93,94,95,255
RM228:.BYTE 0,61,252
.ADDR BUFFB+512
.BYTE 2,3,18,250
.ADDR BUFFB+29
.BYTE 33,18
.ADDR BUFFB+8
.BYTE 81	 90<33	9 11990<33	9 11990<33	9 11990	 90<33	9 11990<33	9 11990<33	9 11990	 90<33	9 11990	 90<33	9 11990<33	9 11990<33	9 11990	 90<33	9 11990<33	9 11990<33	9 11990<33	9 11990	 90<33	 BUFFB
.BYTE 2,5,9,8
.ADDR BUFFB+192
.BYTE 2,5,3,250
.ADDR BUFFB+480
.BYTE 0,28,252
.ADDR BUFFB+484
.BYTE 51,52,255
RM235:.BYTE 33,16
.ADDR BUFFB+25
.BYTE 0,64,252
.ADDR BUFFB+512
.BYTE 38,85,86,98,255
RM236:.BYTE 104,9,16,16,16,22,16,16,16,11<33	9 11990	 90	 90XblXblXblXdbXdbXdbXdbXbrt@\@bXbdXd``\@Vb`h\@djjdfrt\@rXblXblXblXblXblXblXblXblXblXblXblXdhXbrXdjjdh`t\@rXbc	BAra?	Cxff>r bbsCra?Cxff>r bbsCra?Cxff>r bbsCra?Cxff>r bbs	Cra?Cxff>r bbsCra?Cxff>r bbsCra?Cxff>r bbs	Cra?Cxff>r bbsCra?BAra?		04($H	U4($	eQ04($H	U4($	eQ04($H	U4($BYTE 0,10,8
	.ADDR BUFFB+555
	.BYTE 0,10,8
	.ADDR BUFFB+523
	.BYTE 14,3
	.ADDR BUFFB+495
	.BYTE 255
RM243:	.BYTE 9,15,15,15,15,0,0,0,0,1,1,1,1,45,255
RM244:	.BYTE 9,15,15,15,15,0,0,0,0,1,1,1,1,255
RM245:	.BYTE 0,32,252
	.ADDR BUFFB+416
	.BYTE 58,61,100,101,255
PLATF: .BYTE 212,210,210,211,211,213
UNDPF: .BYTE 8,8,212,213,8,8
ROKET: .BYTE 0,244,0,246
.BYTE 248,245,251,251
.BYTE 251,251,251,251
;1
MAP:	.BYTE 0,0,0,0,0,0,0,100,101,19,0,0,0,0,136,0
	.BYTE 0,100,19,0,0,0,0,0,0,0,0,0,0,0,0,0
;2
.BYTE 0,0,0,0,0,0,0,102,121,18,0,127,101,8,135,0
.BYTE 139,140,18,0,0,0,0,0,0,0,0,0,0,0,0,0
;3
.BYTE 0,0,0,0,0,0,0,102,120,122,125,126,129,130,134,137
.BYTE 138,141,17,0,0,0,0,0,0,0,0,0,0,0,0,0
;4
.BYTE 0,0,0,0,0,0,0,102,119,123,124,128,131,132,133,147
.BYTE 144,142,16,7,7,7,7,7,6,0,0,0,0,0,0,0
;5
.BYTE 0,0,0,0,0,0,0,102,118,113,156,162,163,164,165,148
.BYTE 145,143,17,0,0,0,0,0,5,0,0,0,0,0,0,0
;6
.BYTE 0,0,0,0,0,241,7,103,117,157,161,58,167,190,166,149
.BYTE 146,1,18,0,0,0,0,10,4,8,11,19,0,0,0,0
;7
.BYTE 0,0,0,0,0,5,0,104,116,158,160,59,211,130,152,150
.BYTE 151,155,22,0,0,13,12,9,1,2,3,57,19,0,0,0
;8
.BYTE 0,0,0,0,0,5,0,102,115,159,112,59,210,113,153,154
.BYTE 235,212,18,0,0,23,82,85,113,97,61,76,17,0,0,0
;9
.BYTE 0,0,0,63,8,4,19,102,114,113,112,59,232,190,180,192
.BYTE 190,213,17,0,0,24,83,27,245,98,62,77,17,0,0,0
;10
.BYTE 0,0,0,64,70,71,17,105,109,110,111,59,210,85,159,113
.BYTE 159,214,18,0,0,25,21909090XlnXbXbXdbpXdbnXdblXjrXddjXbbfXbjlXbjr\@pjXddpXbXbXbXbXpnXrbXrdXnlXbXbXbXjlXhhX`vbf\@`X`XdfrXljXndXbXbXffXdfhXbp`XdbjXjrXddlXddhXddfXddh\@ddnXddrXbXffXhdXh`XjpXrfXrhXrjXrhXrlXfjXf`XhjX`vbh\@`X`Xdh`XbXbXbXbXdpXdbpXdbnXdblXjrXddcCra?			CCra?						Cra?	34,34,32,45,0
;16
.BYTE 0,0,240,1,28,1,1,1,218,217,216,1,221,217,222,58
.BYTE 200,203,1,1,1,1,59,39,35,40,28,1,1,28,45,0
;17
.BYTE 0,0,240,1,36,29,32,1,218,217,219,1,221,217,222,59
.BYTE 199,204,42,29,32,1,59,1,31,29,30,1,39,37,45,0
;18
.BYTE 0,0,240,1,28,1,36,42,168,171,174,175,233,189,220,59
.BYTE 198,205,1,1,28,1,59,33,29,42,29,42,29,30,45,0
;19
.BYTE 0,0,240,1,36,40,28,1,169,172,176,179,181,188,186,59
.BYTE 197,206,1,1,28,1,59,28,1,1,1,33,42,29,46,0
;20
.BYTE 0,0,240,1,28,1,36,42,170,173,177,178,182,187,185,59
.BYTE 196,207,1,1,28,1,59,28,39,29,42,38,29,42,46,0
;21
.BYTE 0,0,240,1,28,1,28,33,29,42,35,42,183,35,184,59
.BYTE 195,208,29,42,37,1,59,36,29,42,29,34,29,42,46,0
;22
.BYTE 0,0,240,1,28,1,28,28,1,1,28,1,1,28,1,59
.BYTE 1,28,1,33,37,1,60,38,42,35,42,32,1,1,45,0
;23
.BYTE 0,0,240,1,36,42,30,28,1,33,38,42,29,30,1,59
.BYTE 1,28,1,28,28,1,1,28,33,30,1,31,29,32,45,0
;24
.BYTE 0,0,240,1,31,29,32,31,42,30,28,1,39,42,32,59
.BYTE 1,31,42,30,31,29,42,38,34,29,42,29,40,28
MAPTP:	.BYTE 45,0
;25
.BYTE 0,0,240,1,1,1,31,29,42,32,31,29,42,29,37,60
.BYTE 74,1,1,1,1,33,42,38,47,48,49,42,29,37,45,0
;26
.BYTE 0,0,240,1,1,1,1,1,1,31,29,42,29,42,30,1
.BYTE 75,1,33,29,42,37,1,28,50,51,52,35,35,30,45,0
;27
.BYTE 237,238,236,43,243,244,43,243,43,244,43,243,244,243,43,244
.BYTE 73,29,34,29,35,34,29,37,53,54,55,37,31,29,46,0
;28
.BYTE 1,1,33,42,29,32,1,1,1,1,1,1,1,1,1,1
.BYTE 1,1,1,1,28,1,29,28,39,29,42,30,1,1,57,19
;29
.BYTE 1,1,28,1,1,31,29,42,29,35,42,29,42,29,42,29
.BYTE 42,29,35,29,30,39,29,34,42,29,40,1,33,42,29,242
;30
.BYTE 238,33,37,1,1,1,1,1,33,34,42,29,42,29,42,32
.BYTE 1,1,31,42,29,42,29,42,29,35,29,42,37,1,1,28
;31
.BYTE 1,41,31,29,42,29,42,29,30,1,1,1,1,1,1,31
.BYTE 29,42,29,42,29,42,29,42,29,30,1,1,31,42,29,30
RMS: .ADDR RM0,RM1,RM2,RM3,RM4,RM5,RM6,RM7,RM8,RM9,RM10,RM11,RM12,RM13,RM14
.ADDR RM15,RM16,RM17,RM18,RM19,RM20,RM21,RM22,RM23,RM24,RM25,RM26,RM27,RM28
.ADDR RM29,RM30,RM31,RM32,RM33,RM34,RM35,RM36,RM37,RM38,RM39,RM40,RM41,RM42
.ADDR RM43,RM44,RM45,RM46,RM47,RM48,RM49,RM50,RM51,RM52,RM53,RM54,RM55,RM56
.ADDR RM57,RM58,RM59,RM60,RM61,RM62,RM63,RM64,RM65,RM66,RM67,RM68,RM69,RM70
.ADDR RM71,RM72,RM73,RM74,RM75,RM76,RM77,RM78,RM79,RM80,RM81,RM82,RM83,RM84
.ADDR RM85,RM86,RM87,RM88,RM89,RM90,RM91,RM92,RM93,RM94,RM95,RM96,RM97,RM98
.ADDR RM99,RM100,RM101,RM102,RM103,RM104,RM105,RM106,RM107,RM108,RM109,RM110
.ADDR RM111,RM112,RM113,RM114,RM115,RM116,RM117,RM118,RM119,RM120,RM121,RM122
.ADDR RM123,RM124,RM125,RM126,RM127,RM128,RM129,RM130,RM131,RM132,RM133,RM134
.ADDR RM135,RM136,RM137,RM138,RM139,RM140,RM141,RM142,RM143,RM144,RM145,RM146
.ADDR RM147,RM148,RM149,RM150,RM151,RM152,RM153,RM154,RM155,RM156,RM157,RM158
.ADDR RM159,RM160,RM161,RM162,RM163,RM164,RM165,RM166,RM167,RM168,RM169,RM170
.ADDR RM171,RM172,RM173,RM174,RM175,RM176,RM177,RM178,RM179,RM180,RM181,RM182
.ADDR RM183,RM184,RM185,RM186,RM187,RM188,RM189,RM190,RM191,RM192,RM193,RM194
.ADDR RM195,RM196,RM197,RM198,RM199,RM200,RM201,RM202
.ADDR RM203,RM204,RM205,RM206,RM207,RM208,RM209,RM210,RM211,RM212,RM213,RM214
.ADDR RM215,RM216,RM217,RM218,RM219,RM220,RM221,RM222,RM223,RM224,RM225,RM226
.ADDR RM227,RM228,RM229,RM230,RM231,RM232,RM233,RM234,RM235,RM236,RM237,RM238
.ADDR RM239,RM240,RM241,RM242,RM243,RM244,RM245
GCHRS: .BYTE 0,0,1,1,1,1,1,1
.BYTE 120,252,252,242,226,226,242,252
.BYTE 56,124,125,126,123,123,119,119
.BYTE 252,220,224,254,254,255,255,247
.BYTE 119,119,119,119,119,119,119,123
.BYTE 247,123,123,125,125,189,190,223
.BYTE 123,127,57,5,13,13,1,1
.BYTE 239,23,249,254,254,190,254,188
.BYTE 128,224,240,240,96,0,0,0
.BYTE 1,1,1,3,3,2,3,6
;10
.BYTE 124,253,123,251,251,247,247,247
.BYTE 0,0,0,128,128,128,192,192
.BYTE 5,7,13,15,15,27,23,31
.BYTE 239,199,195,195,131,129,1,1
.BYTE 224,224,224,224,224,224,240,240
.BYTE 30,62,60,36,120,127,127,15
.BYTE 240,240,240,240,142,254,254,240
.BYTE 56,124,125,126,123,123,118,118
.BYTE 252,220,224,252,190,126,255,255
.BYTE 118,117,117,117,117,117,118,122
;20
.BYTE 255,255,247,247,247,238,238,238
.BYTE 122,126,59,3,3,3,3,3
.BYTE 236,244,116,84,120,188,220,224
.BYTE 1,1,1,1,1,1,0,0
.BYTE 120,248,120,252,124,188,252,188
.BYTE 252,188,248,184,248,184,248,184
.BYTE 160,120,120,120,136,254,254,254
.BYTE 56,124,125,126,123,123,118,117
.BYTE 252,220,224,254,254,63,223,255
.BYTE 115,119,119,111,111,111,111,110
;30
.BYTE 255,255,255,191,127,126,126,254
.BYTE 0,0,0,0,0,128,128,128
; PUMA
.BYTE 0,0,0,0,0,0,1,7
.BYTE 0,0,0,0,15,127,255,255
.BYTE 0,0,0,0,63,255,255,255
.BYTE 0,0,1,15,255,247,251,251
.BYTE 0,15,255,255,255,255,255,253
.BYTE 96,192,224,240,208,240,248,240
.BYTE 0,0,0,0,0,3,127,126
.BYTE 0,0,0,3,31,254,240,1
; 40
.BYTE 255,255,255,255,255,255,127,0
.BYTE 255,255,255,255,254,248,224,0
.BYTE 208,224,248,252,254,28,60,56
.BYTE 0,0,0,0,0,1,3,3
.BYTE 7,31,62,252,216,176,176,184
.BYTE 254,192,0,0,0,0,0,0
.BYTE 240,192,0,0,0,0,0,0
.BYTE 0,0,0,1,7,30,125,241
.BYTE 0,7,127,255,255,255,255,255
.BYTE 0,128,224,248,254,255,255,127
;50
.BYTE 0,0,0,0,0,0,254,255
; END OF PUMA
.BYTE 224,96,48,16,24,15,7,0
.BYTE 110,111,41,15,15,6,1,3
.BYTE 253,5,125,125,124,252,190,254
.BYTE 192,192,224,224,192,0,0,0
.BYTE 1,1,2,3,3,7,7,7
.BYTE 190,223,255,95,175,215,235,237
.BYTE 0,0,0,128,128,192,192,192
.BYTE 7,7,15,15,15,31,31,31
.BYTE 231,199,194,195,131,129,1,1
;60
.BYTE 224,224,224,96,224,240,176,240
.BYTE 30,190909090909090909090909090909090909090909TE 192,192,192,192,64,224,224,224
;MORE PUMA
.BYTE 0,0,0,0,0,0,3,14
.BYTE 3,7,14,24,48,0,0,0
.BYTE 195,1,1,0,0,0,1,3
.BYTE 254,255,255,254,125,248,224,192
.BYTE 255,127,127,254,253,125,15,1
.BYTE 223,223,191,12090909090909090900 <	3 $8 $!0909090909090909090909090909090907,7,7,3
.BYTE 240,240,248,248,248,248,248,240
.BYTE 3,3,3,3,3,3,3,1
.BYTE 240,240,240,240,240,240,240,240
.BYTE 1,1,1,1,0,0,0,0
.BYTE 224,224,240,144,240,240,240,128
.BYTE 0,0,0,0,0,3,7,7
.BYTE 0,15,31,63,190909090909090909090909090909090  	0  <9090900 <	330<3909090907,181,174,158,95,238
.BYTE 255,254,254,131,125,254,126,253
.BYTE 252,15,176,127,127,170,191,240
.BYTE 0,224,60,207,240,175,85,255
.BYTE 0,14,8,246,4190dXcCra?Cra?4(4(	eQ4(	eQ4(	eQ004(	eQ4(	eQ004(	eQ000004(	eQ04(	eQ4(	eQ22&2>&&~>22"2&&&2?~"2"2&2&&&"2#~&&&">&"2&"2&>&>&>2#~2&2&2&>2&&&&&&& $ '~2&2&2>>?~2>&2&"2&">>?~2&2&"22&2>22&>? $|< ~>>"&&>&&&&&~>>>>2&2&>?~>"22&&2&>?~&&22"22">?2?~&&&&2&"&&&&&'YTE 255,255,255,255,255,255,248,120
.BYTE 255,255,255,252,240,192,0,0
.BYTE 254,254,124,0,0,0,0,0
.BYTE 248,112,112,240,240,252,63,15
.BYTE 112,112,112,96,96,96,176,240
.BYTE 31,63,255,255,191,127,255,255
.BYTE 255,255,255,255,255,255,208,128
;	PUMA TURNING
.BYTE 0,0,0,3,3,5,13,29
.BYTE 7,63,255,255,255,255,255,239
;180
.BYTE 128,224,240,252,254,251,221,189
.BYTE 0,0,0,0,2,132,252,254
.BYTE 25,48,48,9190XdhaCra?	Cra?	Cra?	Cra?		Cra?	Cra?C	Cra?Cra?Cra?Cra?Cra?Cra?B`fBq?ra?Cra?	255,255,156,157
.BYTE 158,255,255,159,160,161,162
GDLLC: .BYTE 255,119,120,255,255,255,121,122,123,255,255,255,124,125,126,127
.BYTE 255,255,255,128,129,130,255,255,255,131,132,133,255,255,255,255,134
.BYTE 255,255,255,255,255,135,255
DOGL1: .BYTE 255,255,32,33,34,35,36,37,38,39,176,177,40,41,42,255,43,44,45
	.BYTE 255,255,255,46,255
DOGL2: .BYTE 255,255,47,48,49,50,83,255,255,84,85,86,87,88,89,90,255,255,255
	.BYTE 91,92,93,94,95
DOGL3: .BYTE 255,255,96,136,137,138,166,255,167,168,169,170,171,172,173,255
	.BYTE 255,255,255,174,175,255,255,255
TRNDC: .BYTE 255,255,178,179,180,181,255,255,255,255,182,183,184,185,255,255
	.BYTE 255,255,255,186,187,188,255,255
ST1GC: .BYTE 255,0,1,255,255,255,255,2,3,255,255,255,255,4,5,255,255,255,255
.BYTE 6,7,8,255,255,255,9,10,11,255,255,255,12,13,14,255,255,255,15,255,16,255
ST2GC: .BYTE 255,0,1,255,255,255,255,17,18,255,255,255,255,19,20,255,255,255
.BYTE 255,21,22,255,255,255,255,23,24,255,255,255,255,255,25,255,255,255
.BYTE 255,255,26,255,255
ST3GC: .BYTE 255,0,1,255,255,255,255,27,28,255,255,255,255,29,30,31,255,255
.BYTE 255,52,53,54,255,255,255,55,56,57,255,255,255,58,59,60,255,255
.BYTE 255,61,255,62
TRNGC: .BYTE 255,255,63,64,255,255,255,65,66,67,255,255,255,68,69,70,255,255
.BYTE 255,71,72,73,255,255,255,74,75,76,255,255,255,77,78,79,255,255
.BYTE 255,80,81,82,255,255
GKIKC: .BYTE 98,97,255,255,255,255,103,102,101,255,100,99,109,108,107,106,105
.BYTE 104,255,112,111,110,255,255,255,114,113,255,255,255,255,116,115,255,255
.BYTE 255,255,118,117,255
GDEDC: .BYTE 255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255
.BYTE 255,255,255,255,255,255,255,255,255,255,255,255,255,255,255
.BYTE 139,140,255,255,255,141,142,143,144,145,146
DDEDC: .BYTE 255,255,255,255,255,255,255,255,255,255,255,255,255,189,255,255
	.BYTE 255,190,191,192,193,194,195,255
LEGTB: .ADDR ST1GC,ST2GC,ST3GC,ST2GC
GDRPV: .ADDR 00
GLGP1: .BYTE 0
DLGTB: .ADDR DOGL1,DOGL2,DOGL3
DLGP1: .BYTE 0
BCHRS: .BYTE 254,130,162,162,186,130,254,0,32
.BYTE 0,0,0,0,0,0,0,0,8
.BYTE 56,52,44,28,28,44,52,56,57
.BYTE 1,3,7,13,25,49,97,193,15
.BYTE 128,192,224,176,152,140,134,131,15
.BYTE 32,40,32,39,47,47,47,47,57
.BYTE 2,10,2,226,242,242,242,242,57
.BYTE 170,0,0,0,0,0,0,0,10
.BYTE 255,64,64,64,255,4,4,4,8
.BYTE 16,23,31,31,16,23,31,31,57
;10
.BYTE 8,232,248,248,8,232,248,248,57
.BYTE 255,255,255,255,255,135,7,3,8
.BYTE 255,255,255,0,255,0,0,0,16
.BYTE 255,255,255,247,243,226,226,192,8
.BYTE 0,0,0,0,0,0,0,0,0
.BYTE 0,0,0,0,0,0,0,0,0
.BYTE 82,84,85,181,182,146,202,74,16
.BYTE 128,192,64,96,224,32,32,48,8
.BYTE 248,76,68,70,254,6,7,5,8
.BYTE 254,130,162,162,186,130,254,0,32
;20
.BYTE 0,0,0,255,255,0,255,0,14
.BYTE 0,0,255,255,255,255,0,255,14
.BYTE 0,255,255,255,255,255,0,255,14
.BYTE 0,240,252,254,255,255,32,240,14
.BYTE 128,192,64,96,49,26,12,0,8
.BYTE 8,48,64,128,0,0,0,0,8

MCHST:	.BYTE 248,224,193,128,129,2,1,2,17
	.BYTE 95,175,87,171,85,170,85,170,17
	.BYTE 1,2,1,128,129,192,224,248,17
	.BYTE 85,170,85,171,85,171,87,31,17
;30
.BYTE 0,0,0,0,0,0,0,0,32
.BYTE 248,225,60,199,134,249,34,212,33
.BYTE 120,0,0,224,0,0,0,0,33
.BYTE 245,202,228,26,244,248,148,234,33
.BYTE 208,62,229,74,53,251,148,235,33
.BYTE 0,0,0,160,85,234,86,248,33
.BYTE 0,0,0,0,0,168,84,230,33
.BYTE 111,111,104,96,111,100,100,100,8
.BYTE 246,246,22,70,246,6,6,6,8
.BYTE 188,0,0,0,0,0,0,0,33
;40
.BYTE 63,0,0,0,0,0,0,0,33
.BYTE 255,11,28,3,5,63,1,3,33
.BYTE 0,0,0,0,0,0,14,3,33
.BYTE 0,3,0,0,15,27,7,207,33
.BYTE 111,111,104,98,106,98,110,96,32
.BYTE 246,246,22,166,182,134,246,6,32
.BYTE 128,64,32,31,16,16,16,16,56
.BYTE 0,0,0,255,0,0,0,0,56
.BYTE 1,2,4,248,8,8,8,8,56
.BYTE 16,16,16,16,16,16,16,16,56
;50
.BYTE 0,15,8,10,8,8,9,8,57
.BYTE 0,255,0,32,65,162,65,160,57
.BYTE 0,240,16,144,80,144,16,144,57
.BYTE 8,8,8,8,8,8,8,8,56
.BYTE 9,10,9,10,9,8,15,0,57
.BYTE 65,130,69,2,20,0,255,0,57
.BYTE 16,16,80,144,80,16,240,0,57
.BYTE 0,0,0,0,0,0,0,0,57
.BYTE 0,6,62,6,6,6,6,0,57
.BYTE 247,135,167,167,183,135,247,7,32
;60
.BYTE 255,255,192,162,58,2,126,0,32
.BYTE 255,255,0,162,186,130,254,0,32
.BYTE 255,255,3,161,185,130,254,0,32
.BYTE 238,226,226,226,234,226,238,224,32
.BYTE 56,56,56,56,56,42,42,56,17
.BYTE 227,227,227,227,227,171,171,227,25
.BYTE 199,199,199,199,199,213,213,199,49
.BYTE 24,24,24,24,24,90,90,24,24
.BYTE 243,243,243,243,243,147,147,243,16
.BYTE 207,207,207,207,207,201,201,207,40
;70
.BYTE 0,255,181,170,181,170,181,0,40
.BYTE 0,249,65,161,65,161,65,0,56
.BYTE 255,170,181,170,181,170,0,255,40
.BYTE 249,161,65,161,65,161,0,249,56
.BYTE 181,170,181,170,181,0,255,170,40
.BYTE 65,161,65,161,65,0,249,161,56
.BYTE 227,247,227,201,209,168,144,190,57
.BYTE 144,182,144,190,144,160,144,160,57
.BYTE 144,160,144,160,144,160,144,128,57
.BYTE 0,0,4,2,0,0,0,6,14
;80
.BYTE 0,0,2,12,0,4,2,0,13
.BYTE 0,0,10,16,0,10,4,0,15
.BYTE 0,0,0,0,0,0,0,0,8
.BYTE 0,0,64,48,0,0,64,0,14
.BYTE 0,48,64,32,0,64,48,0,13
.BYTE 0,0,40,80,0,0,96,24,15
.BYTE 255,128,128,128,159,144,144,144,40
.BYTE 255,0,0,0,255,0,0,0,40
.BYTE 255,0,0,0,255,8,8,8,40
.BYTE 255,1,1,1,249,9,9,9TE 195,129,161,161,185,129,253,1,32
.BYTE 194,130,162,162,186,130,190,128,32
.BYTE 112,114,114,114,114,114,118,112,32
.BYTE 253,129,161,161,185,129,227,31,32
.BYTE 190,130,162,162,186,130,198,248,32
.BYTE 14,142,174,174,174,142,238,14,32
.BYTE 229,229,229,229,229,229,229,229,16
;FELCH
.BYTE 1,1,1,1,1,1,1,1,8
.BYTE 3,3,3,3,7,7,15,31,8
.BYTE 192,191,223,175,215,171,212,172,8
;130
.BYTE 0,255,255,255,255,255,0,0,8
.BYTE 1,252,250,246,238,222,62,62,8
.BYTE 212,172,212,172,212,172,212,172,8
.BYTE 62,62,62,62,62,62,62,62,8
.BYTE 212,172,215,174,221,186,245,255,8
.BYTE 0,0,255,170,85,170,85,255,8
.BYTE 62,62,222,174,86,170,85,255,8
;TV
.BYTE 223,191,96,204,208,208,192,193,40
.BYTE 255,255,0,102,68,0,255,0,40
.BYTE 250,252,2,13,17,17,1,129,40
;140
.BYTE 218,210,210,194,218,210,210,194,40
.BYTE 205,201,201,193,205,201,201,193,40
.BYTE 193,204,208,208,192,96,191,0,40
.BYTE 255,255,0,102,68,0,255,128,40
.BYTE 129,13,17,17,2,4,250,0,40
.BYTE 255,223,247,254,255,255,255,255,56
.BYTE 255,170,255,127,255,255,255,255,40
.BYTE 255,239,174,170,255,255,255,255,16
.BYTE 255,189,255,253,255,255,255,255,48
;	TV PIC 1	( TREE )
.BYTE 255,224,223,223,223,223,216,216,8
;150
.BYTE 255,15,255,255,255,255,0,170,8
.BYTE 254,253,250,239,250,245,254,253,32
.BYTE 32,64,32,0,130,5,170,81,32
.BYTE 223,219,223,219,223,218,216,216,8
.BYTE 84,170,212,170,212,170,4,2,8
.BYTE 223,255,223,255,223,235,213,234,8
.BYTE 195,240,248,248,248,248,248,248,16
.BYTE 31,95,159,64,252,83,240,3,32
.BYTE 255,255,255,0,255,87,42,20,32
.BYTE 192,199,192,32,255,224,31,0,32
;160
.BYTE 7,15,15,31,31,7,0,0,34
;FUZ
.BYTE 190,255,183,237,255,127,219,255,120
.BYTE 251,223,255,183,254,239,251,127,120
.BYTE 239,191,245,127,255,214,255,189,120
;	TV PIC 2	( FENCE )
.BYTE 253,255,255,255,255,207,251,255,8
.BYTE 251,253,127,248,192,128,128,0,8
.BYTE 253,251,143,3,3,1,1,1,8
.BYTE 253,247,239,127,255,250,239,255,8
.BYTE 255,255,94,235,255,255,254,255,8
.BYTE 170,255,85,170,85,170,85,0,79
;170
.BYTE 170,255,85,170,85,170,85,0,77
.BYTE 127,207,183,183,215,187,187,187,8
.BYTE 251,207,127,255,254,252,248,245,8
.BYTE 0,0,0,0,0,5,170,85,8
.BYTE 0,0,0,0,42,85,170,85,8
.BYTE 187,187,183,183,183,119,247,79,8
; LIFT
.BYTE 190,87,170,85,170,85,170,85,8
.BYTE 170,213,234,95,174,85,174,85,8
.BYTE 170,85,170,255,174,85,166,85,8
.BYTE 174,125,234,223,178,99,194,131,8
.BYTE 170,85,170,85,170,85,170,85,8
.BYTE 174,85,175,92,184,116,191,117,8
.BYTE 174,85,254,7,3,5,255,85,8
.BYTE 130,131,194,99,178,223,234,213,8
.BYTE 170,85,170,85,171,87,174,93,8
.BYTE 255,213,234,255,170,85,170,85,8
.BYTE 255,85,170,255,170,85,170,85,8
.BYTE 234,117,234,245,186,93,174,87,8
;	PYLON
.BYTE 0,0,3,7,6,7,3,0,13
.BYTE 6,6,135,75,203,75,139,15,15
.BYTE 0,0,0,1,6,29,106,127,15
.BYTE 15,27,107,219,174,85,170,255,15
.BYTE 0,255,170,85,170,85,1090hXbj\@`XlXlXlXjXlXdnXb`dXbj\@bXlXdhXrlXbdpX`XdjjX`Xbj\@bdpXhpXhpXhpXjbXlfXdjdXhpXbj\@lhXc1aahQr"*2Jr)hQr)AJ
;200
.BYTE 19,5,19,5,19,5,19,5,40
.BYTE 65,20,129,168,186,255,255,255,40
.BYTE 100,101,103,103,103,103,103,103,57
.BYTE 38,1190fXbjXnXb`\@br`XbrhXddlXdhdXdj`XdjdXdjhXdjjXfd\@djfXbfbXblnXbnjXbjrXbrbXbdnXdjjXfd\@`X`X`X`X`X`X`X`X`\@djjXbdnXbrbXbjrXbnjXbfjXdjbXbXfh\@djjXdjhXdjdXdj`XdhdXddlXdddXbdpXfhvdb`\@`X`X`X`X`X`X`XdjjXb`h\@`X`X`X`X`X`X`XdjjXh`\@ddhXddhXddhXddhXddhXddhXddhXddhXbbb\@nXnXnXnXnXnXnXnXh`\@bdnXbdnXlfXlfXjjXbnrXbpX`Xp\@nrXbhhXdhdXdjhXdjhXbrbXbrbXdjbXp\@djhXdhhXdjjXdjjXdjhXdh`XddhXdjdXp\@djjXdjjXbfcCra?Cra?04(4(	eQ04(	eQ 04(	eQ4(	eQ04(	eQ4(	eQ4(	eQ4(	eQ                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                55,255,63,231,255,255,255,191,8
.BYTE 255,127,4,63,127,127,127,255,8
.BYTE 127,127,255,231,27,127,255,255,8
; 230
.BYTE 255,1,127,255,255,127,1,62,8
.BYTE 255,255,255,255,255,255,255,255,8
.BYTE 224,249,255,254,254,189,253,254,8
.BYTE 141,205,223,223,255,255,255,255,8
.BYTE 243,255,251,231,255,191,189,127,8
.BYTE 253,254,254,254,255,255,255,255,8
.BYTE 239,239,239,239,255,251,251,251,8
.BYTE 239,239,239,255,239,239,239,239,8
.BYTE 119,255,191,191,191,223,223,255,8
.BYTE 131,248,255,255,255,223,255,255,8
; 240
.BYTE 252,254,253,253,255,247,247,247,8
.BYTE 255,96,48,24,12,6,3,1,15
.BYTE 255,255,129,66,36,24,255,255,15
.BYTE 255,6,12,24,48,96,192,128,15
.BYTE 254,130,162,162,154,188,126,255,34
.BYTE 190,194,226,242,250,252,254,255,34
.BYTE 253,131,167,175,159,191,127,255,34
.BYTE 0,0,0,0,0,0,0,0,40
.BYTE 0,0,0,0,0,0,0,0,16
.BYTE 85,170,170,170,170,255,170,85,40
; 250
.BYTE 255,255,253,255,255,255,255,191,8
.BYTE 0,0,0,0,0,0,0,0,121
.BYTE 8,8,8,255,128,128,128,255,16
.BYTE 128,255,0,255,255,255,255,255,120
.BYTE 109,255,255,255,179,144,4,64,4
GTBAK: LD HL,MANBF
LD DE,MANBF+1
LD BC,47
LD (HL),255
LDIR
LD A,2
LD (CC),A
LD (CB),A
RET
GTBK2: XOR A
LD (CC),A
LD (CB),A
RET
MONUP: LD HL,MONEY+10
LD C,6
LD A,58
MONL2: INC (HL)
CP (HL)
JR NZ,PRMON
LD (HL),48
DEC HL
DEC C
JR NZ,MONL2
PRMON:	DJNZ MONUP
MONYP:	LD DE,20582
	LD C,14
	LD HL,PENGE
	JP PRINT

;
CLSLF:	LD	HL,0C000H
	XOR	A
CLSLF3:	LD	C,24
CLSLF2:	LD	B,42
CLSLF1:	LD	(HL),A
	INC	L
	DJNZ	CLSLF1
	LD	DE,22
	ADD	HL,DE
	DEC	C
	JR	NZ,CLSLF2
	INC	H
	INC	H		
	JR	NZ,CLSLF3	
	RET
;
SPCHR:	.TEXT	"                     "
;
; DATA FOR NINJA THINGY EMBEDDED IN EXPLOSION ON TITLE SCREENS (SPECCY FRMT)
;
HSPCD: .BYTE 234,66,0,48,124,122,62,15,7,1,234,44,0,143,31,31,23,31,5,3,65,73
.BYTE 234,15,0,1,35,3,3,3,195,234,4,3,1,1,33,234,107,0,152,228,210,243,249,248
.BYTE 156,140,136,161,163,127,234,7,255,234,4,127,234,7,63,31,31,7,1,234,8,0
.BYTE 1,15,75,31,31,31,255,253,254,253,232,213,248,244,250,253,254,125,126,63
.BYTE 59,191,191,63,127,127,254,255,255,255,250,241,224,245,232,213,170,213
.BYTE 232,245,248,252,254,220,254,253,254,255,127,63,15,15,135,3,3,3,97,234
.BYTE 11,0,1,49,17,1,234,82,0,152,164,116,120,244,235,254,207,3,0,0,128,192
.BYTE 192,224,224,234,14,255,120,234,7,0,224,254,255,255,255,95,171,5,163,81
.BYTE 170,85,170,85,42,85,170,85,170,85,170,85,170,85,170,85,170,85,232
.BYTE 245,250,117,42,85,170,85,170,85,170,85,170,87,43,87,42,85,42,85,170,85
.BYTE 170,213,171,223,254,253,250,245,248,241,250,241,250,117,250,253,254
.BYTE 255,255,223,250,244,232,241,226,241,250,213,58,125,30,234,77,0,3,4,132
.BYTE 113,254,255,127,127,63,15,31,234,12,255,254,248,234,13,0,128,192,224
.BYTE 113,249,255,171,85,171,85,174,85,170,85,170,85,170,93,170,85,170,85,175
.BYTE 87,174,93,254,245,232,209,226,213,162,69,170,69,170,85,170,85,170,85
.BYTE 170,85,170,85,170,95,251,85,162,1,42,85,170,85,170,85,170,85,170,85,170
.BYTE 125,232,85,171,95,191,85,170,85,170,85,43,95,191,234,64,0,1,3,7,7,234,9
.BYTE 15,135,135,7,119,234,20,255,127,127,255,255,127,127,127,255,255,127,127
.BYTE 127,255,255,127,127,234,13,255,127,191,95,175,87,235,117,170,87,170,21
.BYTE 170,5,34,81,170,85,170,85,170,85,170,85,170,85,170,85,170,85,170,85,170
.BYTE 85,170,193,232,116,170,117,170,85,170,85,170,85,170,85,170,85,170,253
.BYTE 254,223,175,245,232,245,250,213,250,253,254,234,62,0,28,127,234,7,255
.BYTE 135,1,0,207,69,192,234,58,255,254,253,175,247,250,85,170,85,170,85,170
.BYTE 85,170,85,170,85,170,85,170,85,170,85,171,87,174,92,184,117,170,117,170
.BYTE 125,46,87,10,87,170,87,171,85,170,85,170,85,191,255,170,245,232,85,170
.BYTE 85,170,85,171,95,191,234,12,32,234,15,16,63,63,63,234,6,9,8,8,8,11,234
.BYTE 4,7,234,4,5,234,6,3,7,4,7,234,4,3,7,7,7,135,199,199,231,231,247,247,234
.BYTE 5,255,127,234,34,255,223,191,127,234,19,255,222,182,122,255,255,223,175
.BYTE 85,170,85,170,85,170,85,170,85,170,85,170,85,170,95,186,85,250,93,14,87
.BYTE 171,85,170,85,170,85,170,85,170,85,170,85,250,93,170,85,170,85,170,253
.BYTE 254,93,174,85,170,85,170,85,170,213,255,234,24,2,251,199,233,186,167,193
.BYTE 129,162,146,210,195,135,234,11,255,234,4,253,234,5,255,7,248,234,25,255
.BYTE 199,248,255,255,255,234,5,254,252,252,254,254,255,255,255,254,254,234,4
.BYTE 255,143,127,234,8,255,249,254,234,17,255,239,223,238,247,187,95,190,95
.BYTE 171,85,171,85,170,85,170,85,170,85,232,245,170,119,187,87,170,87,170,85
.BYTE 170,84,170,85,170,85,170,85,170,85,170,81,162,69,138,69,170,69,170,85,170
.BYTE 85,170,85,170,85,175,95,255,234,56,0,128,128,128,0,0,234,12,128,234,10,64
.BYTE 192,240,240,234,10,32,234,7,16,208,254,255,255,254,254,124,60,152,234,4
.BYTE 144,248,60,252,200,200,136,234,8,8,4,4,132,132,196,196,228,244,244,252
.BYTE 252,188,31,239,215,239,253,255,125,191,95,254,127,232,244,224,193,138,21
.BYTE 138,21,42,21,42,85,42,85,170,85,170,85,170,85,171,85,171,213,170,85,170
.BYTE 87,175,87,175,127,255,127,234,5,255,234,143,0,129,248,252,252,249,87,235
.BYTE 255,255,85,170,85,0,1,170,85,170,85,170,85,170,85,170,85,170,85,170,95
.BYTE 255,213,162,65,138,85,171,95,234,13,255,234,144,0,3,32,0,204,110,254,253
.BYTE 255,253,191,95,174,85,170,85,170,85,171,85,171,85,171,87,171,85,171,247
.BYTE 251,95,191,95,191,127,234,15,255
;ATTR
.BYTE 234,27,14,234,5,8,234,27,14,234,5,8,234,27,14,234,5,8,234,27,14,8,16,234
.BYTE 30,14,8,16,234,30,14,8,8,234,30,14,8,8,234,29,14,8,8,40,8,234,23,14,234
.BYTE 5,8,16,8,8,8,234,23,14,8,16,8,8,8,16,16,8,8,234,24,14,234,6,8,40,8,234
.BYTE 24,14,234,8,8,234,24,14,234,8,8,234,24,14,234,8,8,234,23,14,8,8,16,234,4,8,40,8,234,23,14
.BYTE 8,16,16,16,234,5,8,234,24,14,8,16,16,16,234,4,8,234,23,14,8,234,7,16,8,8
.BYTE 234,22,14,8,234,8,16,8,8,234,21,14,8,234,10,16,234,22,14,8,234,9,16,234
.BYTE 23,14,234,9,16,234,22,14,8,234,9,16,234,23,14,234,9,16
.BYTE 123
;
; PRINT UP NINJA THINGY. 
;
INITHI:	LD	HL,INTFLG
	SET	0,(HL)
	CALL	INKS1
	LD 	HL,HSPCD
	LD 	DE,BUFFD
NXEXB: 	LD 	A,(HL)
	CP 	123
	JR 	Z,DRWPC
	CP 	234
	JR 	Z,XPAND
	LD 	B,1
LPEX1: 	LD 	(DE),A
	INC 	DE
	DJNZ 	LPEX1
	INC 	HL
	JR 	NXEXB
XPAND: 	INC	HL
	LD 	B,(HL)
	INC 	HL
	LD 	A,(HL)
	JR 	LPEX1
DRWPC:	LD	HL,BUFFD+2112+21
	LD	DE,BUFFD+2880
	LD	B,11
DRW1:	PUSH	HL
	LD	C,24
DRW2:	LD	A,(HL)
	RRCA
	RRCA
	RRCA
	AND	7
	CP	5
	JR	NZ,DRW5		; THREE IF FIVE , 1&2 IS BLUE&RED
	LD	A,3
DRW5:	DEC	A
	AND	3
	PUSH	BC
	LD	C,A
	XOR	A
	RR	C
	JR	NC,DRW6
	OR	00FH
DRW6:	RR	C
	JR	NC,DRW7
	OR	0F0H
DRW7:	POP	BC
	LD	(DE),A
	INC	DE
	LD	A,L
	ADD	A,32
	LD	L,A
	JR	NC,DRW3
	INC	H
DRW3:	DEC	C
	JR	NZ,DRW2
	POP	HL
	INC	HL
	DJNZ	DRW1
	LD 	HL,0C02AH	; AMSTRAD START POS.
	LD 	DE,BUFFD
	EXX
	LD	HL,BUFFD+2880
	EXX
	LD 	B,11
EXL2: 	LD 	C,24
	PUSH 	HL
EXL1: 	PUSH 	BC
	PUSH 	HL
	LD 	B,8
EXL3: 	LD 	A,(DE)
	PUSH	DE
	LD	D,.UBYTE EXPTAB
	LD	E,A
	LD	A,(DE)		; EXPAND BYTE AND PUT IN D.F.
	EXX
	OR	(HL)
	EXX
	LD	(HL),A
	INC	D
	LD	A,(DE)
	INC	L
	EXX
	OR	(HL)
	EXX
	LD	(HL),A
	POP	DE
	DEC	L
	LD	A,H
	ADD	A,8
	LD	H,A		; NEXT PIX
	INC 	DE
	DJNZ 	EXL3
	EXX
	INC	HL
	EXX
	POP	HL
	LD	BC,040H
	ADD	HL,BC
	POP 	BC
	DEC 	C
	JR 	NZ,EXL1
	POP 	HL
	INC 	HL
	INC	HL
	DJNZ 	EXL2
	CALL CLSLF
	RET
;
FNISH: CALL INITHI
LD B,15
LD HL,TABLE
LL1: LD DE,MONEY+5
PUSH HL
LD C,6
S2: LD A,(DE)
CP (HL)
JR NZ,ENDSS
INC HL
INC DE
DEC C
JR NZ,S2
S1: POP HL
LD DE,17
ADD HL,DE
DJNZ LL1
JP TABDR
ENDSS: JR C,S1
POP HL
ENDST: PUSH BC
LD DE,16451
LD HL,CONGR
LD C,15
CALL PRINT
LD DE,16546
LD C,18
CALL PRINT
LD DE,16612
LD C,14
CALL PRINT
LD DE,18531
LD C,15
CALL PRINT
CALL INPUT
L24D3: POP BC
LD HL,ZERO
LD DE,Q
L24E0: LD C,17
L24E2: DEC HL
DEC DE
LD A,(DE)
LD (HL),A
DEC C
JR NZ,L24E2
DJNZ L24E0
L24EC: LD HL,MONEY+5
LD BC,6
LDIR	;					*
INC HL
INC HL	;					*
LD C,11
LDIR	;					*
NOYBA: CALL CLSLF
TABDR: LD C,11
LD HL,TOPMS
LD DE,16483
CALL PRINT
LD B,15
LD HL,TABLE
LD DE,16577
L4032: PUSH BC
LD C,6
CALL PRINT
PUSH HL
LD HL,ZERO
LD C,2
CALL PRINT
POP HL
LD C,11
CALL PRINT
PUSH HL
LD HL,13
RR D
RR D
RR D
ADD HL,DE
EX DE,HL
RL D
RL D
RL D
POP HL
;L6000
POP BC
DJNZ L4032
CALL KPASE
LD BC,50000 ; MENU WAIT 1
DLNX1: PUSH BC
CALL KEYB
OR A
POP BC
JR NZ,CLAW1
DEC BC
LD A,B
OR C
JR NZ,DLNX1
;
CLAW1: CALL CLSLF
LD HL,MENU1
LD C,11
LD DE,16515
CALL PRINT
LD C,9
LD DE,16579
CALL PRINT
LD C,11
LD DE,18435
CALL PRINT
LD C,16
LD DE,18531
CALL PRINT
LD C,16
LD DE,18595
CALL PRINT
LD C,13
LD DE,20483
CALL PRINT
CALL PMM		; "Print MAZ-MENU"
CALL KPASE
CALL INICL
LD BC,50000; MENU WAIT 2
DLNX2: PUSH BC		; WHAT IS THE F*ING POINT OF PUSHING THIS NOW???
CALL KEYB		; GIMME!
PUSH AF
LD A,(MATRIX+9)
AND 10H			; JOYSTICK "FIRE"
JP NZ,LASTLAB		; START GAME IF PRESSED
POP AF
CP 75
JP Z,STKBC		; KEYBOARD
CP 84
JP Z,STPRC		; TUNE ON/OFF TOGGLE
CP 74
JP Z,STKMC		; JOUSTICK
CP 82
JP Z,REDEF		; REDEFINE KEYS
CP 77
JP Z,MISSN		; MISSION (SELECTION OF LEVEL)
CP 83
JR NZ,MAZ1
GO4IT: POP BC
JP START
LASTLAB: CALL JOYSTICK	; JOYSTICK FIRE BUTTON WAS HIT - SO SELECT JOYSTICK
JR GO4IT		; AND START GAME!
MAZ1: POP BC
DEC BC
LD A,B
OR C
JR NZ,DLNX2
JP NOYBA
;
MISSN:	CALL CLSLF
	LD DE,16452
	LD HL,MISM1
	LD C,13
	CALL PRINT	; PRINT MISSION TEXT
	LD DE,16516
	LD C,12
	CALL PRINT	; MORE
	LD DE,16611
	LD C,14
	CALL PRINT	; MORE
	LD DE,18466
	LD C,17
	CALL PRINT	; MORE
	CALL KPASE	
	CALL INPUT	; GET STRING
;
; CALCULATE NEW MISSION TYPE
;
	LD B,9		; THERE ARE NINE LEVELS
	LD HL,CODES	; THESE ARE THE LEVEL CODES
NXCDL:	LD DE,NAME	; THIS IS THE NEWLY ENTERED STRING
	LD C,11		; ELEVEN CHARACTERS
	PUSH HL		; SAVE POINTER TO CODES
NXCD2:	LD A,(DE)
	CP (HL)		; CHECK A CHARACTER (WHY NOT USE CPI?)
	JR NZ,NXCDE	; JUMP IF NOT FOUND
	INC HL
	INC DE		; NEXT CHARACTER IN BOTH STRINGS
	DEC C		; DO ELEVEN
	JR NZ,NXCD2	
;
; CODE FOUND NO. IN B
;
	POP HL		; GET BACK THIS 1CE THE CODE WAS FOUND!
	LD A,B		; SELECTED MISSION
	LD (MSLEV),A	; STORE HERE (01 TO 09)
	ADD A,48	; MAKE ASCII 1 TO 9
	LD (MSLMD),A	; PATCH STRING
	LD HL,MSLMS
	LD C,18
	LD DE,18594	; PRINT UP "MISSION X SELECTED" (X IS JUST PATCHED)
	CALL PRINT
	JR JACKB	; CONTINUE THROUGH JACKB
;
MSLEV:	.BYTE 1		; THE LEVEL
MSLMS:	.TEXT "MISSION "
MSLMD:	.TEXT "X SELECTED"	; THE ACKNOWLEDGEMENT TEXT
;
NXCDE:	POP HL		; SUBCODE NOT FOUND - POP ADDR OF LAST LEVEL CODE
	LD DE,11	; CODE FOR NEXT LEVEL
	ADD HL,DE	; GO TO THAT
	DJNZ NXCDL	; GO FOR REST
;
; CODE NOT LISTED
;
	LD HL,NOTRC	; NOT RECGONISED
	LD DE,18597
	LD C,12
	CALL PRINT
	LD DE,18628
	LD C,14
	CALL PRINT
JACKB:	LD HL,BUMER	; PRESS ANY KEY
	LD DE,20644
	LD C,13
	CALL PRINT
	LD DE,20676
	LD C,12
	CALL PRINT
	CALL KPASE
	CALL PAWS0
	POP BC		; IS THIS FROM THE MENU??
	JP CLAW1
PMM:		; "PRINT MAZ-MENU"
LD DE,040C6H
LD C,8
LD HL,MAZMENU
JP PRINT	; RET VIA PRINT
;
REDEF: 	CALL CLSLF
	LD DE,16454
	LD HL,RDFMG
	LD C,13
	CALL PRINT
	CALL KPASE
	LD DE,16516
	LD HL,INSRK
	LD B,5
	LD IX,KEYSEL
DETH1: 	PUSH BC
	LD C,5		; PRINT UP/DOWN/LEFT ETC.
	CALL PRINT
	PUSH HL
	PUSH DE
RSEE2: 	CALL GETKEY
	OR A
	JR Z,RSEE2
	CP 91
	JR NC,RSEE2
	CP 32
	JR Z,RSEE1
	CP 48
	JR C,RSEE2
	CP 58
	JR C,RSEE1
	CP 65
	JR C,RSEE2
RSEE1: 	LD (RSEE3+1),A		; BETWEEN QUOTES.
	LD HL,6
	ADD HL,DE
	EX DE,HL
	LD HL,RSEE3
	LD C,3
	CALL PRINT		; PRINT UP CHOSEN KEY
	LD A,(RSEE3+1)
RSEE4: 	LD HL,MATRIX-1
	PUSH BC
	LD B,0FFH
FINDME:	INC B
	INC HL
	LD A,(HL)
	OR A
	JR Z,FINDME	
	LD (IX),B
	LD (IX+1),A
	LD (IX+10),B
	LD (IX+11),A  		; ALSO ORGSEL!
	INC IX
	INC IX
	CALL KPASE
	POP BC
	POP DE
	LD HL,59
	RR D
	RR D
	RR D
	ADD HL,DE
	EX DE,HL
	RL D
	RL D	
	RL D	
	POP HL
	POP BC
	DJNZ DETH1
	POP BC
	JP CLAW1
;
; DO THEY MEAN US? - THEY SURELY DO.
;
NOTRC:	.TEXT "MISSION CODENOT RECOGNISED"
CODES:	.TEXT "SATORI     "	;	FINAL UNDERSTANDING
	.TEXT "DIM MAK    "
        .TEXT "MI LU KATA "
	.TEXT "GENIN      "
	.TEXT "SAIMENJITSU"
	.TEXT "KUJI KIRI  "
	.TEXT "KIME       "
	.TEXT "JONIN      "
	.TEXT "           "
MISM1: .TEXT "TYPE REQUIREDMISSION CODEOR PRESS ENTERFOR FIRST MISSION"
;
; INPUT WORKS.
;
INPUT: LD B,11
LD HL,NAME
LPOPO: LD (HL),32
INC HL
DJNZ LPOPO
LD B,1
EXX
LD HL,0C38CH	; PANGALACTIC GARGLEBLASTER
EXX
LD DE,18598
LD HL,NAME
NXCHR: PUSH BC
EXX
LD A,255
LD (HL),A
INC L
LD (HL),A
DEC L
EXX
NEXTC: CALL KPASE
CALL RDCH
UPCAS: CP 127
JP Z,DELETE
CP 13
JR Z,ENTER
POP BC
PUSH BC
PUSH DE
LD D,A
LD A,B
CP 12
LD A,D
POP DE
JR Z,NEXTC
CP 32
JR Z,SPACE
CP 65
JP M,NEXTC
CP 92
JP P,NEXTC
SPACE: LD (HL),A
LD C,1
CALL PRINT
EXX
XOR A
LD (HL),A
INC L
LD (HL),A
INC L
EXX
POP BC
INC B
PUSH BC
ENDDL: PUSH DE
PUSH HL
CALL KPASE
POP HL
POP DE
POP BC
JR NXCHR
ENTER: POP BC
EXX
XOR A
LD (HL),A
INC L
LD (HL),A
DEC L
EXX
RET
;
; KPASE - WAITS FOR KEY BEING RELEASED.
; PAWS0 - WAITS FOR KEY BEING PRESSED.
;
KPASE: CALL KEYB
RET NC	; RET IF NO KEYS PRESSED
JR KPASE
PAWS0:	CALL KEYB
RET C	; RET IF A KEY IS PRESSED
JR PAWS0
RSEE3: .BYTE 34,0,35
INSRK: .TEXT "UP   DOWN LEFT RIGHTFIRE "
STKBC:	CALL NOCOL
	LD HL,0C144H
	XOR A
	LD DE,ORGSEL
	CALL NIJL2
	JP MAZ1
;
STPRC: 	LD A,(MAZMENU+7)	; GET LAST CHAR IN THIS MENU
	CP 32
	JR NZ,TURNON
	LD A,70
	LD (MAZMENU+6),A
	LD (MAZMENU+7),A
	CALL MUSIC		; TURN MUSIC OFF
	JR VIDERE              
TURNON:	LD A,78 ;"N"
	LD (MAZMENU+6),A
	LD A,32 ;" "
	LD (MAZMENU+7),A
	CALL XMUSIC
VIDERE:	CALL PMM		; PRINT CHANGE
	CALL KPASE
	LD HL,0C1C4H
	LD A,2
	JP MAZ1
NIJL2:	PUSH HL
	PUSH BC
	LD HL,KEYSEL
	EX DE,HL
	LD BC,10
	LDIR
	POP BC
	POP HL
	CALL SETCOL
BYPASS:	RET
STKMC:  CALL JOYSTICK
	JP MAZ1
JOYSTICK:
	CALL NOCOL
	LD HL,0C244H
	LD A,1
	LD DE,JOYSEL
	JR NIJL2
NOCOL:	XOR A
BRGO1:	LD DE,0C144H
LD B,26
DCLLA:  LD (DE),A
INC DE
DJNZ DCLLA
RET
SETCOL: LD (BRGO1+1),HL
INICL: LD A,0FH
JR BRGO1
MAZMENU:
.TEXT "TUNE OFF" ; IF MAZMENU+7=" ", TUNE IS ON - ELSE OFF
MENU1: 	.BYTE 2
.TEXT "K  KEYBOARDT        J  JOYSTICKR  "
RDFMG: .TEXT "REDEFINE KEYSM  ALTER MISSIONS  START GAME"
DELETE: POP BC
LD A,B
CP 1
JP Z,NXCHR
DEC B
PUSH BC
DEC HL
DEC DE
LD A,32
LD (HL),A
LD C,1
CALL PRINT
DEC HL
DEC DE
EXX
XOR A
LD (HL),A
INC L
LD (HL),A
DEC L
DEC L
DEC L
EXX
JP ENDDL
CONGR: .TEXT "CONGRATULATIONSYOU ARE NOW A TRUENINJA SABOTEURENTER YOUR NAME"
TOPMS:	.BYTE	1	; COLOUR RED
	.TEXT "HIGH SCORES"
TABLE: .TEXT "001000 CLIVE     "
       .TEXT "000140NINA JANE  "
       .TEXT "000130W RUSSEL B "
       .TEXT "000120MICKY!LISA "
       .TEXT "000110LEE        "
       .TEXT "000100DARREN     "
       .TEXT "000090NOEL       "
       .TEXT "000080BRAD AUSTIN"
       .TEXT "000070NICKY      "
       .TEXT "000060JUSTIN     "
       .TEXT "000050CLAIRE     "
       .TEXT "000040JOE TARAO  "
       .TEXT "000030ALAN       "
       .TEXT "000020RICH       "
       .TEXT "000010DIV        "
Q:     .TEXT "SPARE SCORE+NAME "
ZERO:	.TEXT "0 "
NRGUP:	LD HL,NRGPX+1
RRC (HL)
RET NC
LD HL,NRGCR+1
INC (HL)
RET
;
; I PRESUME THIS IS DECREMENT ENERGY
;
DECEN:	LD A,1		; THIS IS POKED IF CLIVE WANTS INFINITE ENERGY
	OR A
	RET Z
DECN2:	PUSH BC
NRGCR:	LD HL,0		; THIS IS PROBABLY POKED AS WELL! (ENERGY LEVEL)
	ADD HL,HL
	LD DE,0C54AH	; 20645 IS THE OLD SPECCY D.F. ADDRESS
	ADD HL,DE	; THIS MAKES UP THE ACTUAL ROW (ON SPECCY)
	PUSH HL
	LD DE,040H
	ADD HL,DE
	POP DE		; HO-HUMM, HL IS ONE LINE DOWN.
NRGPX:	LD C,0		; PROBABLY POKED AS WELL
	LD A,C
	EXX
	PUSH HL
	LD L,A
	LD H,.UBYTE EXPTAB
	LD E,(HL)
	INC H
	LD D,(HL)
	POP HL
	EXX
	LD B,8
NRGL1:	LD A,(HL)
	EXX
	XOR E
	EXX
	LD (HL),A
	LD A,(DE)
	EXX
	XOR E
	EXX
	LD (DE),A
	INC E
	INC L
	LD A,(HL)
	EXX
	XOR D
	EXX
	LD (HL),A
	LD A,(DE)
	EXX
	XOR D
	EXX
	LD (DE),A
	DEC E
	DEC L
	LD A,H
	ADD A,8
	LD H,A
	LD A,D
	ADD A,8
	LD D,A
	DJNZ NRGL1
	LD HL,NRGPX+1
	RLC (HL)
	JR NC,NRGC1
	LD HL,NRGCR+1
	DEC (HL)
	JR NZ,NRGC1
	POP BC
	LD A,1
	LD (DEAD),A
	DEC A
	LD (DECEN+1),A
	RET
NRGC1:	POP BC
	DJNZ DECN2
	RET
;
COMPL:	CALL PLFHN		;			*
LD BC,60000			;			*
COMLP:	DEC BC
	LD A,6
COLP2:	DEC A
	JR NZ,COLP2
	LD A,B
	OR C
	JR NZ,COMLP
CALL INITHI
;MISSION COMLETED?				*
LD A,(CONQU)	;				*
DEC A		;				*
LD A,(TAPTT)	;				*
JR Z,EEUUS	;				*
LD A,(TAPCT)	;				*
EEUUS:	LD HL,NTPND	;			*
CP (HL)			;			*
JP C,FNISH		;			*
CALL PLFHN		;			*
CALL PLFHN		;			*
LD DE,20577		;			*
LD HL,TOTM		;			*
LD C,5			;			*
CALL PRINT		;			*
LD HL,NXMS2
LD DE,16451
LD C,15
CALL PRINT
LD DE,16545
LD C,18
CALL PRINT
LD DE,16608
LD C,21
CALL PRINT
LD A,(MSLEV)
CP 9			;	LAST LEVEL	*
JR NZ,HAK01		;			*
LD HL,UNTIL		;			*
LD DE,18466		;			*
LD C,16			;			*
CALL PRINT		;			*
LD DE,18529		;			*
LD C,18			;			*
CALL PRINT		;			*
LD DE,18626		;			*
LD C,17			;			*
CALL PRINT		;			*
LD DE,20481		;			*
LD C,19			;			*
CALL PRINT		;			*
JP HAK02		;			*
UNTIL:	.TEXT "YOU HAVE REACHEDTHE ULTIMATE LEVEL" ;	*
.TEXT "YOU HAVE MASTEREDTHE ART OF NINJITSU"	   ;	*
TOTM:	.TEXT "TOTAL"	;			*
HAK01:	ADD A,49	;			*
LD (NXMSC+18),A
LD HL,NXMSC
LD DE,18532
LD C,12
CALL PRINT
LD DE,18597
LD C,10
CALL PRINT
LD DE,18661
LD C,1
CALL PRINT
PUSH DE
LD A,(MSLEV)
LD DE,65525
LD HL,CODES+88
COML3:	ADD HL,DE
	DEC A
	JR NZ,COML3
	POP DE
	LD C,11
	CALL PRINT
LD HL,RSEE3+2
LD C,1
CALL PRINT
HAK02:	LD HL,BUMER	;			*
LD DE,20644
LD C,13
CALL PRINT
LD DE,20676
LD C,12
CALL PRINT
CALL KPASE
CALL PAWS0
JP FNISH
PLFHN: LD B,250	;				*
CALL MONUP	;				*
LD B,250	;				*
CALL MONUP	;				*
RET		;				*
NXMS2:	.TEXT "CONGRATULATIONSYOU HAVE COMPLETEDYOUR ASSIGNED MISSION"
NXMSC:	.TEXT "THE CODE FORSTAGE X IS"
	.BYTE 34
RMTIME: .BYTE 0
;
CRUNCH:	LD	A,(MAZMENU+7)
	CP	32
	RET	NZ		; DON'T IF TUNE IS ON!
	LD	A,4
	LD	(NOISE),A
	RET
CURSOR: .BYTE 239,8,8,239,16,4,247,16,2,239,4,1,239,1,16
KYCON:  .BYTE 253,1,8,254,2,4,127,8,2,127,4,1,127,1,16
;
; THIS IS THE CHARACTER SET. IF ANYTHING FUCKS, THE CHARACTER SET DIES FIRST!
;
CHARSET: .BYTE 0,0,0,0,0,0,0,0,0,54,73,65,65,34,20,8,10,10,0,0,0,0,0,0,80,80
.BYTE 0,0,0,0,0,0,0,8,62,40,62,10,62,8,255,255
.BYTE 222,255,237,191,255,0,255,190,251,255,222,255,255,0,0,0,8,0,0,8,0,0,0,28
.BYTE 34,120,32,32,126,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
.BYTE 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,121
